import{openBlock as e,createElementBlock as t,createElementVNode as n,normalizeClass as r,withModifiers as o,Fragment as i,renderList as a,toDisplayString as s,createCommentVNode as u,resolveComponent as c,normalizeStyle as l,createVNode as d,withCtx as f,createBlock as p}from"vue";"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self&&self;function h(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function g(e){if(e.__esModule)return e;var t=Object.defineProperty({},"__esModule",{value:!0});return Object.keys(e).forEach((function(n){var r=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(t,n,r.get?r:{enumerable:!0,get:function(){return e[n]}})})),t}var m={exports:{}},y=function(e,t){return function(){for(var n=new Array(arguments.length),r=0;r<n.length;r++)n[r]=arguments[r];return e.apply(t,n)}},b=y,v=Object.prototype.toString;function w(e){return"[object Array]"===v.call(e)}function S(e){return void 0===e}function _(e){return null!==e&&"object"==typeof e}function A(e){if("[object Object]"!==v.call(e))return!1;var t=Object.getPrototypeOf(e);return null===t||t===Object.prototype}function P(e){return"[object Function]"===v.call(e)}function x(e,t){if(null!=e)if("object"!=typeof e&&(e=[e]),w(e))for(var n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.call(null,e[o],o,e)}var E={isArray:w,isArrayBuffer:function(e){return"[object ArrayBuffer]"===v.call(e)},isBuffer:function(e){return null!==e&&!S(e)&&null!==e.constructor&&!S(e.constructor)&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)},isFormData:function(e){return"undefined"!=typeof FormData&&e instanceof FormData},isArrayBufferView:function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&e.buffer instanceof ArrayBuffer},isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e},isObject:_,isPlainObject:A,isUndefined:S,isDate:function(e){return"[object Date]"===v.call(e)},isFile:function(e){return"[object File]"===v.call(e)},isBlob:function(e){return"[object Blob]"===v.call(e)},isFunction:P,isStream:function(e){return _(e)&&P(e.pipe)},isURLSearchParams:function(e){return"undefined"!=typeof URLSearchParams&&e instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&("undefined"!=typeof window&&"undefined"!=typeof document)},forEach:x,merge:function e(){var t={};function n(n,r){A(t[r])&&A(n)?t[r]=e(t[r],n):A(n)?t[r]=e({},n):w(n)?t[r]=n.slice():t[r]=n}for(var r=0,o=arguments.length;r<o;r++)x(arguments[r],n);return t},extend:function(e,t,n){return x(t,(function(t,r){e[r]=n&&"function"==typeof t?b(t,n):t})),e},trim:function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")},stripBOM:function(e){return 65279===e.charCodeAt(0)&&(e=e.slice(1)),e}},k=E;function O(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}var R=function(e,t,n){if(!t)return e;var r;if(n)r=n(t);else if(k.isURLSearchParams(t))r=t.toString();else{var o=[];k.forEach(t,(function(e,t){null!=e&&(k.isArray(e)?t+="[]":e=[e],k.forEach(e,(function(e){k.isDate(e)?e=e.toISOString():k.isObject(e)&&(e=JSON.stringify(e)),o.push(O(t)+"="+O(e))})))})),r=o.join("&")}if(r){var i=e.indexOf("#");-1!==i&&(e=e.slice(0,i)),e+=(-1===e.indexOf("?")?"?":"&")+r}return e},T=E;function C(){this.handlers=[]}C.prototype.use=function(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1},C.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},C.prototype.forEach=function(e){T.forEach(this.handlers,(function(t){null!==t&&e(t)}))};var M=C,N=E,I=function(e,t,n,r,o){return e.config=t,n&&(e.code=n),e.request=r,e.response=o,e.isAxiosError=!0,e.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}},e},U=I,j=function(e,t,n,r,o){var i=new Error(e);return U(i,t,n,r,o)},L=j,D=E,B=D.isStandardBrowserEnv()?{write:function(e,t,n,r,o,i){var a=[];a.push(e+"="+encodeURIComponent(t)),D.isNumber(n)&&a.push("expires="+new Date(n).toGMTString()),D.isString(r)&&a.push("path="+r),D.isString(o)&&a.push("domain="+o),!0===i&&a.push("secure"),document.cookie=a.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}},$=function(e){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(e)},F=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e},H=E,z=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"],q=E,V=q.isStandardBrowserEnv()?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function r(e){var r=e;return t&&(n.setAttribute("href",r),r=n.href),n.setAttribute("href",r),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return e=r(window.location.href),function(t){var n=q.isString(t)?r(t):t;return n.protocol===e.protocol&&n.host===e.host}}():function(){return!0};function G(e){this.message=e}G.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},G.prototype.__CANCEL__=!0;var W=G,K=E,Z=function(e,t,n){var r=n.config.validateStatus;n.status&&r&&!r(n.status)?t(L("Request failed with status code "+n.status,n.config,null,n.request,n)):e(n)},X=B,J=R,Y=function(e,t){return e&&!$(t)?F(e,t):t},Q=function(e){var t,n,r,o={};return e?(H.forEach(e.split("\n"),(function(e){if(r=e.indexOf(":"),t=H.trim(e.substr(0,r)).toLowerCase(),n=H.trim(e.substr(r+1)),t){if(o[t]&&z.indexOf(t)>=0)return;o[t]="set-cookie"===t?(o[t]?o[t]:[]).concat([n]):o[t]?o[t]+", "+n:n}})),o):o},ee=V,te=j,ne=fe,re=W,oe=function(e){return new Promise((function(t,n){var r,o=e.data,i=e.headers,a=e.responseType;function s(){e.cancelToken&&e.cancelToken.unsubscribe(r),e.signal&&e.signal.removeEventListener("abort",r)}K.isFormData(o)&&delete i["Content-Type"];var u=new XMLHttpRequest;if(e.auth){var c=e.auth.username||"",l=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";i.Authorization="Basic "+btoa(c+":"+l)}var d=Y(e.baseURL,e.url);function f(){if(u){var r="getAllResponseHeaders"in u?Q(u.getAllResponseHeaders()):null,o={data:a&&"text"!==a&&"json"!==a?u.response:u.responseText,status:u.status,statusText:u.statusText,headers:r,config:e,request:u};Z((function(e){t(e),s()}),(function(e){n(e),s()}),o),u=null}}if(u.open(e.method.toUpperCase(),J(d,e.params,e.paramsSerializer),!0),u.timeout=e.timeout,"onloadend"in u?u.onloadend=f:u.onreadystatechange=function(){u&&4===u.readyState&&(0!==u.status||u.responseURL&&0===u.responseURL.indexOf("file:"))&&setTimeout(f)},u.onabort=function(){u&&(n(te("Request aborted",e,"ECONNABORTED",u)),u=null)},u.onerror=function(){n(te("Network Error",e,null,u)),u=null},u.ontimeout=function(){var t=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded",r=e.transitional||ne.transitional;e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),n(te(t,e,r.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",u)),u=null},K.isStandardBrowserEnv()){var p=(e.withCredentials||ee(d))&&e.xsrfCookieName?X.read(e.xsrfCookieName):void 0;p&&(i[e.xsrfHeaderName]=p)}"setRequestHeader"in u&&K.forEach(i,(function(e,t){void 0===o&&"content-type"===t.toLowerCase()?delete i[t]:u.setRequestHeader(t,e)})),K.isUndefined(e.withCredentials)||(u.withCredentials=!!e.withCredentials),a&&"json"!==a&&(u.responseType=e.responseType),"function"==typeof e.onDownloadProgress&&u.addEventListener("progress",e.onDownloadProgress),"function"==typeof e.onUploadProgress&&u.upload&&u.upload.addEventListener("progress",e.onUploadProgress),(e.cancelToken||e.signal)&&(r=function(e){u&&(n(!e||e&&e.type?new re("canceled"):e),u.abort(),u=null)},e.cancelToken&&e.cancelToken.subscribe(r),e.signal&&(e.signal.aborted?r():e.signal.addEventListener("abort",r))),o||(o=null),u.send(o)}))},ie=E,ae=function(e,t){N.forEach(e,(function(n,r){r!==t&&r.toUpperCase()===t.toUpperCase()&&(e[t]=n,delete e[r])}))},se=I,ue={"Content-Type":"application/x-www-form-urlencoded"};function ce(e,t){!ie.isUndefined(e)&&ie.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var le,de={transitional:{silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},adapter:(("undefined"!=typeof XMLHttpRequest||"undefined"!=typeof process&&"[object process]"===Object.prototype.toString.call(process))&&(le=oe),le),transformRequest:[function(e,t){return ae(t,"Accept"),ae(t,"Content-Type"),ie.isFormData(e)||ie.isArrayBuffer(e)||ie.isBuffer(e)||ie.isStream(e)||ie.isFile(e)||ie.isBlob(e)?e:ie.isArrayBufferView(e)?e.buffer:ie.isURLSearchParams(e)?(ce(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):ie.isObject(e)||t&&"application/json"===t["Content-Type"]?(ce(t,"application/json"),function(e,t,n){if(ie.isString(e))try{return(t||JSON.parse)(e),ie.trim(e)}catch(e){if("SyntaxError"!==e.name)throw e}return(n||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){var t=this.transitional||de.transitional,n=t&&t.silentJSONParsing,r=t&&t.forcedJSONParsing,o=!n&&"json"===this.responseType;if(o||r&&ie.isString(e)&&e.length)try{return JSON.parse(e)}catch(e){if(o){if("SyntaxError"===e.name)throw se(e,this,"E_JSON_PARSE");throw e}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};ie.forEach(["delete","get","head"],(function(e){de.headers[e]={}})),ie.forEach(["post","put","patch"],(function(e){de.headers[e]=ie.merge(ue)}));var fe=de,pe=E,he=fe,ge=function(e){return!(!e||!e.__CANCEL__)},me=E,ye=function(e,t,n){var r=this||he;return pe.forEach(n,(function(n){e=n.call(r,e,t)})),e},be=ge,ve=fe,we=W;function Se(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new we("canceled")}var _e=E,Ae=function(e,t){t=t||{};var n={};function r(e,t){return _e.isPlainObject(e)&&_e.isPlainObject(t)?_e.merge(e,t):_e.isPlainObject(t)?_e.merge({},t):_e.isArray(t)?t.slice():t}function o(n){return _e.isUndefined(t[n])?_e.isUndefined(e[n])?void 0:r(void 0,e[n]):r(e[n],t[n])}function i(e){if(!_e.isUndefined(t[e]))return r(void 0,t[e])}function a(n){return _e.isUndefined(t[n])?_e.isUndefined(e[n])?void 0:r(void 0,e[n]):r(void 0,t[n])}function s(n){return n in t?r(e[n],t[n]):n in e?r(void 0,e[n]):void 0}var u={url:i,method:i,data:i,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:s};return _e.forEach(Object.keys(e).concat(Object.keys(t)),(function(e){var t=u[e]||o,r=t(e);_e.isUndefined(r)&&t!==s||(n[e]=r)})),n},Pe="0.24.0",xe=Pe,Ee={};["object","boolean","number","function","string","symbol"].forEach((function(e,t){Ee[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}}));var ke={};Ee.transitional=function(e,t,n){function r(e,t){return"[Axios v"+xe+"] Transitional option '"+e+"'"+t+(n?". "+n:"")}return function(n,o,i){if(!1===e)throw new Error(r(o," has been removed"+(t?" in "+t:"")));return t&&!ke[o]&&(ke[o]=!0,console.warn(r(o," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,o,i)}};var Oe={assertOptions:function(e,t,n){if("object"!=typeof e)throw new TypeError("options must be an object");for(var r=Object.keys(e),o=r.length;o-- >0;){var i=r[o],a=t[i];if(a){var s=e[i],u=void 0===s||a(s,i,e);if(!0!==u)throw new TypeError("option "+i+" must be "+u)}else if(!0!==n)throw Error("Unknown option "+i)}},validators:Ee},Re=E,Te=R,Ce=M,Me=function(e){return Se(e),e.headers=e.headers||{},e.data=ye.call(e,e.data,e.headers,e.transformRequest),e.headers=me.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),me.forEach(["delete","get","head","post","put","patch","common"],(function(t){delete e.headers[t]})),(e.adapter||ve.adapter)(e).then((function(t){return Se(e),t.data=ye.call(e,t.data,t.headers,e.transformResponse),t}),(function(t){return be(t)||(Se(e),t&&t.response&&(t.response.data=ye.call(e,t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)}))},Ne=Ae,Ie=Oe,Ue=Ie.validators;function je(e){this.defaults=e,this.interceptors={request:new Ce,response:new Ce}}je.prototype.request=function(e){"string"==typeof e?(e=arguments[1]||{}).url=arguments[0]:e=e||{},(e=Ne(this.defaults,e)).method?e.method=e.method.toLowerCase():this.defaults.method?e.method=this.defaults.method.toLowerCase():e.method="get";var t=e.transitional;void 0!==t&&Ie.assertOptions(t,{silentJSONParsing:Ue.transitional(Ue.boolean),forcedJSONParsing:Ue.transitional(Ue.boolean),clarifyTimeoutError:Ue.transitional(Ue.boolean)},!1);var n=[],r=!0;this.interceptors.request.forEach((function(t){"function"==typeof t.runWhen&&!1===t.runWhen(e)||(r=r&&t.synchronous,n.unshift(t.fulfilled,t.rejected))}));var o,i=[];if(this.interceptors.response.forEach((function(e){i.push(e.fulfilled,e.rejected)})),!r){var a=[Me,void 0];for(Array.prototype.unshift.apply(a,n),a=a.concat(i),o=Promise.resolve(e);a.length;)o=o.then(a.shift(),a.shift());return o}for(var s=e;n.length;){var u=n.shift(),c=n.shift();try{s=u(s)}catch(e){c(e);break}}try{o=Me(s)}catch(e){return Promise.reject(e)}for(;i.length;)o=o.then(i.shift(),i.shift());return o},je.prototype.getUri=function(e){return e=Ne(this.defaults,e),Te(e.url,e.params,e.paramsSerializer).replace(/^\?/,"")},Re.forEach(["delete","get","head","options"],(function(e){je.prototype[e]=function(t,n){return this.request(Ne(n||{},{method:e,url:t,data:(n||{}).data}))}})),Re.forEach(["post","put","patch"],(function(e){je.prototype[e]=function(t,n,r){return this.request(Ne(r||{},{method:e,url:t,data:n}))}}));var Le=je,De=W;function Be(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise((function(e){t=e}));var n=this;this.promise.then((function(e){if(n._listeners){var t,r=n._listeners.length;for(t=0;t<r;t++)n._listeners[t](e);n._listeners=null}})),this.promise.then=function(e){var t,r=new Promise((function(e){n.subscribe(e),t=e})).then(e);return r.cancel=function(){n.unsubscribe(t)},r},e((function(e){n.reason||(n.reason=new De(e),t(n.reason))}))}Be.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},Be.prototype.subscribe=function(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]},Be.prototype.unsubscribe=function(e){if(this._listeners){var t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}},Be.source=function(){var e,t=new Be((function(t){e=t}));return{token:t,cancel:e}};var $e=Be,Fe=E,He=y,ze=Le,qe=Ae;var Ve=function e(t){var n=new ze(t),r=He(ze.prototype.request,n);return Fe.extend(r,ze.prototype,n),Fe.extend(r,n),r.create=function(n){return e(qe(t,n))},r}(fe);Ve.Axios=ze,Ve.Cancel=W,Ve.CancelToken=$e,Ve.isCancel=ge,Ve.VERSION=Pe,Ve.all=function(e){return Promise.all(e)},Ve.spread=function(e){return function(t){return e.apply(null,t)}},Ve.isAxiosError=function(e){return"object"==typeof e&&!0===e.isAxiosError},m.exports=Ve,m.exports.default=Ve;var Ge=m.exports;class We{trace(){}debug(){}info(){}warn(){}error(){}}const Ke=()=>{let e=[],t=[];const n=new Set,r=n=>(e.forEach((e=>{n.add(e.middleware,{...e})})),t.forEach((e=>{n.addRelativeTo(e.middleware,{...e})})),n),o=e=>{const t=[];return e.before.forEach((e=>{0===e.before.length&&0===e.after.length?t.push(e):t.push(...o(e))})),t.push(e),e.after.reverse().forEach((e=>{0===e.before.length&&0===e.after.length?t.push(e):t.push(...o(e))})),t},i=(n=!1)=>{const r=[],i=[],a={};e.forEach((e=>{const t={...e,before:[],after:[]};t.name&&(a[t.name]=t),r.push(t)})),t.forEach((e=>{const t={...e,before:[],after:[]};t.name&&(a[t.name]=t),i.push(t)})),i.forEach((e=>{if(e.toMiddleware){const t=a[e.toMiddleware];if(void 0===t){if(n)return;throw new Error(`${e.toMiddleware} is not found when adding ${e.name||"anonymous"} middleware ${e.relation} ${e.toMiddleware}`)}"after"===e.relation&&t.after.push(e),"before"===e.relation&&t.before.push(e)}}));const s=(u=r,u.sort(((e,t)=>Ze[t.step]-Ze[e.step]||Xe[t.priority||"normal"]-Xe[e.priority||"normal"]))).map(o).reduce(((e,t)=>(e.push(...t),e)),[]);var u;return s},a={add:(t,r={})=>{const{name:o,override:i}=r,a={step:"initialize",priority:"normal",middleware:t,...r};if(o){if(n.has(o)){if(!i)throw new Error(`Duplicate middleware name '${o}'`);const t=e.findIndex((e=>e.name===o)),n=e[t];if(n.step!==a.step||n.priority!==a.priority)throw new Error(`"${o}" middleware with ${n.priority} priority in ${n.step} step cannot be overridden by same-name middleware with ${a.priority} priority in ${a.step} step.`);e.splice(t,1)}n.add(o)}e.push(a)},addRelativeTo:(e,r)=>{const{name:o,override:i}=r,a={middleware:e,...r};if(o){if(n.has(o)){if(!i)throw new Error(`Duplicate middleware name '${o}'`);const e=t.findIndex((e=>e.name===o)),n=t[e];if(n.toMiddleware!==a.toMiddleware||n.relation!==a.relation)throw new Error(`"${o}" middleware ${n.relation} "${n.toMiddleware}" middleware cannot be overridden by same-name middleware ${a.relation} "${a.toMiddleware}" middleware.`);t.splice(e,1)}n.add(o)}t.push(a)},clone:()=>r(Ke()),use:e=>{e.applyToStack(a)},remove:r=>"string"==typeof r?(r=>{let o=!1;const i=e=>!e.name||e.name!==r||(o=!0,n.delete(r),!1);return e=e.filter(i),t=t.filter(i),o})(r):(r=>{let o=!1;const i=e=>e.middleware!==r||(o=!0,e.name&&n.delete(e.name),!1);return e=e.filter(i),t=t.filter(i),o})(r),removeByTag:r=>{let o=!1;const i=e=>{const{tags:t,name:i}=e;return!t||!t.includes(r)||(i&&n.delete(i),o=!0,!1)};return e=e.filter(i),t=t.filter(i),o},concat:e=>{const t=r(Ke());return t.use(e),t},applyToStack:r,identify:()=>i(!0).map((e=>e.name+": "+(e.tags||[]).join(","))),resolve:(e,t)=>{for(const n of i().map((e=>e.middleware)).reverse())e=n(e,t);return e}};return a},Ze={initialize:5,serialize:4,build:3,finalizeRequest:2,deserialize:1},Xe={high:3,normal:2,low:1};class Je{constructor(e){this.middlewareStack=Ke(),this.config=e}send(e,t,n){const r="function"!=typeof t?t:void 0,o="function"==typeof t?t:n,i=e.resolveMiddleware(this.middlewareStack,this.config,r);if(!o)return i(e).then((e=>e.output));i(e).then((e=>o(null,e.output)),(e=>o(e))).catch((()=>{}))}destroy(){this.config.requestHandler.destroy&&this.config.requestHandler.destroy()}}class Ye{constructor(){this.middlewareStack=Ke()}}const Qe="***SensitiveInformation***",et=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],tt=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];class nt extends Error{constructor(e){super(e.message),Object.setPrototypeOf(this,nt.prototype),this.name=e.name,this.$fault=e.$fault,this.$metadata=e.$metadata}}const rt=({output:e,parsedBody:t,exceptionCtor:n,errorCode:r})=>{const o=ot(e),i=o.httpStatusCode?o.httpStatusCode+"":void 0;throw((e,t={})=>{Object.entries(t).filter((([,e])=>void 0!==e)).forEach((([t,n])=>{null!=e[t]&&""!==e[t]||(e[t]=n)}));const n=e.message||e.Message||"UnknownError";return e.message=n,delete e.Message,e})(new n({name:t?.code||t?.Code||r||i||"UnknownError",$fault:"client",$metadata:o}),t)},ot=e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),it=e=>{switch(e){case"standard":case"cross-region":return{retryMode:"standard",connectionTimeout:3100};case"in-region":return{retryMode:"standard",connectionTimeout:1100};case"mobile":return{retryMode:"standard",connectionTimeout:3e4};default:return{}}};function at(e){return encodeURIComponent(e).replace(/[!'()*]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()}))}const st=e=>{const t="#text";for(const n in e)e.hasOwnProperty(n)&&void 0!==e[n][t]?e[n]=e[n][t]:"object"==typeof e[n]&&null!==e[n]&&(e[n]=st(e[n]));return e},ut=function(){const e=Object.getPrototypeOf(this).constructor,t=new(Function.bind.apply(String,[null,...arguments]));return Object.setPrototypeOf(t,e.prototype),t};function ct(e,t,n){let r,o,i;if(void 0===t&&void 0===n)r={},i=e;else{if(r=e,"function"==typeof t)return o=t,i=n,lt(r,o,i);i=t}for(const e of Object.keys(i))Array.isArray(i[e])?dt(r,null,i,e):r[e]=i[e];return r}ut.prototype=Object.create(String.prototype,{constructor:{value:ut,enumerable:!1,writable:!0,configurable:!0}}),Object.setPrototypeOf(ut,String);const lt=(e,t,n)=>ct(e,Object.entries(n).reduce(((e,[n,r])=>(Array.isArray(r)?e[n]=r:e[n]="function"==typeof r?[t,r()]:[t,r],e)),{})),dt=(e,t,n,r)=>{if(null!==t){let o=n[r];"function"==typeof o&&(o=[,o]);const[i=ft,a=pt,s=r]=o;return void(("function"==typeof i&&i(t[s])||"function"!=typeof i&&i)&&(e[r]=a(t[s])))}let[o,i]=n[r];if("function"==typeof i){let t;const n=void 0===o&&null!=(t=i()),a="function"==typeof o&&!!o(void 0)||"function"!=typeof o&&!!o;n?e[r]=t:a&&(e[r]=i())}else{const t=void 0===o&&null!=i,n="function"==typeof o&&!!o(i)||"function"!=typeof o&&!!o;(t||n)&&(e[r]=i)}},ft=e=>null!=e,pt=e=>e,ht=(e,t,n,r,o,i)=>{if(null==t||void 0===t[n])throw new Error("No value provided for input HTTP label: "+n+".");{const t=r();if(t.length<=0)throw new Error("Empty value provided for input HTTP label: "+n+".");e=e.replace(o,i?t.split("/").map((e=>at(e))).join("/"):at(t))}return e},gt=/^[a-z0-9][a-z0-9\.\-]{1,61}[a-z0-9]$/,mt=/(\d+\.){3}\d+/,yt=/\.\./,bt=e=>gt.test(e)&&!mt.test(e)&&!yt.test(e),vt=e=>{const[t,n,r,o,i,a]=e.split(":"),s="arn"===t&&e.split(":").length>=6,u=5===[t,n,r,i,a].filter(Boolean).length;if(s&&!u)throw new Error(`Invalid ARN: ${e} was an invalid ARN.`);return!!("arn"===t&&n&&r&&i&&a)},wt=(e,t,n)=>{const r=async()=>{const r=n[e]??n[t];return"function"==typeof r?r():r};return"endpoint"===e||"endpoint"===t?async()=>{const e=await r();if(e&&"object"==typeof e){if("url"in e)return e.url.href;if("hostname"in e){const{protocol:t,hostname:n,port:r,path:o}=e;return`${t}//${n}${r?":"+r:""}${o}`}}return e}:r},St=async(e,t,n)=>{const r={},o=t?.getEndpointParameterInstructions?.()||{};for(const[t,i]of Object.entries(o))switch(i.type){case"staticContextParams":r[t]=i.value;break;case"contextParams":r[t]=e[i.name];break;case"clientContextParams":case"builtInParams":r[t]=await wt(i.name,t,n)();break;default:throw new Error("Unrecognized endpoint parameter instruction: "+JSON.stringify(i))}return 0===Object.keys(o).length&&Object.assign(r,n),"s3"===String(n.serviceId).toLowerCase()&&await(async e=>{const t=e?.Bucket||"";if("string"==typeof e.Bucket&&(e.Bucket=t.replace(/#/g,encodeURIComponent("#")).replace(/\?/g,encodeURIComponent("?"))),vt(t)){if(!0===e.ForcePathStyle)throw new Error("Path-style addressing cannot be used with ARN buckets")}else(!bt(t)||-1!==t.indexOf(".")&&!String(e.Endpoint).startsWith("http:")||t.toLowerCase()!==t||t.length<3)&&(e.ForcePathStyle=!0);return e.DisableMultiRegionAccessPoints&&(e.disableMultiRegionAccessPoints=!0,e.DisableMRAP=!0),e})(r),r};const _t=e=>{if("string"==typeof e)return _t(new URL(e));const{hostname:t,pathname:n,port:r,protocol:o,search:i}=e;let a;return i&&(a=function(e){const t={};if(e=e.replace(/^\?/,""))for(const n of e.split("&")){let[e,r=null]=n.split("=");e=decodeURIComponent(e),r&&(r=decodeURIComponent(r)),e in t?Array.isArray(t[e])?t[e].push(r):t[e]=[t[e],r]:t[e]=r}return t}(i)),{hostname:t,port:r?parseInt(r):void 0,protocol:o,path:n,query:a}},At=({config:e,instructions:t})=>(n,r)=>async o=>{const i=await(async(e,t,n,r)=>{const o=await St(e,t,n);if("function"!=typeof n.endpointProvider)throw new Error("config.endpointProvider is not set.");return n.endpointProvider(o,r)})(o.input,{getEndpointParameterInstructions:()=>t},{...e},r);r.endpointV2=i,r.authSchemes=i.properties?.authSchemes;const a=r.authSchemes?.[0];return a&&(r.signing_region=a.signingRegion,r.signing_service=a.signingName),n({...o})},Pt={name:"deserializerMiddleware",step:"deserialize",tags:["DESERIALIZER"],override:!0},xt={name:"serializerMiddleware",step:"serialize",tags:["SERIALIZER"],override:!0};function Et(e,t,n){return{applyToStack:r=>{r.add(((e,t)=>(n,r)=>async r=>{const{response:o}=await n(r);try{return{response:o,output:await t(o,e)}}catch(e){if(Object.defineProperty(e,"$response",{value:o}),!("$metadata"in e)){const t="Deserialization error: to see the raw response, inspect the hidden field {error}.$response on this object.";e.message+="\n  "+t}throw e}})(e,n),Pt),r.add(((e,t)=>(n,r)=>async o=>{const i=r.endpointV2?.url&&e.urlParser?async()=>e.urlParser(r.endpointV2.url):e.endpoint;if(!i)throw new Error("No valid endpoint provider available.");const a=await t(o.input,{...e,endpoint:i});return n({...o,request:a})})(e,t),xt)}}}const kt={step:"serialize",tags:["ENDPOINT_PARAMETERS","ENDPOINT_V2","ENDPOINT"],name:"endpointV2Middleware",override:!0,relation:"before",toMiddleware:xt.name},Ot=e=>{if("function"==typeof e)return e;const t=Promise.resolve(e);return()=>t},Rt=e=>{const t=e.tls??!0,{endpoint:n}=e,r=null!=n?async()=>(e=>"object"==typeof e?"url"in e?_t(e.url):e:_t(e))(await Ot(n)()):void 0,o=!!n;return{...e,endpoint:r,tls:t,isCustomEndpoint:o,useDualstackEndpoint:Ot(e.useDualstackEndpoint??!1),useFipsEndpoint:Ot(e.useFipsEndpoint??!1)}};var Tt;!function(e){e[e.HEADER=0]="HEADER",e[e.TRAILER=1]="TRAILER"}(Tt||(Tt={}));class Ct{constructor(e){this.method=e.method||"GET",this.hostname=e.hostname||"localhost",this.port=e.port,this.query=e.query||{},this.headers=e.headers||{},this.body=e.body,this.protocol=e.protocol?":"!==e.protocol.slice(-1)?`${e.protocol}:`:e.protocol:"https:",this.path=e.path?"/"!==e.path.charAt(0)?`/${e.path}`:e.path:"/"}static isInstance(e){if(!e)return!1;const t=e;return"method"in t&&"protocol"in t&&"hostname"in t&&"path"in t&&"object"==typeof t.query&&"object"==typeof t.headers}clone(){const e=new Ct({...this,headers:{...this.headers}});var t;return e.query&&(e.query=(t=e.query,Object.keys(t).reduce(((e,n)=>{const r=t[n];return{...e,[n]:Array.isArray(r)?[...r]:r}}),{}))),e}}class Mt{constructor(e){this.statusCode=e.statusCode,this.headers=e.headers||{},this.body=e.body}static isInstance(e){if(!e)return!1;const t=e;return"number"==typeof t.statusCode&&"object"==typeof t.headers}}var Nt={},It={};!function(e){const t=":A-Za-z_\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",n="["+t+"]["+(t+"\\-.\\d\\u00B7\\u0300-\\u036F\\u203F-\\u2040")+"]*",r=new RegExp("^"+n+"$");e.isExist=function(e){return void 0!==e},e.isEmptyObject=function(e){return 0===Object.keys(e).length},e.merge=function(e,t,n){if(t){const r=Object.keys(t),o=r.length;for(let i=0;i<o;i++)e[r[i]]="strict"===n?[t[r[i]]]:t[r[i]]}},e.getValue=function(t){return e.isExist(t)?t:""},e.isName=function(e){const t=r.exec(e);return!(null==t)},e.getAllMatches=function(e,t){const n=[];let r=t.exec(e);for(;r;){const o=[];o.startIndex=t.lastIndex-r[0].length;const i=r.length;for(let e=0;e<i;e++)o.push(r[e]);n.push(o),r=t.exec(e)}return n},e.nameRegexp=n}(It);const Ut=It,jt={allowBooleanAttributes:!1,unpairedTags:[]};function Lt(e){return" "===e||"\t"===e||"\n"===e||"\r"===e}function Dt(e,t){const n=t;for(;t<e.length;t++)if("?"!=e[t]&&" "!=e[t]);else{const r=e.substr(n,t-n);if(t>5&&"xml"===r)return Gt("InvalidXml","XML declaration allowed only at the start of the document.",Kt(e,t));if("?"==e[t]&&">"==e[t+1]){t++;break}}return t}function Bt(e,t){if(e.length>t+5&&"-"===e[t+1]&&"-"===e[t+2]){for(t+=3;t<e.length;t++)if("-"===e[t]&&"-"===e[t+1]&&">"===e[t+2]){t+=2;break}}else if(e.length>t+8&&"D"===e[t+1]&&"O"===e[t+2]&&"C"===e[t+3]&&"T"===e[t+4]&&"Y"===e[t+5]&&"P"===e[t+6]&&"E"===e[t+7]){let n=1;for(t+=8;t<e.length;t++)if("<"===e[t])n++;else if(">"===e[t]&&(n--,0===n))break}else if(e.length>t+9&&"["===e[t+1]&&"C"===e[t+2]&&"D"===e[t+3]&&"A"===e[t+4]&&"T"===e[t+5]&&"A"===e[t+6]&&"["===e[t+7])for(t+=8;t<e.length;t++)if("]"===e[t]&&"]"===e[t+1]&&">"===e[t+2]){t+=2;break}return t}Nt.validate=function(e,t){t=Object.assign({},jt,t);const n=[];let r=!1,o=!1;"\ufeff"===e[0]&&(e=e.substr(1));for(let a=0;a<e.length;a++)if("<"===e[a]&&"?"===e[a+1]){if(a+=2,a=Dt(e,a),a.err)return a}else{if("<"!==e[a]){if(Lt(e[a]))continue;return Gt("InvalidChar","char '"+e[a]+"' is not expected.",Kt(e,a))}{let s=a;if(a++,"!"===e[a]){a=Bt(e,a);continue}{let u=!1;"/"===e[a]&&(u=!0,a++);let c="";for(;a<e.length&&">"!==e[a]&&" "!==e[a]&&"\t"!==e[a]&&"\n"!==e[a]&&"\r"!==e[a];a++)c+=e[a];if(c=c.trim(),"/"===c[c.length-1]&&(c=c.substring(0,c.length-1),a--),i=c,!Ut.isName(i)){let t;return t=0===c.trim().length?"Invalid space after '<'.":"Tag '"+c+"' is an invalid name.",Gt("InvalidTag",t,Kt(e,a))}const l=Ht(e,a);if(!1===l)return Gt("InvalidAttr","Attributes for '"+c+"' have open quote.",Kt(e,a));let d=l.value;if(a=l.index,"/"===d[d.length-1]){const n=a-d.length;d=d.substring(0,d.length-1);const o=qt(d,t);if(!0!==o)return Gt(o.err.code,o.err.msg,Kt(e,n+o.err.line));r=!0}else if(u){if(!l.tagClosed)return Gt("InvalidTag","Closing tag '"+c+"' doesn't have proper closing.",Kt(e,a));if(d.trim().length>0)return Gt("InvalidTag","Closing tag '"+c+"' can't have attributes or invalid starting.",Kt(e,s));{const t=n.pop();if(c!==t.tagName){let n=Kt(e,t.tagStartPos);return Gt("InvalidTag","Expected closing tag '"+t.tagName+"' (opened in line "+n.line+", col "+n.col+") instead of closing tag '"+c+"'.",Kt(e,s))}0==n.length&&(o=!0)}}else{const i=qt(d,t);if(!0!==i)return Gt(i.err.code,i.err.msg,Kt(e,a-d.length+i.err.line));if(!0===o)return Gt("InvalidXml","Multiple possible root nodes found.",Kt(e,a));-1!==t.unpairedTags.indexOf(c)||n.push({tagName:c,tagStartPos:s}),r=!0}for(a++;a<e.length;a++)if("<"===e[a]){if("!"===e[a+1]){a++,a=Bt(e,a);continue}if("?"!==e[a+1])break;if(a=Dt(e,++a),a.err)return a}else if("&"===e[a]){const t=Vt(e,a);if(-1==t)return Gt("InvalidChar","char '&' is not expected.",Kt(e,a));a=t}else if(!0===o&&!Lt(e[a]))return Gt("InvalidXml","Extra text at the end",Kt(e,a));"<"===e[a]&&a--}}}var i;return r?1==n.length?Gt("InvalidTag","Unclosed tag '"+n[0].tagName+"'.",Kt(e,n[0].tagStartPos)):!(n.length>0)||Gt("InvalidXml","Invalid '"+JSON.stringify(n.map((e=>e.tagName)),null,4).replace(/\r?\n/g,"")+"' found.",{line:1,col:1}):Gt("InvalidXml","Start tag expected.",1)};const $t='"',Ft="'";function Ht(e,t){let n="",r="",o=!1;for(;t<e.length;t++){if(e[t]===$t||e[t]===Ft)""===r?r=e[t]:r!==e[t]||(r="");else if(">"===e[t]&&""===r){o=!0;break}n+=e[t]}return""===r&&{value:n,index:t,tagClosed:o}}const zt=new RegExp("(\\s*)([^\\s=]+)(\\s*=)?(\\s*(['\"])(([\\s\\S])*?)\\5)?","g");function qt(e,t){const n=Ut.getAllMatches(e,zt),r={};for(let e=0;e<n.length;e++){if(0===n[e][1].length)return Gt("InvalidAttr","Attribute '"+n[e][2]+"' has no space in starting.",Zt(n[e]));if(void 0!==n[e][3]&&void 0===n[e][4])return Gt("InvalidAttr","Attribute '"+n[e][2]+"' is without value.",Zt(n[e]));if(void 0===n[e][3]&&!t.allowBooleanAttributes)return Gt("InvalidAttr","boolean attribute '"+n[e][2]+"' is not allowed.",Zt(n[e]));const o=n[e][2];if(!Wt(o))return Gt("InvalidAttr","Attribute '"+o+"' is an invalid name.",Zt(n[e]));if(r.hasOwnProperty(o))return Gt("InvalidAttr","Attribute '"+o+"' is repeated.",Zt(n[e]));r[o]=1}return!0}function Vt(e,t){if(";"===e[++t])return-1;if("#"===e[t])return function(e,t){let n=/\d/;for("x"===e[t]&&(t++,n=/[\da-fA-F]/);t<e.length;t++){if(";"===e[t])return t;if(!e[t].match(n))break}return-1}(e,++t);let n=0;for(;t<e.length;t++,n++)if(!(e[t].match(/\w/)&&n<20)){if(";"===e[t])break;return-1}return t}function Gt(e,t,n){return{err:{code:e,msg:t,line:n.line||n,col:n.col}}}function Wt(e){return Ut.isName(e)}function Kt(e,t){const n=e.substring(0,t).split(/\r?\n/);return{line:n.length,col:n[n.length-1].length+1}}function Zt(e){return e.startIndex+e[1].length}var Xt={};const Jt={preserveOrder:!1,attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,removeNSPrefix:!1,allowBooleanAttributes:!1,parseTagValue:!0,parseAttributeValue:!1,trimValues:!0,cdataPropName:!1,numberParseOptions:{hex:!0,leadingZeros:!0,eNotation:!0},tagValueProcessor:function(e,t){return t},attributeValueProcessor:function(e,t){return t},stopNodes:[],alwaysCreateTextNode:!1,isArray:()=>!1,commentPropName:!1,unpairedTags:[],processEntities:!0,htmlEntities:!1,ignoreDeclaration:!1,ignorePiTags:!1,transformTagName:!1,transformAttributeName:!1};Xt.buildOptions=function(e){return Object.assign({},Jt,e)},Xt.defaultOptions=Jt;var Yt=class{constructor(e){this.tagname=e,this.child=[],this[":@"]={}}add(e,t){"__proto__"===e&&(e="#__proto__"),this.child.push({[e]:t})}addChild(e){"__proto__"===e.tagname&&(e.tagname="#__proto__"),e[":@"]&&Object.keys(e[":@"]).length>0?this.child.push({[e.tagname]:e.child,":@":e[":@"]}):this.child.push({[e.tagname]:e.child})}};const Qt=RegExp("^\\s([a-zA-z0-0]+)[ \t](['\"])([^&]+)\\2");function en(e,t){const n=Qt.exec(e);n&&(t[n[1]]={regx:RegExp(`&${n[1]};`,"g"),val:n[3]})}var tn=function(e,t){const n={};if("O"!==e[t+3]||"C"!==e[t+4]||"T"!==e[t+5]||"Y"!==e[t+6]||"P"!==e[t+7]||"E"!==e[t+8])throw new Error("Invalid Tag instead of DOCTYPE");{t+=9;let r=1,o=!1,i=!1,a=!1,s="";for(;t<e.length;t++)if("<"!==e[t]||a)if(">"===e[t]){if(a?"-"===e[t-1]&&"-"===e[t-2]&&(a=!1,r--):(i&&(en(s,n),i=!1),r--),0===r)break}else"["===e[t]?o=!0:s+=e[t];else{if(o&&"!"===e[t+1]&&"E"===e[t+2]&&"N"===e[t+3]&&"T"===e[t+4]&&"I"===e[t+5]&&"T"===e[t+6]&&"Y"===e[t+7])t+=7,i=!0;else if(o&&"!"===e[t+1]&&"E"===e[t+2]&&"L"===e[t+3]&&"E"===e[t+4]&&"M"===e[t+5]&&"E"===e[t+6]&&"N"===e[t+7]&&"T"===e[t+8])t+=8;else if(o&&"!"===e[t+1]&&"A"===e[t+2]&&"T"===e[t+3]&&"T"===e[t+4]&&"L"===e[t+5]&&"I"===e[t+6]&&"S"===e[t+7]&&"T"===e[t+8])t+=8;else if(o&&"!"===e[t+1]&&"N"===e[t+2]&&"O"===e[t+3]&&"T"===e[t+4]&&"A"===e[t+5]&&"T"===e[t+6]&&"I"===e[t+7]&&"O"===e[t+8]&&"N"===e[t+9])t+=9;else{if("!"!==e[t+1]||"-"!==e[t+2]||"-"!==e[t+3])throw new Error("Invalid DOCTYPE");a=!0}r++,s=""}if(0!==r)throw new Error("Unclosed DOCTYPE")}return{entities:n,i:t}};const nn=/^[-+]?0x[a-fA-F0-9]+$/,rn=/^([\-\+])?(0*)(\.[0-9]+([eE]\-?[0-9]+)?|[0-9]+(\.[0-9]+([eE]\-?[0-9]+)?)?)$/;!Number.parseInt&&window.parseInt&&(Number.parseInt=window.parseInt),!Number.parseFloat&&window.parseFloat&&(Number.parseFloat=window.parseFloat);const on={hex:!0,leadingZeros:!0,decimalPoint:".",eNotation:!0};const an=It,sn=Yt,un=tn,cn=function(e,t={}){if(t=Object.assign({},on,t),!e||"string"!=typeof e)return e;let n=e.trim();if(void 0!==t.skipLike&&t.skipLike.test(n))return e;if(t.hex&&nn.test(n))return Number.parseInt(n,16);{const r=rn.exec(n);if(r){const o=r[1],i=r[2];let a=function(e){if(e&&-1!==e.indexOf("."))return"."===(e=e.replace(/0+$/,""))?e="0":"."===e[0]?e="0"+e:"."===e[e.length-1]&&(e=e.substr(0,e.length-1)),e;return e}(r[3]);const s=r[4]||r[6];if(!t.leadingZeros&&i.length>0&&o&&"."!==n[2])return e;if(!t.leadingZeros&&i.length>0&&!o&&"."!==n[1])return e;{const r=Number(n),u=""+r;return-1!==u.search(/[eE]/)||s?t.eNotation?r:e:-1!==n.indexOf(".")?"0"===u&&""===a||u===a||o&&u==="-"+a?r:e:i?a===u||o+a===u?r:e:n===u||n===o+u?r:e}}return e}};"<((!\\[CDATA\\[([\\s\\S]*?)(]]>))|((NAME:)?(NAME))([^>]*)>|((\\/)(NAME)\\s*>))([^<]*)".replace(/NAME/g,an.nameRegexp);function ln(e){const t=Object.keys(e);for(let n=0;n<t.length;n++){const r=t[n];this.lastEntities[r]={regex:new RegExp("&"+r+";","g"),val:e[r]}}}function dn(e,t,n,r,o,i,a){if(void 0!==e&&(this.options.trimValues&&!r&&(e=e.trim()),e.length>0)){a||(e=this.replaceEntitiesValue(e));const r=this.options.tagValueProcessor(t,e,n,o,i);if(null==r)return e;if(typeof r!=typeof e||r!==e)return r;if(this.options.trimValues)return _n(e,this.options.parseTagValue,this.options.numberParseOptions);return e.trim()===e?_n(e,this.options.parseTagValue,this.options.numberParseOptions):e}}function fn(e){if(this.options.removeNSPrefix){const t=e.split(":"),n="/"===e.charAt(0)?"/":"";if("xmlns"===t[0])return"";2===t.length&&(e=n+t[1])}return e}const pn=new RegExp("([^\\s=]+)\\s*(=\\s*(['\"])([\\s\\S]*?)\\3)?","gm");function hn(e,t){if(!this.options.ignoreAttributes&&"string"==typeof e){const n=an.getAllMatches(e,pn),r=n.length,o={};for(let e=0;e<r;e++){const r=this.resolveNameSpace(n[e][1]);let i=n[e][4],a=this.options.attributeNamePrefix+r;if(r.length)if(this.options.transformAttributeName&&(a=this.options.transformAttributeName(a)),"__proto__"===a&&(a="#__proto__"),void 0!==i){this.options.trimValues&&(i=i.trim()),i=this.replaceEntitiesValue(i);const e=this.options.attributeValueProcessor(r,i,t);o[a]=null==e?i:typeof e!=typeof i||e!==i?e:_n(i,this.options.parseAttributeValue,this.options.numberParseOptions)}else this.options.allowBooleanAttributes&&(o[a]=!0)}if(!Object.keys(o).length)return;if(this.options.attributesGroupName){const e={};return e[this.options.attributesGroupName]=o,e}return o}}const gn=function(e){e=e.replace(/\r\n?/g,"\n");const t=new sn("!xml");let n=t,r="",o="";for(let i=0;i<e.length;i++){if("<"===e[i])if("/"===e[i+1]){const t=vn(e,">",i,"Closing Tag is not closed.");let a=e.substring(i+2,t).trim();if(this.options.removeNSPrefix){const e=a.indexOf(":");-1!==e&&(a=a.substr(e+1))}this.options.transformTagName&&(a=this.options.transformTagName(a)),n&&(r=this.saveTextToParentTag(r,n,o)),o=o.substr(0,o.lastIndexOf(".")),n=this.tagsNodeStack.pop(),r="",i=t}else if("?"===e[i+1]){let t=wn(e,i,!1,"?>");if(!t)throw new Error("Pi Tag is not closed.");if(r=this.saveTextToParentTag(r,n,o),this.options.ignoreDeclaration&&"?xml"===t.tagName||this.options.ignorePiTags);else{const e=new sn(t.tagName);e.add(this.options.textNodeName,""),t.tagName!==t.tagExp&&t.attrExpPresent&&(e[":@"]=this.buildAttributesMap(t.tagExp,o)),n.addChild(e)}i=t.closeIndex+1}else if("!--"===e.substr(i+1,3)){const t=vn(e,"--\x3e",i+4,"Comment is not closed.");if(this.options.commentPropName){const a=e.substring(i+4,t-2);r=this.saveTextToParentTag(r,n,o),n.add(this.options.commentPropName,[{[this.options.textNodeName]:a}])}i=t}else if("!D"===e.substr(i+1,2)){const t=un(e,i);this.docTypeEntities=t.entities,i=t.i}else if("!["===e.substr(i+1,2)){const t=vn(e,"]]>",i,"CDATA is not closed.")-2,a=e.substring(i+9,t);if(r=this.saveTextToParentTag(r,n,o),this.options.cdataPropName)n.add(this.options.cdataPropName,[{[this.options.textNodeName]:a}]);else{let e=this.parseTextData(a,n.tagname,o,!0,!1,!0);null==e&&(e=""),n.add(this.options.textNodeName,e)}i=t+2}else{let a=wn(e,i,this.options.removeNSPrefix),s=a.tagName,u=a.tagExp,c=a.attrExpPresent,l=a.closeIndex;this.options.transformTagName&&(s=this.options.transformTagName(s)),n&&r&&"!xml"!==n.tagname&&(r=this.saveTextToParentTag(r,n,o,!1)),s!==t.tagname&&(o+=o?"."+s:s);const d=n;if(d&&-1!==this.options.unpairedTags.indexOf(d.tagname)&&(n=this.tagsNodeStack.pop()),this.isItStopNode(this.options.stopNodes,o,s)){let t="";if(u.length>0&&u.lastIndexOf("/")===u.length-1)i=a.closeIndex;else if(-1!==this.options.unpairedTags.indexOf(s))i=a.closeIndex;else{const n=this.readStopNodeData(e,s,l+1);if(!n)throw new Error(`Unexpected end of ${s}`);i=n.i,t=n.tagContent}const r=new sn(s);s!==u&&c&&(r[":@"]=this.buildAttributesMap(u,o)),t&&(t=this.parseTextData(t,s,o,!0,c,!0,!0)),o=o.substr(0,o.lastIndexOf(".")),r.add(this.options.textNodeName,t),n.addChild(r)}else{if(u.length>0&&u.lastIndexOf("/")===u.length-1){"/"===s[s.length-1]?(s=s.substr(0,s.length-1),u=s):u=u.substr(0,u.length-1),this.options.transformTagName&&(s=this.options.transformTagName(s));const e=new sn(s);s!==u&&c&&(e[":@"]=this.buildAttributesMap(u,o)),o=o.substr(0,o.lastIndexOf(".")),n.addChild(e)}else{const e=new sn(s);this.tagsNodeStack.push(n),s!==u&&c&&(e[":@"]=this.buildAttributesMap(u,o)),n.addChild(e),n=e}r="",i=l}}else r+=e[i]}return t.child},mn=function(e){if(this.options.processEntities){for(let t in this.docTypeEntities){const n=this.docTypeEntities[t];e=e.replace(n.regx,n.val)}for(let t in this.lastEntities){const n=this.lastEntities[t];e=e.replace(n.regex,n.val)}if(this.options.htmlEntities)for(let t in this.htmlEntities){const n=this.htmlEntities[t];e=e.replace(n.regex,n.val)}e=e.replace(this.ampEntity.regex,this.ampEntity.val)}return e};function yn(e,t,n,r){return e&&(void 0===r&&(r=0===Object.keys(t.child).length),void 0!==(e=this.parseTextData(e,t.tagname,n,!1,!!t[":@"]&&0!==Object.keys(t[":@"]).length,r))&&""!==e&&t.add(this.options.textNodeName,e),e=""),e}function bn(e,t,n){const r="*."+n;for(const n in e){const o=e[n];if(r===o||t===o)return!0}return!1}function vn(e,t,n,r){const o=e.indexOf(t,n);if(-1===o)throw new Error(r);return o+t.length-1}function wn(e,t,n,r=">"){const o=function(e,t,n=">"){let r,o="";for(let i=t;i<e.length;i++){let t=e[i];if(r)t===r&&(r="");else if('"'===t||"'"===t)r=t;else if(t===n[0]){if(!n[1])return{data:o,index:i};if(e[i+1]===n[1])return{data:o,index:i}}else"\t"===t&&(t=" ");o+=t}}(e,t+1,r);if(!o)return;let i=o.data;const a=o.index,s=i.search(/\s/);let u=i,c=!0;if(-1!==s&&(u=i.substr(0,s).replace(/\s\s*$/,""),i=i.substr(s+1)),n){const e=u.indexOf(":");-1!==e&&(u=u.substr(e+1),c=u!==o.data.substr(e+1))}return{tagName:u,tagExp:i,closeIndex:a,attrExpPresent:c}}function Sn(e,t,n){const r=n;let o=1;for(;n<e.length;n++)if("<"===e[n])if("/"===e[n+1]){const i=vn(e,">",n,`${t} is not closed`);if(e.substring(n+2,i).trim()===t&&(o--,0===o))return{tagContent:e.substring(r,n),i:i};n=i}else if("?"===e[n+1]){n=vn(e,"?>",n+1,"StopNode is not closed.")}else if("!--"===e.substr(n+1,3)){n=vn(e,"--\x3e",n+3,"StopNode is not closed.")}else if("!["===e.substr(n+1,2)){n=vn(e,"]]>",n,"StopNode is not closed.")-2}else{const r=wn(e,n,">");if(r){(r&&r.tagName)===t&&"/"!==r.tagExp[r.tagExp.length-1]&&o++,n=r.closeIndex}}}function _n(e,t,n){if(t&&"string"==typeof e){const t=e.trim();return"true"===t||"false"!==t&&cn(e,n)}return an.isExist(e)?e:""}var An=class{constructor(e){this.options=e,this.currentNode=null,this.tagsNodeStack=[],this.docTypeEntities={},this.lastEntities={apos:{regex:/&(apos|#39|#x27);/g,val:"'"},gt:{regex:/&(gt|#62|#x3E);/g,val:">"},lt:{regex:/&(lt|#60|#x3C);/g,val:"<"},quot:{regex:/&(quot|#34|#x22);/g,val:'"'}},this.ampEntity={regex:/&(amp|#38|#x26);/g,val:"&"},this.htmlEntities={space:{regex:/&(nbsp|#160);/g,val:" "},cent:{regex:/&(cent|#162);/g,val:"¢"},pound:{regex:/&(pound|#163);/g,val:"£"},yen:{regex:/&(yen|#165);/g,val:"¥"},euro:{regex:/&(euro|#8364);/g,val:"€"},copyright:{regex:/&(copy|#169);/g,val:"©"},reg:{regex:/&(reg|#174);/g,val:"®"},inr:{regex:/&(inr|#8377);/g,val:"₹"}},this.addExternalEntities=ln,this.parseXml=gn,this.parseTextData=dn,this.resolveNameSpace=fn,this.buildAttributesMap=hn,this.isItStopNode=bn,this.replaceEntitiesValue=mn,this.readStopNodeData=Sn,this.saveTextToParentTag=yn}},Pn={};function xn(e,t,n){let r;const o={};for(let i=0;i<e.length;i++){const a=e[i],s=En(a);let u="";if(u=void 0===n?s:n+"."+s,s===t.textNodeName)void 0===r?r=a[s]:r+=""+a[s];else{if(void 0===s)continue;if(a[s]){let e=xn(a[s],t,u);const n=On(e,t);a[":@"]?kn(e,a[":@"],u,t):1!==Object.keys(e).length||void 0===e[t.textNodeName]||t.alwaysCreateTextNode?0===Object.keys(e).length&&(t.alwaysCreateTextNode?e[t.textNodeName]="":e=""):e=e[t.textNodeName],void 0!==o[s]&&o.hasOwnProperty(s)?(Array.isArray(o[s])||(o[s]=[o[s]]),o[s].push(e)):t.isArray(s,u,n)?o[s]=[e]:o[s]=e}}}return"string"==typeof r?r.length>0&&(o[t.textNodeName]=r):void 0!==r&&(o[t.textNodeName]=r),o}function En(e){const t=Object.keys(e);for(let e=0;e<t.length;e++){const n=t[e];if(":@"!==n)return n}}function kn(e,t,n,r){if(t){const o=Object.keys(t),i=o.length;for(let a=0;a<i;a++){const i=o[a];r.isArray(i,n+"."+i,!0,!0)?e[i]=[t[i]]:e[i]=t[i]}}}function On(e,t){const n=Object.keys(e).length;return!!(0===n||1===n&&e[t.textNodeName])}Pn.prettify=function(e,t){return xn(e,t)};const{buildOptions:Rn}=Xt,Tn=An,{prettify:Cn}=Pn,Mn=Nt;var Nn=class{constructor(e){this.externalEntities={},this.options=Rn(e)}parse(e,t){if("string"==typeof e);else{if(!e.toString)throw new Error("XML data is accepted in String or Bytes[] form.");e=e.toString()}if(t){!0===t&&(t={});const n=Mn.validate(e,t);if(!0!==n)throw Error(`${n.err.msg}:${n.err.line}:${n.err.col}`)}const n=new Tn(this.options);n.addExternalEntities(this.externalEntities);const r=n.parseXml(e);return this.options.preserveOrder||void 0===r?r:Cn(r,this.options)}addEntity(e,t){if(-1!==t.indexOf("&"))throw new Error("Entity value can't have '&'");if(-1!==e.indexOf("&")||-1!==e.indexOf(";"))throw new Error("An entity must be set without '&' and ';'. Eg. use '#xD' for '&#xD;'");if("&"===t)throw new Error("An entity with value '&' is not permitted");this.externalEntities[e]=t}};function In(e,t,n,r){let o="",i=!1;for(let a=0;a<e.length;a++){const s=e[a],u=Un(s);let c="";if(c=0===n.length?u:`${n}.${u}`,u===t.textNodeName){let e=s[u];Ln(c,t)||(e=t.tagValueProcessor(u,e),e=Dn(e,t)),i&&(o+=r),o+=e,i=!1;continue}if(u===t.cdataPropName){i&&(o+=r),o+=`<![CDATA[${s[u][0][t.textNodeName]}]]>`,i=!1;continue}if(u===t.commentPropName){o+=r+`\x3c!--${s[u][0][t.textNodeName]}--\x3e`,i=!0;continue}if("?"===u[0]){const e=jn(s[":@"],t),n="?xml"===u?"":r;let a=s[u][0][t.textNodeName];a=0!==a.length?" "+a:"",o+=n+`<${u}${a}${e}?>`,i=!0;continue}let l=r;""!==l&&(l+=t.indentBy);const d=r+`<${u}${jn(s[":@"],t)}`,f=In(s[u],t,c,l);-1!==t.unpairedTags.indexOf(u)?t.suppressUnpairedNode?o+=d+">":o+=d+"/>":f&&0!==f.length||!t.suppressEmptyNode?f&&f.endsWith(">")?o+=d+`>${f}${r}</${u}>`:(o+=d+">",f&&""!==r&&(f.includes("/>")||f.includes("</"))?o+=r+t.indentBy+f+r:o+=f,o+=`</${u}>`):o+=d+"/>",i=!0}return o}function Un(e){const t=Object.keys(e);for(let e=0;e<t.length;e++){const n=t[e];if(":@"!==n)return n}}function jn(e,t){let n="";if(e&&!t.ignoreAttributes)for(let r in e){let o=t.attributeValueProcessor(r,e[r]);o=Dn(o,t),!0===o&&t.suppressBooleanAttributes?n+=` ${r.substr(t.attributeNamePrefix.length)}`:n+=` ${r.substr(t.attributeNamePrefix.length)}="${o}"`}return n}function Ln(e,t){let n=(e=e.substr(0,e.length-t.textNodeName.length-1)).substr(e.lastIndexOf(".")+1);for(let r in t.stopNodes)if(t.stopNodes[r]===e||t.stopNodes[r]==="*."+n)return!0;return!1}function Dn(e,t){if(e&&e.length>0&&t.processEntities)for(let n=0;n<t.entities.length;n++){const r=t.entities[n];e=e.replace(r.regex,r.val)}return e}const Bn=function(e,t){let n="";return t.format&&t.indentBy.length>0&&(n="\n"),In(e,t,"",n)},$n={attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,cdataPropName:!1,format:!1,indentBy:"  ",suppressEmptyNode:!1,suppressUnpairedNode:!0,suppressBooleanAttributes:!0,tagValueProcessor:function(e,t){return t},attributeValueProcessor:function(e,t){return t},preserveOrder:!1,commentPropName:!1,unpairedTags:[],entities:[{regex:new RegExp("&","g"),val:"&amp;"},{regex:new RegExp(">","g"),val:"&gt;"},{regex:new RegExp("<","g"),val:"&lt;"},{regex:new RegExp("'","g"),val:"&apos;"},{regex:new RegExp('"',"g"),val:"&quot;"}],processEntities:!0,stopNodes:[]};function Fn(e){this.options=Object.assign({},$n,e),this.options.ignoreAttributes||this.options.attributesGroupName?this.isAttribute=function(){return!1}:(this.attrPrefixLen=this.options.attributeNamePrefix.length,this.isAttribute=qn),this.processTextOrObjNode=Hn,this.options.format?(this.indentate=zn,this.tagEndChar=">\n",this.newLine="\n"):(this.indentate=function(){return""},this.tagEndChar=">",this.newLine="")}function Hn(e,t,n){const r=this.j2x(e,n+1);return void 0!==e[this.options.textNodeName]&&1===Object.keys(e).length?this.buildTextValNode(e[this.options.textNodeName],t,r.attrStr,n):this.buildObjectNode(r.val,t,r.attrStr,n)}function zn(e){return this.options.indentBy.repeat(e)}function qn(e){return!!e.startsWith(this.options.attributeNamePrefix)&&e.substr(this.attrPrefixLen)}Fn.prototype.build=function(e){return this.options.preserveOrder?Bn(e,this.options):(Array.isArray(e)&&this.options.arrayNodeName&&this.options.arrayNodeName.length>1&&(e={[this.options.arrayNodeName]:e}),this.j2x(e,0).val)},Fn.prototype.j2x=function(e,t){let n="",r="";for(let o in e)if(void 0===e[o]);else if(null===e[o])"?"===o[0]?r+=this.indentate(t)+"<"+o+"?"+this.tagEndChar:r+=this.indentate(t)+"<"+o+"/"+this.tagEndChar;else if(e[o]instanceof Date)r+=this.buildTextValNode(e[o],o,"",t);else if("object"!=typeof e[o]){const i=this.isAttribute(o);if(i)n+=this.buildAttrPairStr(i,""+e[o]);else if(o===this.options.textNodeName){let t=this.options.tagValueProcessor(o,""+e[o]);r+=this.replaceEntitiesValue(t)}else r+=this.buildTextValNode(e[o],o,"",t)}else if(Array.isArray(e[o])){const n=e[o].length;for(let i=0;i<n;i++){const n=e[o][i];void 0===n||(null===n?"?"===o[0]?r+=this.indentate(t)+"<"+o+"?"+this.tagEndChar:r+=this.indentate(t)+"<"+o+"/"+this.tagEndChar:r+="object"==typeof n?this.processTextOrObjNode(n,o,t):this.buildTextValNode(n,o,"",t))}}else if(this.options.attributesGroupName&&o===this.options.attributesGroupName){const t=Object.keys(e[o]),r=t.length;for(let i=0;i<r;i++)n+=this.buildAttrPairStr(t[i],""+e[o][t[i]])}else r+=this.processTextOrObjNode(e[o],o,t);return{attrStr:n,val:r}},Fn.prototype.buildAttrPairStr=function(e,t){return t=this.options.attributeValueProcessor(e,""+t),t=this.replaceEntitiesValue(t),this.options.suppressBooleanAttributes&&"true"===t?" "+e:" "+e+'="'+t+'"'},Fn.prototype.buildObjectNode=function(e,t,n,r){if(""===e)return"?"===t[0]?this.indentate(r)+"<"+t+n+"?"+this.tagEndChar:this.indentate(r)+"<"+t+n+this.closeTag(t)+this.tagEndChar;{let o="</"+t+this.tagEndChar,i="";return"?"===t[0]&&(i="?",o=""),n&&-1===e.indexOf("<")?this.indentate(r)+"<"+t+n+i+">"+e+o:!1!==this.options.commentPropName&&t===this.options.commentPropName&&0===i.length?this.indentate(r)+`\x3c!--${e}--\x3e`+this.newLine:this.indentate(r)+"<"+t+n+i+this.tagEndChar+e+this.indentate(r)+o}},Fn.prototype.closeTag=function(e){let t="";return-1!==this.options.unpairedTags.indexOf(e)?this.options.suppressUnpairedNode||(t="/"):t=this.options.suppressEmptyNode?"/":`></${e}`,t},Fn.prototype.buildTextValNode=function(e,t,n,r){if(!1!==this.options.cdataPropName&&t===this.options.cdataPropName)return this.indentate(r)+`<![CDATA[${e}]]>`+this.newLine;if(!1!==this.options.commentPropName&&t===this.options.commentPropName)return this.indentate(r)+`\x3c!--${e}--\x3e`+this.newLine;if("?"===t[0])return this.indentate(r)+"<"+t+n+"?"+this.tagEndChar;{let o=this.options.tagValueProcessor(t,e);return o=this.replaceEntitiesValue(o),""===o?this.indentate(r)+"<"+t+n+this.closeTag(t)+this.tagEndChar:this.indentate(r)+"<"+t+n+">"+o+"</"+t+this.tagEndChar}},Fn.prototype.replaceEntitiesValue=function(e){if(e&&e.length>0&&this.options.processEntities)for(let t=0;t<this.options.entities.length;t++){const n=this.options.entities[t];e=e.replace(n.regex,n.val)}return e};var Vn,Gn,Wn,Kn,Zn={XMLParser:Nn,XMLValidator:Nt,XMLBuilder:Fn};class Xn extends nt{constructor(e){super(e),Object.setPrototypeOf(this,Xn.prototype)}}!function(e){e.visit=(e,t)=>void 0!==e.Prefix?t.Prefix(e.Prefix):void 0!==e.Tag?t.Tag(e.Tag):void 0!==e.And?t.And(e.And):t._(e.$unknown[0],e.$unknown[1])}(Vn||(Vn={})),function(e){e.visit=(e,t)=>void 0!==e.Prefix?t.Prefix(e.Prefix):void 0!==e.Tag?t.Tag(e.Tag):void 0!==e.ObjectSizeGreaterThan?t.ObjectSizeGreaterThan(e.ObjectSizeGreaterThan):void 0!==e.ObjectSizeLessThan?t.ObjectSizeLessThan(e.ObjectSizeLessThan):void 0!==e.And?t.And(e.And):t._(e.$unknown[0],e.$unknown[1])}(Gn||(Gn={})),function(e){e.visit=(e,t)=>void 0!==e.Prefix?t.Prefix(e.Prefix):void 0!==e.Tag?t.Tag(e.Tag):void 0!==e.AccessPointArn?t.AccessPointArn(e.AccessPointArn):void 0!==e.And?t.And(e.And):t._(e.$unknown[0],e.$unknown[1])}(Wn||(Wn={})),function(e){e.visit=(e,t)=>void 0!==e.Prefix?t.Prefix(e.Prefix):void 0!==e.Tag?t.Tag(e.Tag):void 0!==e.And?t.And(e.And):t._(e.$unknown[0],e.$unknown[1])}(Kn||(Kn={}));const Jn=e=>({...e,...e.SSEKMSKeyId&&{SSEKMSKeyId:Qe},...e.SSEKMSEncryptionContext&&{SSEKMSEncryptionContext:Qe}}),Yn=e=>({...e,...e.SSECustomerKey&&{SSECustomerKey:Qe},...e.SSEKMSKeyId&&{SSEKMSKeyId:Qe},...e.SSEKMSEncryptionContext&&{SSEKMSEncryptionContext:Qe}}),Qn=async(e,t)=>{const{hostname:n,protocol:r="https",port:o,path:i}=await t.endpoint(),a=ct({},ar,{"content-type":e.ContentType||"application/octet-stream","x-amz-acl":e.ACL,"cache-control":e.CacheControl,"content-disposition":e.ContentDisposition,"content-encoding":e.ContentEncoding,"content-language":e.ContentLanguage,"content-length":[()=>ar(e.ContentLength),()=>e.ContentLength.toString()],"content-md5":e.ContentMD5,"x-amz-sdk-checksum-algorithm":e.ChecksumAlgorithm,"x-amz-checksum-crc32":e.ChecksumCRC32,"x-amz-checksum-crc32c":e.ChecksumCRC32C,"x-amz-checksum-sha1":e.ChecksumSHA1,"x-amz-checksum-sha256":e.ChecksumSHA256,expires:[()=>ar(e.Expires),()=>function(e){const t=e.getUTCFullYear(),n=e.getUTCMonth(),r=e.getUTCDay(),o=e.getUTCDate(),i=e.getUTCHours(),a=e.getUTCMinutes(),s=e.getUTCSeconds();return`${et[r]}, ${o<10?`0${o}`:`${o}`} ${tt[n]} ${t} ${i<10?`0${i}`:`${i}`}:${a<10?`0${a}`:`${a}`}:${s<10?`0${s}`:`${s}`} GMT`}(e.Expires).toString()],"x-amz-grant-full-control":e.GrantFullControl,"x-amz-grant-read":e.GrantRead,"x-amz-grant-read-acp":e.GrantReadACP,"x-amz-grant-write-acp":e.GrantWriteACP,"x-amz-server-side-encryption":e.ServerSideEncryption,"x-amz-storage-class":e.StorageClass,"x-amz-website-redirect-location":e.WebsiteRedirectLocation,"x-amz-server-side-encryption-customer-algorithm":e.SSECustomerAlgorithm,"x-amz-server-side-encryption-customer-key":e.SSECustomerKey,"x-amz-server-side-encryption-customer-key-md5":e.SSECustomerKeyMD5,"x-amz-server-side-encryption-aws-kms-key-id":e.SSEKMSKeyId,"x-amz-server-side-encryption-context":e.SSEKMSEncryptionContext,"x-amz-server-side-encryption-bucket-key-enabled":[()=>ar(e.BucketKeyEnabled),()=>e.BucketKeyEnabled.toString()],"x-amz-request-payer":e.RequestPayer,"x-amz-tagging":e.Tagging,"x-amz-object-lock-mode":e.ObjectLockMode,"x-amz-object-lock-retain-until-date":[()=>ar(e.ObjectLockRetainUntilDate),()=>(e.ObjectLockRetainUntilDate.toISOString().split(".")[0]+"Z").toString()],"x-amz-object-lock-legal-hold":e.ObjectLockLegalHoldStatus,"x-amz-expected-bucket-owner":e.ExpectedBucketOwner,...void 0!==e.Metadata&&Object.keys(e.Metadata).reduce(((t,n)=>(t[`x-amz-meta-${n.toLowerCase()}`]=e.Metadata[n],t)),{})});let s=`${i?.endsWith("/")?i.slice(0,-1):i||""}/{Key+}`;s=ht(s,e,"Bucket",(()=>e.Bucket),"{Bucket}",!1),s=ht(s,e,"Key",(()=>e.Key),"{Key+}",!0);const u=ct({"x-id":[,"PutObject"]});let c,l;return void 0!==e.Body&&(c=e.Body),void 0!==e.Body&&(l=e.Body,c=l),new Ct({protocol:r,hostname:n,port:o,method:"PUT",headers:a,path:s,query:u,body:c})},er=async(e,t)=>{if(200!==e.statusCode&&e.statusCode>=300)return tr(e,t);const n=ct({$metadata:or(e),Expiration:[,e.headers["x-amz-expiration"]],ETag:[,e.headers.etag],ChecksumCRC32:[,e.headers["x-amz-checksum-crc32"]],ChecksumCRC32C:[,e.headers["x-amz-checksum-crc32c"]],ChecksumSHA1:[,e.headers["x-amz-checksum-sha1"]],ChecksumSHA256:[,e.headers["x-amz-checksum-sha256"]],ServerSideEncryption:[,e.headers["x-amz-server-side-encryption"]],VersionId:[,e.headers["x-amz-version-id"]],SSECustomerAlgorithm:[,e.headers["x-amz-server-side-encryption-customer-algorithm"]],SSECustomerKeyMD5:[,e.headers["x-amz-server-side-encryption-customer-key-md5"]],SSEKMSKeyId:[,e.headers["x-amz-server-side-encryption-aws-kms-key-id"]],SSEKMSEncryptionContext:[,e.headers["x-amz-server-side-encryption-context"]],BucketKeyEnabled:[()=>void 0!==e.headers["x-amz-server-side-encryption-bucket-key-enabled"],()=>(e=>{switch(e){case"true":return!0;case"false":return!1;default:throw new Error(`Unable to parse boolean value "${e}"`)}})(e.headers["x-amz-server-side-encryption-bucket-key-enabled"])],RequestCharged:[,e.headers["x-amz-request-charged"]]});return await ir(e.body,t),n},tr=async(e,t)=>{const n={...e,body:await ur(e.body,t)},r=cr(e,n.body),o=n.body;return nr({output:e,parsedBody:o,errorCode:r})},nr=(rr=Xn,({output:e,parsedBody:t,errorCode:n})=>{rt({output:e,parsedBody:t,exceptionCtor:rr,errorCode:n})});var rr;const or=e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),ir=(e=new Uint8Array,t)=>e instanceof Uint8Array?Promise.resolve(e):t.streamCollector(e)||Promise.resolve(new Uint8Array),ar=e=>!(null==e||""===e||Object.getOwnPropertyNames(e).includes("length")&&0==e.length||Object.getOwnPropertyNames(e).includes("size")&&0==e.size),sr=(e,t)=>((e,t)=>ir(e,t).then((e=>t.utf8Encoder(e))))(e,t).then((e=>{if(e.length){const t=new Zn.XMLParser({attributeNamePrefix:"",htmlEntities:!0,ignoreAttributes:!1,ignoreDeclaration:!0,parseTagValue:!1,trimValues:!1,tagValueProcessor:(e,t)=>""===t.trim()&&t.includes("\n")?"":void 0});t.addEntity("#xD","\r"),t.addEntity("#10","\n");const n=t.parse(e),r="#text",o=Object.keys(n)[0],i=n[o];return i[r]&&(i[o]=i[r],delete i[r]),st(i)}return{}})),ur=async(e,t)=>{const n=await sr(e,t);return n.Error&&(n.Error.message=n.Error.message??n.Error.Message),n},cr=(e,t)=>void 0!==t?.Code?t.Code:404==e.statusCode?"NotFound":void 0;const lr={step:"finalizeRequest",tags:["CHECK_CONTENT_LENGTH_HEADER"],name:"getCheckContentLengthHeaderPlugin",override:!0},dr=e=>({applyToStack:e=>{e.add(((e,t)=>async n=>{const{request:r}=n;if(Ct.isInstance(r)&&!r.headers["content-length"]){const e="Are you using a Stream of unknown length as the Body of a PutObject request? Consider using Upload instead from @aws-sdk/lib-storage.";"function"==typeof t?.logger?.warn?t.logger.warn(e):console.warn(e)}return e({...n})}),lr)}});const fr={step:"initialize",tags:["VALIDATE_BUCKET_NAME"],name:"validateBucketNameMiddleware",override:!0},pr=e=>({applyToStack:e=>{e.add((e=>async t=>{const{input:{Bucket:n}}=t;if("string"==typeof n&&!("string"==typeof(r=n)&&0===r.indexOf("arn:")&&r.split(":").length>=6)&&n.indexOf("/")>=0){const e=new Error(`Bucket name shouldn't contain '/', received '${n}'`);throw e.name="InvalidBucketName",e}var r;return e({...t})}),fr)}});const hr={name:"ssecMiddleware",step:"initialize",tags:["SSE"],override:!0},gr=e=>({applyToStack:t=>{var n;t.add((n=e,e=>async t=>{let r={...t.input};const o=[{target:"SSECustomerKey",hash:"SSECustomerKeyMD5"},{target:"CopySourceSSECustomerKey",hash:"CopySourceSSECustomerKeyMD5"}];for(const e of o){const t=r[e.target];if(t){const o=ArrayBuffer.isView(t)?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):"string"==typeof t?n.utf8Decoder(t):new Uint8Array(t),i=n.base64Encoder(o),a=new n.md5;a.update(o),r={...r,[e.target]:i,[e.hash]:n.base64Encoder(await a.digest())}}}return e({...t,input:r})}),hr)}});var mr,yr;!function(e){e.MD5="MD5",e.CRC32="CRC32",e.CRC32C="CRC32C",e.SHA1="SHA1",e.SHA256="SHA256"}(mr||(mr={})),function(e){e.HEADER="header",e.TRAILER="trailer"}(yr||(yr={}));const br=[mr.CRC32,mr.CRC32C,mr.SHA1,mr.SHA256],vr=[mr.CRC32,mr.CRC32C,mr.SHA1,mr.SHA256],wr=e=>e===mr.MD5?"content-md5":`x-amz-checksum-${e.toLowerCase()}`,Sr=e=>"function"==typeof ArrayBuffer&&e instanceof ArrayBuffer||"[object ArrayBuffer]"===Object.prototype.toString.call(e),_r=e=>void 0!==e&&"string"!=typeof e&&!ArrayBuffer.isView(e)&&!Sr(e);var Ar={},Pr=function(e,t){return Pr=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},Pr(e,t)};
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var xr=function(){return xr=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},xr.apply(this,arguments)};function Er(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function kr(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a}function Or(e){return this instanceof Or?(this.v=e,this):new Or(e)}var Rr=Object.freeze({__proto__:null,__extends:function(e,t){function n(){this.constructor=e}Pr(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},get __assign(){return xr},__rest:function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n},__decorate:function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},__param:function(e,t){return function(n,r){t(n,r,e)}},__metadata:function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},__awaiter:function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function s(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))},__generator:function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},__createBinding:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]},__exportStar:function(e,t){for(var n in e)"default"===n||t.hasOwnProperty(n)||(t[n]=e[n])},__values:Er,__read:kr,__spread:function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(kr(arguments[t]));return e},__spreadArrays:function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),o=0;for(t=0;t<n;t++)for(var i=arguments[t],a=0,s=i.length;a<s;a++,o++)r[o]=i[a];return r},__await:Or,__asyncGenerator:function(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,o=n.apply(e,t||[]),i=[];return r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r;function a(e){o[e]&&(r[e]=function(t){return new Promise((function(n,r){i.push([e,t,n,r])>1||s(e,t)}))})}function s(e,t){try{!function(e){e.value instanceof Or?Promise.resolve(e.value.v).then(u,c):l(i[0][2],e)}(o[e](t))}catch(e){l(i[0][3],e)}}function u(e){s("next",e)}function c(e){s("throw",e)}function l(e,t){e(t),i.shift(),i.length&&s(i[0][0],i[0][1])}},__asyncDelegator:function(e){var t,n;return t={},r("next"),r("throw",(function(e){throw e})),r("return"),t[Symbol.iterator]=function(){return this},t;function r(r,o){t[r]=e[r]?function(t){return(n=!n)?{value:Or(e[r](t)),done:"return"===r}:o?o(t):t}:o}},__asyncValues:function(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=Er(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise((function(r,o){(function(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)})(r,o,(t=e[n](t)).done,t.value)}))}}},__makeTemplateObject:function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},__importStar:function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t},__importDefault:function(e){return e&&e.__esModule?e:{default:e}},__classPrivateFieldGet:function(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)},__classPrivateFieldSet:function(e,t,n){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,n),n}}),Tr=g(Rr),Cr={},Mr={};var Nr=Object.freeze({__proto__:null,fromUtf8:e=>"function"==typeof TextEncoder?function(e){return(new TextEncoder).encode(e)}(e):(e=>{const t=[];for(let n=0,r=e.length;n<r;n++){const r=e.charCodeAt(n);if(r<128)t.push(r);else if(r<2048)t.push(r>>6|192,63&r|128);else if(n+1<e.length&&55296==(64512&r)&&56320==(64512&e.charCodeAt(n+1))){const o=65536+((1023&r)<<10)+(1023&e.charCodeAt(++n));t.push(o>>18|240,o>>12&63|128,o>>6&63|128,63&o|128)}else t.push(r>>12|224,r>>6&63|128,63&r|128)}return Uint8Array.from(t)})(e),toUtf8:e=>"function"==typeof TextDecoder?function(e){return new TextDecoder("utf-8").decode(e)}(e):(e=>{let t="";for(let n=0,r=e.length;n<r;n++){const r=e[n];if(r<128)t+=String.fromCharCode(r);else if(192<=r&&r<224){const o=e[++n];t+=String.fromCharCode((31&r)<<6|63&o)}else if(240<=r&&r<365){const o="%"+[r,e[++n],e[++n],e[++n]].map((e=>e.toString(16))).join("%");t+=decodeURIComponent(o)}else t+=String.fromCharCode((15&r)<<12|(63&e[++n])<<6|63&e[++n])}return t})(e)}),Ir=g(Nr);Object.defineProperty(Mr,"__esModule",{value:!0}),Mr.convertToBuffer=void 0;var Ur=Ir,jr="undefined"!=typeof Buffer&&Buffer.from?function(e){return Buffer.from(e,"utf8")}:Ur.fromUtf8;Mr.convertToBuffer=function(e){return e instanceof Uint8Array?e:"string"==typeof e?jr(e):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e)};var Lr={};Object.defineProperty(Lr,"__esModule",{value:!0}),Lr.isEmptyData=void 0,Lr.isEmptyData=function(e){return"string"==typeof e?0===e.length:0===e.byteLength};var Dr={};Object.defineProperty(Dr,"__esModule",{value:!0}),Dr.numToUint8=void 0,Dr.numToUint8=function(e){return new Uint8Array([(4278190080&e)>>24,(16711680&e)>>16,(65280&e)>>8,255&e])};var Br={};Object.defineProperty(Br,"__esModule",{value:!0}),Br.uint32ArrayFrom=void 0,Br.uint32ArrayFrom=function(e){if(!Uint32Array.from){for(var t=new Uint32Array(e.length),n=0;n<e.length;)t[n]=e[n],n+=1;return t}return Uint32Array.from(e)},function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.uint32ArrayFrom=e.numToUint8=e.isEmptyData=e.convertToBuffer=void 0;var t=Mr;Object.defineProperty(e,"convertToBuffer",{enumerable:!0,get:function(){return t.convertToBuffer}});var n=Lr;Object.defineProperty(e,"isEmptyData",{enumerable:!0,get:function(){return n.isEmptyData}});var r=Dr;Object.defineProperty(e,"numToUint8",{enumerable:!0,get:function(){return r.numToUint8}});var o=Br;Object.defineProperty(e,"uint32ArrayFrom",{enumerable:!0,get:function(){return o.uint32ArrayFrom}})}(Cr);var $r={};Object.defineProperty($r,"__esModule",{value:!0}),$r.AwsCrc32=void 0;var Fr=Tr,Hr=Cr,zr=Ar,qr=function(){function e(){this.crc32=new zr.Crc32}return e.prototype.update=function(e){(0,Hr.isEmptyData)(e)||this.crc32.update((0,Hr.convertToBuffer)(e))},e.prototype.digest=function(){return Fr.__awaiter(this,void 0,void 0,(function(){return Fr.__generator(this,(function(e){return[2,(0,Hr.numToUint8)(this.crc32.digest())]}))}))},e.prototype.reset=function(){this.crc32=new zr.Crc32},e}();$r.AwsCrc32=qr,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.AwsCrc32=e.Crc32=e.crc32=void 0;var t=Tr,n=Cr;e.crc32=function(e){return(new r).update(e).digest()};var r=function(){function e(){this.checksum=4294967295}return e.prototype.update=function(e){var n,r;try{for(var i=t.__values(e),a=i.next();!a.done;a=i.next()){var s=a.value;this.checksum=this.checksum>>>8^o[255&(this.checksum^s)]}}catch(e){n={error:e}}finally{try{a&&!a.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}return this},e.prototype.digest=function(){return(4294967295^this.checksum)>>>0},e}();e.Crc32=r;var o=(0,n.uint32ArrayFrom)([0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117]),i=$r;Object.defineProperty(e,"AwsCrc32",{enumerable:!0,get:function(){return i.AwsCrc32}})}(Ar);var Vr={},Gr=function(e,t){return Gr=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},Gr(e,t)};
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Wr=function(){return Wr=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Wr.apply(this,arguments)};function Kr(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Zr(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a}function Xr(e){return this instanceof Xr?(this.v=e,this):new Xr(e)}var Jr=Object.freeze({__proto__:null,__extends:function(e,t){function n(){this.constructor=e}Gr(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},get __assign(){return Wr},__rest:function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n},__decorate:function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},__param:function(e,t){return function(n,r){t(n,r,e)}},__metadata:function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},__awaiter:function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function s(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))},__generator:function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},__createBinding:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]},__exportStar:function(e,t){for(var n in e)"default"===n||t.hasOwnProperty(n)||(t[n]=e[n])},__values:Kr,__read:Zr,__spread:function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(Zr(arguments[t]));return e},__spreadArrays:function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),o=0;for(t=0;t<n;t++)for(var i=arguments[t],a=0,s=i.length;a<s;a++,o++)r[o]=i[a];return r},__await:Xr,__asyncGenerator:function(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,o=n.apply(e,t||[]),i=[];return r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r;function a(e){o[e]&&(r[e]=function(t){return new Promise((function(n,r){i.push([e,t,n,r])>1||s(e,t)}))})}function s(e,t){try{!function(e){e.value instanceof Xr?Promise.resolve(e.value.v).then(u,c):l(i[0][2],e)}(o[e](t))}catch(e){l(i[0][3],e)}}function u(e){s("next",e)}function c(e){s("throw",e)}function l(e,t){e(t),i.shift(),i.length&&s(i[0][0],i[0][1])}},__asyncDelegator:function(e){var t,n;return t={},r("next"),r("throw",(function(e){throw e})),r("return"),t[Symbol.iterator]=function(){return this},t;function r(r,o){t[r]=e[r]?function(t){return(n=!n)?{value:Xr(e[r](t)),done:"return"===r}:o?o(t):t}:o}},__asyncValues:function(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=Kr(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise((function(r,o){(function(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)})(r,o,(t=e[n](t)).done,t.value)}))}}},__makeTemplateObject:function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},__importStar:function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t},__importDefault:function(e){return e&&e.__esModule?e:{default:e}},__classPrivateFieldGet:function(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)},__classPrivateFieldSet:function(e,t,n){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,n),n}}),Yr=g(Jr),Qr={};Object.defineProperty(Qr,"__esModule",{value:!0}),Qr.AwsCrc32c=void 0;var eo=Yr,to=Cr,no=Vr,ro=function(){function e(){this.crc32c=new no.Crc32c}return e.prototype.update=function(e){(0,to.isEmptyData)(e)||this.crc32c.update((0,to.convertToBuffer)(e))},e.prototype.digest=function(){return eo.__awaiter(this,void 0,void 0,(function(){return eo.__generator(this,(function(e){return[2,(0,to.numToUint8)(this.crc32c.digest())]}))}))},e.prototype.reset=function(){this.crc32c=new no.Crc32c},e}();Qr.AwsCrc32c=ro,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.AwsCrc32c=e.Crc32c=e.crc32c=void 0;var t=Yr,n=Cr;e.crc32c=function(e){return(new r).update(e).digest()};var r=function(){function e(){this.checksum=4294967295}return e.prototype.update=function(e){var n,r;try{for(var i=t.__values(e),a=i.next();!a.done;a=i.next()){var s=a.value;this.checksum=this.checksum>>>8^o[255&(this.checksum^s)]}}catch(e){n={error:e}}finally{try{a&&!a.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}return this},e.prototype.digest=function(){return(4294967295^this.checksum)>>>0},e}();e.Crc32c=r;var o=(0,n.uint32ArrayFrom)([0,4067132163,3778769143,324072436,3348797215,904991772,648144872,3570033899,2329499855,2024987596,1809983544,2575936315,1296289744,3207089363,2893594407,1578318884,274646895,3795141740,4049975192,51262619,3619967088,632279923,922689671,3298075524,2592579488,1760304291,2075979607,2312596564,1562183871,2943781820,3156637768,1313733451,549293790,3537243613,3246849577,871202090,3878099393,357341890,102525238,4101499445,2858735121,1477399826,1264559846,3107202533,1845379342,2677391885,2361733625,2125378298,820201905,3263744690,3520608582,598981189,4151959214,85089709,373468761,3827903834,3124367742,1213305469,1526817161,2842354314,2107672161,2412447074,2627466902,1861252501,1098587580,3004210879,2688576843,1378610760,2262928035,1955203488,1742404180,2511436119,3416409459,969524848,714683780,3639785095,205050476,4266873199,3976438427,526918040,1361435347,2739821008,2954799652,1114974503,2529119692,1691668175,2005155131,2247081528,3690758684,697762079,986182379,3366744552,476452099,3993867776,4250756596,255256311,1640403810,2477592673,2164122517,1922457750,2791048317,1412925310,1197962378,3037525897,3944729517,427051182,170179418,4165941337,746937522,3740196785,3451792453,1070968646,1905808397,2213795598,2426610938,1657317369,3053634322,1147748369,1463399397,2773627110,4215344322,153784257,444234805,3893493558,1021025245,3467647198,3722505002,797665321,2197175160,1889384571,1674398607,2443626636,1164749927,3070701412,2757221520,1446797203,137323447,4198817972,3910406976,461344835,3484808360,1037989803,781091935,3705997148,2460548119,1623424788,1939049696,2180517859,1429367560,2807687179,3020495871,1180866812,410100952,3927582683,4182430767,186734380,3756733383,763408580,1053836080,3434856499,2722870694,1344288421,1131464017,2971354706,1708204729,2545590714,2229949006,1988219213,680717673,3673779818,3383336350,1002577565,4010310262,493091189,238226049,4233660802,2987750089,1082061258,1395524158,2705686845,1972364758,2279892693,2494862625,1725896226,952904198,3399985413,3656866545,731699698,4283874585,222117402,510512622,3959836397,3280807620,837199303,582374963,3504198960,68661723,4135334616,3844915500,390545967,1230274059,3141532936,2825850620,1510247935,2395924756,2091215383,1878366691,2644384480,3553878443,565732008,854102364,3229815391,340358836,3861050807,4117890627,119113024,1493875044,2875275879,3090270611,1247431312,2660249211,1828433272,2141937292,2378227087,3811616794,291187481,34330861,4032846830,615137029,3603020806,3314634738,939183345,1776939221,2609017814,2295496738,2058945313,2926798794,1545135305,1330124605,3173225534,4084100981,17165430,307568514,3762199681,888469610,3332340585,3587147933,665062302,2042050490,2346497209,2559330125,1793573966,3190661285,1279665062,1595330642,2910671697]),i=Qr;Object.defineProperty(e,"AwsCrc32c",{enumerable:!0,get:function(){return i.AwsCrc32c}})}(Vr);const oo=(e,t)=>({[mr.MD5]:t.md5,[mr.CRC32]:Ar.AwsCrc32,[mr.CRC32C]:Vr.AwsCrc32c,[mr.SHA1]:t.sha1,[mr.SHA256]:t.sha256}[e]),io=e=>(new TextEncoder).encode(e),ao=e=>"string"==typeof e?io(e):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e),so=e=>new TextDecoder("utf-8").decode(e),uo=(e,t)=>{const n=new e;return n.update(ao(t||"")),n.digest()},co=async(e,{streamHasher:t,checksumAlgorithmFn:n,base64Encoder:r})=>{const o=_r(e)?t(n,e):uo(n,e);return r(await o)},lo=async(e,{config:t,responseAlgorithms:n})=>{const r=((e=[])=>{const t=[];for(const n of vr)e.includes(n)&&br.includes(n)&&t.push(n);return t})(n),{body:o,headers:i}=e;for(const e of r){const n=wr(e),r=i[n];if(r){const i=oo(e,t),{streamHasher:a,base64Encoder:s}=t,u=await co(o,{streamHasher:a,checksumAlgorithmFn:i,base64Encoder:s});if(u===r)break;throw new Error(`Checksum mismatch: expected "${u}" but received "${r}" in response header "${n}".`)}}},fo=(e,t)=>n=>async r=>{if(!Ct.isInstance(r.request))return n(r);const{request:o}=r,{body:i,headers:a}=o,{base64Encoder:s,streamHasher:u}=e,{input:c,requestChecksumRequired:l,requestAlgorithmMember:d}=t,f=((e,{requestChecksumRequired:t,requestAlgorithmMember:n})=>{if(!n||!e[n])return t?mr.MD5:void 0;const r=e[n];if(!br.includes(r))throw new Error(`The checksum algorithm "${r}" is not supported by the client. Select one of ${br}.`);return r})(c,{requestChecksumRequired:l,requestAlgorithmMember:d});let p=i,h=a;if(f){const t=wr(f),n=oo(f,e);if(_r(i)){const{getAwsChunkedEncodingStream:r,bodyLengthChecker:o}=e;p=r(i,{base64Encoder:s,bodyLengthChecker:o,checksumLocationName:t,checksumAlgorithmFn:n,streamHasher:u}),h={...a,"content-encoding":a["content-encoding"]?`${a["content-encoding"]},aws-chunked`:"aws-chunked","transfer-encoding":"chunked","x-amz-decoded-content-length":a["content-length"],"x-amz-content-sha256":"STREAMING-UNSIGNED-PAYLOAD-TRAILER","x-amz-trailer":t},delete h["content-length"]}else if(!((e,t)=>{const n=e.toLowerCase();for(const e of Object.keys(t))if(n===e.toLowerCase())return!0;return!1})(t,a)){const e=await uo(n,i);h={...a,[t]:s(e)}}}const g=await n({...r,request:{...o,headers:h,body:p}}),{requestValidationModeMember:m,responseAlgorithms:y}=t;return m&&"ENABLED"===c[m]&&lo(g.response,{config:e,responseAlgorithms:y}),g},po={name:"flexibleChecksumsMiddleware",step:"build",tags:["BODY_CHECKSUM"],override:!0};class ho extends Ye{static getEndpointParameterInstructions(){return{Bucket:{type:"contextParams",name:"Bucket"},ForcePathStyle:{type:"clientContextParams",name:"forcePathStyle"},UseArnRegion:{type:"clientContextParams",name:"useArnRegion"},DisableMultiRegionAccessPoints:{type:"clientContextParams",name:"disableMultiregionAccessPoints"},Accelerate:{type:"clientContextParams",name:"useAccelerateEndpoint"},UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(e){super(),this.input=e}resolveMiddleware(e,t,n){var r,o;this.middlewareStack.use(Et(t,this.serialize,this.deserialize)),this.middlewareStack.use((r=t,o=ho.getEndpointParameterInstructions(),{applyToStack:e=>{e.addRelativeTo(At({config:r,instructions:o}),kt)}})),this.middlewareStack.use(dr()),this.middlewareStack.use(gr(t)),this.middlewareStack.use(((e,t)=>({applyToStack:n=>{n.add(fo(e,t),po)}}))(t,{input:this.input,requestAlgorithmMember:"ChecksumAlgorithm",requestChecksumRequired:!1}));const i=e.concat(this.middlewareStack),{logger:a}=t,s={logger:a,clientName:"S3Client",commandName:"PutObjectCommand",inputFilterSensitiveLog:Yn,outputFilterSensitiveLog:Jn},{requestHandler:u}=t;return i.resolve((e=>u.handle(e.request,n||{})),s)}serialize(e,t){return Qn(e,t)}deserialize(e,t){return er(e,t)}}var go;!function(e){e.ENV="env",e.CONFIG="shared config entry"}(go||(go={}));const mo=e=>"string"==typeof e&&(e.startsWith("fips-")||e.endsWith("-fips")),yo=e=>mo(e)?["fips-aws-global","aws-fips"].includes(e)?"us-east-1":e.replace(/fips-(dkr-|prod-)?|-fips/,""):e,bo="content-length";const vo={step:"build",tags:["SET_CONTENT_LENGTH","CONTENT_LENGTH"],name:"contentLengthMiddleware",override:!0},wo=e=>({applyToStack:t=>{var n;t.add((n=e.bodyLengthChecker,e=>async t=>{const r=t.request;if(Ct.isInstance(r)){const{body:e,headers:t}=r;if(e&&-1===Object.keys(t).map((e=>e.toLowerCase())).indexOf(bo))try{const t=n(e);r.headers={...r.headers,[bo]:String(t)}}catch(e){}}return e({...t,request:r})}),vo)}});const So={step:"build",tags:["SET_EXPECT_HEADER","EXPECT_HEADER"],name:"addExpectContinueMiddleware",override:!0},_o=e=>({applyToStack:t=>{t.add(function(e){return t=>async n=>{const{request:r}=n;return Ct.isInstance(r)&&r.body&&"node"===e.runtime&&(r.headers={...r.headers,Expect:"100-continue"}),t({...n,request:r})}}(e),So)}});const Ao={name:"hostHeaderMiddleware",step:"build",priority:"low",tags:["HOST"],override:!0},Po=e=>({applyToStack:t=>{t.add((e=>t=>async n=>{if(!Ct.isInstance(n.request))return t(n);const{request:r}=n,{handlerProtocol:o=""}=e.requestHandler.metadata||{};if(o.indexOf("h2")>=0&&!r.headers[":authority"])delete r.headers.host,r.headers[":authority"]="";else if(!r.headers.host){let e=r.hostname;null!=r.port&&(e+=`:${r.port}`),r.headers.host=e}return t(n)})(e),Ao)}}),xo={name:"loggerMiddleware",tags:["LOGGER"],step:"initialize",override:!0},Eo="X-Amzn-Trace-Id",ko={step:"build",tags:["RECURSION_DETECTION"],name:"recursionDetectionMiddleware",override:!0,priority:"low"},Oo=e=>({applyToStack:t=>{t.add((e=>t=>async n=>{const{request:r}=n;if(!Ct.isInstance(r)||"node"!==e.runtime||r.headers.hasOwnProperty(Eo))return t(n);const o=process.env.AWS_LAMBDA_FUNCTION_NAME,i=process.env._X_AMZN_TRACE_ID,a=e=>"string"==typeof e&&e.length>0;return a(o)&&a(i)&&(r.headers[Eo]=i),t({...n,request:r})})(e),ko)}});var Ro;!function(e){e.STANDARD="standard",e.ADAPTIVE="adaptive"}(Ro||(Ro={}));const To=Ro.STANDARD,Co=["BandwidthLimitExceeded","EC2ThrottledException","LimitExceededException","PriorRequestNotComplete","ProvisionedThroughputExceededException","RequestLimitExceeded","RequestThrottled","RequestThrottledException","SlowDown","ThrottledException","Throttling","ThrottlingException","TooManyRequestsException","TransactionInProgressException"],Mo=["AbortError","TimeoutError","RequestTimeout","RequestTimeoutException"],No=[500,502,503,504],Io=["ECONNRESET","ECONNREFUSED","EPIPE","ETIMEDOUT"],Uo=e=>429===e.$metadata?.httpStatusCode||Co.includes(e.name)||1==e.$retryable?.throttling,jo=e=>Mo.includes(e.name)||Io.includes(e?.code||"")||No.includes(e.$metadata?.httpStatusCode||0);class Lo{constructor(e){this.currentCapacity=0,this.enabled=!1,this.lastMaxRate=0,this.measuredTxRate=0,this.requestCount=0,this.lastTimestamp=0,this.timeWindow=0,this.beta=e?.beta??.7,this.minCapacity=e?.minCapacity??1,this.minFillRate=e?.minFillRate??.5,this.scaleConstant=e?.scaleConstant??.4,this.smooth=e?.smooth??.8;const t=this.getCurrentTimeInSeconds();this.lastThrottleTime=t,this.lastTxRateBucket=Math.floor(this.getCurrentTimeInSeconds()),this.fillRate=this.minFillRate,this.maxCapacity=this.minCapacity}getCurrentTimeInSeconds(){return Date.now()/1e3}async getSendToken(){return this.acquireTokenBucket(1)}async acquireTokenBucket(e){if(this.enabled){if(this.refillTokenBucket(),e>this.currentCapacity){const t=(e-this.currentCapacity)/this.fillRate*1e3;await new Promise((e=>setTimeout(e,t)))}this.currentCapacity=this.currentCapacity-e}}refillTokenBucket(){const e=this.getCurrentTimeInSeconds();if(!this.lastTimestamp)return void(this.lastTimestamp=e);const t=(e-this.lastTimestamp)*this.fillRate;this.currentCapacity=Math.min(this.maxCapacity,this.currentCapacity+t),this.lastTimestamp=e}updateClientSendingRate(e){let t;if(this.updateMeasuredRate(),Uo(e)){const e=this.enabled?Math.min(this.measuredTxRate,this.fillRate):this.measuredTxRate;this.lastMaxRate=e,this.calculateTimeWindow(),this.lastThrottleTime=this.getCurrentTimeInSeconds(),t=this.cubicThrottle(e),this.enableTokenBucket()}else this.calculateTimeWindow(),t=this.cubicSuccess(this.getCurrentTimeInSeconds());const n=Math.min(t,2*this.measuredTxRate);this.updateTokenBucketRate(n)}calculateTimeWindow(){this.timeWindow=this.getPrecise(Math.pow(this.lastMaxRate*(1-this.beta)/this.scaleConstant,1/3))}cubicThrottle(e){return this.getPrecise(e*this.beta)}cubicSuccess(e){return this.getPrecise(this.scaleConstant*Math.pow(e-this.lastThrottleTime-this.timeWindow,3)+this.lastMaxRate)}enableTokenBucket(){this.enabled=!0}updateTokenBucketRate(e){this.refillTokenBucket(),this.fillRate=Math.max(e,this.minFillRate),this.maxCapacity=Math.max(e,this.minCapacity),this.currentCapacity=Math.min(this.currentCapacity,this.maxCapacity)}updateMeasuredRate(){const e=this.getCurrentTimeInSeconds(),t=Math.floor(2*e)/2;if(this.requestCount++,t>this.lastTxRateBucket){const e=this.requestCount/(t-this.lastTxRateBucket);this.measuredTxRate=this.getPrecise(e*this.smooth+this.measuredTxRate*(1-this.smooth)),this.requestCount=0,this.lastTxRateBucket=t}}getPrecise(e){return parseFloat(e.toFixed(8))}}const Do=(e,t,n,r)=>{const o=e,i=r?.retryCost??5,a=r?.timeoutRetryCost??10,s=r?.retryBackoffStrategy??(()=>{let e=100;return{computeNextBackoffDelay:t=>Math.floor(Math.min(2e4,Math.random()*2**t*e)),setDelayBase:t=>{e=t}}})();let u,c=e,l=Math.min(2e4,t),d=n??0;const f=e=>"TRANSIENT"===e?a:i,p=e=>f(e)<=c;return{getRetryCount:()=>d,getRetryDelay:()=>l,getLastRetryCost:()=>u,hasRetryTokens:p,getRetryTokenCount:e=>{const t=e.errorType;if(!p(t))throw new Error("No retry token available");const n=f(t),r="THROTTLING"===t?500:100;s.setDelayBase(r);const o=s.computeNextBackoffDelay(d);if(e.retryAfterHint){const t=e.retryAfterHint.getTime()-Date.now();l=Math.max(t||0,o)}else l=o;return d++,u=n,c-=n,n},releaseRetryTokens:e=>{c+=e??1,c=Math.min(c,o)}}};class Bo{constructor(e){this.maxAttempts=e,this.mode=Ro.STANDARD,this.retryToken=Do(500,100),this.maxAttemptsProvider="function"==typeof e?e:async()=>e}async acquireInitialRetryToken(e){return this.retryToken}async refreshRetryTokenForRetry(e,t){const n=await this.getMaxAttempts();if(this.shouldRetry(e,t,n))return e.getRetryTokenCount(t),e;throw new Error("No retry token available")}recordSuccess(e){this.retryToken.releaseRetryTokens(e.getLastRetryCost())}async getMaxAttempts(){try{return await this.maxAttemptsProvider()}catch(e){return console.warn("Max attempts provider could not resolve. Using default of 3"),3}}shouldRetry(e,t,n){return e.getRetryCount()<n&&e.hasRetryTokens(t.errorType)&&this.isRetryableError(t.errorType)}isRetryableError(e){return"THROTTLING"===e||"TRANSIENT"===e}}class $o{constructor(e,t){this.maxAttemptsProvider=e,this.mode=Ro.ADAPTIVE;const{rateLimiter:n}=t??{};this.rateLimiter=n??new Lo,this.standardRetryStrategy=new Bo(e)}async acquireInitialRetryToken(e){return await this.rateLimiter.getSendToken(),this.standardRetryStrategy.acquireInitialRetryToken(e)}async refreshRetryTokenForRetry(e,t){return this.rateLimiter.updateClientSendingRate(t),this.standardRetryStrategy.refreshRetryTokenForRetry(e,t)}recordSuccess(e){this.rateLimiter.updateClientSendingRate({}),this.standardRetryStrategy.recordSuccess(e)}}var Fo,Ho=new Uint8Array(16);function zo(){if(!Fo&&!(Fo="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Fo(Ho)}var qo=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;for(var Vo=[],Go=0;Go<256;++Go)Vo.push((Go+256).toString(16).substr(1));function Wo(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(Vo[e[t+0]]+Vo[e[t+1]]+Vo[e[t+2]]+Vo[e[t+3]]+"-"+Vo[e[t+4]]+Vo[e[t+5]]+"-"+Vo[e[t+6]]+Vo[e[t+7]]+"-"+Vo[e[t+8]]+Vo[e[t+9]]+"-"+Vo[e[t+10]]+Vo[e[t+11]]+Vo[e[t+12]]+Vo[e[t+13]]+Vo[e[t+14]]+Vo[e[t+15]]).toLowerCase();if(!function(e){return"string"==typeof e&&qo.test(e)}(n))throw TypeError("Stringified UUID is invalid");return n}function Ko(e,t,n){var r=(e=e||{}).random||(e.rng||zo)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){n=n||0;for(var o=0;o<16;++o)t[n+o]=r[o];return t}return Wo(r)}const Zo=e=>void 0!==e.acquireInitialRetryToken&&void 0!==e.refreshRetryTokenForRetry&&void 0!==e.recordSuccess,Xo=e=>{const t={errorType:Jo(e)},n=ei(e.$response);return n&&(t.retryAfterHint=n),t},Jo=e=>Uo(e)?"THROTTLING":jo(e)?"TRANSIENT":(e=>{if(void 0!==e.$metadata?.httpStatusCode){const t=e.$metadata.httpStatusCode;return 500<=t&&t<=599&&!jo(e)}return!1})(e)?"SERVER_ERROR":"CLIENT_ERROR",Yo={name:"retryMiddleware",tags:["RETRY"],step:"finalizeRequest",priority:"high",override:!0},Qo=e=>({applyToStack:t=>{t.add((e=>(t,n)=>async r=>{let o=await e.retryStrategy();const i=await e.maxAttempts();if(!Zo(o))return o?.mode&&(n.userAgent=[...n.userAgent||[],["cfg/retry-mode",o.mode]]),o.retry(t,r);{let e=await o.acquireInitialRetryToken(n.partition_id),s=new Error,u=0,c=0;const{request:l}=r;for(Ct.isInstance(l)&&(l.headers["amz-sdk-invocation-id"]=Ko());;)try{Ct.isInstance(l)&&(l.headers["amz-sdk-request"]=`attempt=${u+1}; max=${i}`);const{response:n,output:a}=await t(r);return o.recordSuccess(e),a.$metadata.attempts=u+1,a.$metadata.totalRetryDelay=c,{response:n,output:a}}catch(t){const n=Xo(t);s=(a=t)instanceof Error?a:a instanceof Object?Object.assign(new Error,a):"string"==typeof a?new Error(a):new Error(`AWS SDK error wrapper for ${a}`);try{e=await o.refreshRetryTokenForRetry(e,n)}catch(e){throw s.$metadata||(s.$metadata={}),s.$metadata.attempts=u+1,s.$metadata.totalRetryDelay=c,s}u=e.getRetryCount();const r=e.getRetryDelay();c+=r,await new Promise((e=>setTimeout(e,r)))}}var a})(e),Yo)}}),ei=e=>{if(!Mt.isInstance(e))return;const t=Object.keys(e.headers).find((e=>"retry-after"===e.toLowerCase()));if(!t)return;const n=e.headers[t],r=Number(n);if(!Number.isNaN(r))return new Date(1e3*r);return new Date(n)},ti=(e,t,n)=>{let r,o,i,a=!1;const s=async()=>{o||(o=e());try{r=await o,i=!0,a=!1}finally{o=void 0}return r};return void 0===t?async e=>(i&&!e?.forceRefresh||(r=await s()),r):async e=>(i&&!e?.forceRefresh||(r=await s()),a?r:n&&!n(r)?(a=!0,r):t(r)?(await s(),r):r)},ni={},ri={};for(let e=0;e<256;e++){let t=e.toString(16).toLowerCase();1===t.length&&(t=`0${t}`),ni[e]=t,ri[t]=e}function oi(e){let t="";for(let n=0;n<e.byteLength;n++)t+=ni[e[n]];return t}const ii="X-Amz-Date",ai="X-Amz-Signature",si="X-Amz-Security-Token",ui="authorization",ci=ii.toLowerCase(),li=[ui,ci,"date"],di=ai.toLowerCase(),fi="x-amz-content-sha256",pi=si.toLowerCase(),hi={authorization:!0,"cache-control":!0,connection:!0,expect:!0,from:!0,"keep-alive":!0,"max-forwards":!0,pragma:!0,referer:!0,te:!0,trailer:!0,"transfer-encoding":!0,upgrade:!0,"user-agent":!0,"x-amzn-trace-id":!0},gi=/^proxy-/,mi=/^sec-/,yi="AWS4-HMAC-SHA256",bi="AWS4-HMAC-SHA256-PAYLOAD",vi="aws4_request",wi={},Si=[],_i=(e,t,n)=>`${e}/${t}/${n}/${vi}`,Ai=(e,t,n)=>{const r=new e(t);return r.update(ao(n)),r.digest()},Pi=({headers:e},t,n)=>{const r={};for(const o of Object.keys(e).sort()){if(null==e[o])continue;const i=o.toLowerCase();(i in hi||t?.has(i)||gi.test(i)||mi.test(i))&&(!n||n&&!n.has(i))||(r[i]=e[o].trim().replace(/\s+/g," "))}return r},xi=e=>encodeURIComponent(e).replace(/[!'()*]/g,Ei),Ei=e=>`%${e.charCodeAt(0).toString(16).toUpperCase()}`,ki=async({headers:e,body:t},n)=>{for(const t of Object.keys(e))if(t.toLowerCase()===fi)return e[t];if(null==t)return"e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855";if("string"==typeof t||ArrayBuffer.isView(t)||Sr(t)){const e=new n;return e.update(ao(t)),oi(await e.digest())}return"UNSIGNED-PAYLOAD"},Oi=({headers:e,query:t,...n})=>({...n,headers:{...e},query:t?Ri(t):void 0}),Ri=e=>Object.keys(e).reduce(((t,n)=>{const r=e[n];return{...t,[n]:Array.isArray(r)?[...r]:r}}),{}),Ti=e=>{e="function"==typeof e.clone?e.clone():Oi(e);for(const t of Object.keys(e.headers))li.indexOf(t.toLowerCase())>-1&&delete e.headers[t];return e},Ci=e=>"number"==typeof e?new Date(1e3*e):"string"==typeof e?Number(e)?new Date(1e3*Number(e)):new Date(e):e;class Mi{constructor({applyChecksum:e,credentials:t,region:n,service:r,sha256:o,uriEscapePath:i=!0}){this.service=r,this.sha256=o,this.uriEscapePath=i,this.applyChecksum="boolean"!=typeof e||e,this.regionProvider=Ot(n),this.credentialProvider=Ot(t)}async presign(e,t={}){const{signingDate:n=new Date,expiresIn:r=3600,unsignableHeaders:o,unhoistableHeaders:i,signableHeaders:a,signingRegion:s,signingService:u}=t,c=await this.credentialProvider();this.validateResolvedCredentials(c);const l=s??await this.regionProvider(),{longDate:d,shortDate:f}=Ni(n);if(r>604800)return Promise.reject("Signature version 4 presigned URLs must have an expiration date less than one week in the future");const p=_i(f,l,u??this.service),h=((e,t={})=>{const{headers:n,query:r={}}="function"==typeof e.clone?e.clone():Oi(e);for(const e of Object.keys(n)){const o=e.toLowerCase();"x-amz-"!==o.slice(0,6)||t.unhoistableHeaders?.has(o)||(r[e]=n[e],delete n[e])}return{...e,headers:n,query:r}})(Ti(e),{unhoistableHeaders:i});c.sessionToken&&(h.query[si]=c.sessionToken),h.query["X-Amz-Algorithm"]=yi,h.query["X-Amz-Credential"]=`${c.accessKeyId}/${p}`,h.query[ii]=d,h.query["X-Amz-Expires"]=r.toString(10);const g=Pi(h,o,a);return h.query["X-Amz-SignedHeaders"]=Ii(g),h.query[ai]=await this.getSignature(d,p,this.getSigningKey(c,l,f,u),this.createCanonicalRequest(h,g,await ki(e,this.sha256))),h}async sign(e,t){return"string"==typeof e?this.signString(e,t):e.headers&&e.payload?this.signEvent(e,t):this.signRequest(e,t)}async signEvent({headers:e,payload:t},{signingDate:n=new Date,priorSignature:r,signingRegion:o,signingService:i}){const a=o??await this.regionProvider(),{shortDate:s,longDate:u}=Ni(n),c=_i(s,a,i??this.service),l=await ki({headers:{},body:t},this.sha256),d=new this.sha256;d.update(e);const f=oi(await d.digest()),p=[bi,u,c,r,f,l].join("\n");return this.signString(p,{signingDate:n,signingRegion:a,signingService:i})}async signString(e,{signingDate:t=new Date,signingRegion:n,signingService:r}={}){const o=await this.credentialProvider();this.validateResolvedCredentials(o);const i=n??await this.regionProvider(),{shortDate:a}=Ni(t),s=new this.sha256(await this.getSigningKey(o,i,a,r));return s.update(ao(e)),oi(await s.digest())}async signRequest(e,{signingDate:t=new Date,signableHeaders:n,unsignableHeaders:r,signingRegion:o,signingService:i}={}){const a=await this.credentialProvider();this.validateResolvedCredentials(a);const s=o??await this.regionProvider(),u=Ti(e),{longDate:c,shortDate:l}=Ni(t),d=_i(l,s,i??this.service);u.headers[ci]=c,a.sessionToken&&(u.headers[pi]=a.sessionToken);const f=await ki(u,this.sha256);!((e,t)=>{e=e.toLowerCase();for(const n of Object.keys(t))if(e===n.toLowerCase())return!0;return!1})(fi,u.headers)&&this.applyChecksum&&(u.headers[fi]=f);const p=Pi(u,r,n),h=await this.getSignature(c,d,this.getSigningKey(a,s,l,i),this.createCanonicalRequest(u,p,f));return u.headers[ui]=`${yi} Credential=${a.accessKeyId}/${d}, SignedHeaders=${Ii(p)}, Signature=${h}`,u}createCanonicalRequest(e,t,n){const r=Object.keys(t).sort();return`${e.method}\n${this.getCanonicalPath(e)}\n${(({query:e={}})=>{const t=[],n={};for(const r of Object.keys(e).sort()){if(r.toLowerCase()===di)continue;t.push(r);const o=e[r];"string"==typeof o?n[r]=`${xi(r)}=${xi(o)}`:Array.isArray(o)&&(n[r]=o.slice(0).sort().reduce(((e,t)=>e.concat([`${xi(r)}=${xi(t)}`])),[]).join("&"))}return t.map((e=>n[e])).filter((e=>e)).join("&")})(e)}\n${r.map((e=>`${e}:${t[e]}`)).join("\n")}\n\n${r.join(";")}\n${n}`}async createStringToSign(e,t,n){const r=new this.sha256;r.update(ao(n));const o=await r.digest();return`${yi}\n${e}\n${t}\n${oi(o)}`}getCanonicalPath({path:e}){if(this.uriEscapePath){const t=[];for(const n of e.split("/"))0!==n?.length&&"."!==n&&(".."===n?t.pop():t.push(n));const n=`${e?.startsWith("/")?"/":""}${t.join("/")}${t.length>0&&e?.endsWith("/")?"/":""}`;return encodeURIComponent(n).replace(/%2F/g,"/")}return e}async getSignature(e,t,n,r){const o=await this.createStringToSign(e,t,r),i=new this.sha256(await n);return i.update(ao(o)),oi(await i.digest())}getSigningKey(e,t,n,r){return(async(e,t,n,r,o)=>{const i=`${n}:${r}:${o}:${oi(await Ai(e,t.secretAccessKey,t.accessKeyId))}:${t.sessionToken}`;if(i in wi)return wi[i];for(Si.push(i);Si.length>50;)delete wi[Si.shift()];let a=`AWS4${t.secretAccessKey}`;for(const t of[n,r,o,vi])a=await Ai(e,a,t);return wi[i]=a})(this.sha256,e,n,t,r||this.service)}validateResolvedCredentials(e){if("object"!=typeof e||"string"!=typeof e.accessKeyId||"string"!=typeof e.secretAccessKey)throw new Error("Resolved credential object is not valid")}}const Ni=e=>{const t=(n=e,Ci(n).toISOString().replace(/\.\d{3}Z$/,"Z")).replace(/[\-:]/g,"");var n;return{longDate:t,shortDate:t.slice(0,8)}},Ii=e=>Object.keys(e).sort().join(";"),Ui=e=>"function"==typeof e?ti(e,(e=>void 0!==e.expiration&&e.expiration.getTime()-Date.now()<3e5),(e=>void 0!==e.expiration)):Ot(e),ji=e=>new Date(Date.now()+e),Li=(e,t)=>{const n=Date.parse(e);return((e,t)=>Math.abs(ji(t).getTime()-e)>=3e5)(n,t)?n-Date.now():t},Di=e=>Mt.isInstance(e)?e.headers?.date??e.headers?.Date:void 0,Bi={name:"awsAuthMiddleware",tags:["SIGNATURE","AWSAUTH"],relation:"after",toMiddleware:"retryMiddleware",override:!0},$i=e=>({applyToStack:t=>{t.addRelativeTo((e=>(t,n)=>async function(r){if(!Ct.isInstance(r.request))return t(r);const o=n.endpointV2?.properties?.authSchemes?.[0],i="sigv4a"===o?.name?o?.signingRegionSet?.join(","):void 0,a=await e.signer(o),s=await t({...r,request:await a.sign(r.request,{signingDate:ji(e.systemClockOffset),signingRegion:i||n.signing_region,signingService:n.signing_service})}).catch((t=>{const n=t.ServerTime??Di(t.$response);throw n&&(e.systemClockOffset=Li(n,e.systemClockOffset)),t})),u=Di(s.response);return u&&(e.systemClockOffset=Li(u,e.systemClockOffset)),s})(e),Bi)}});var Fi={partitions:[{id:"aws",outputs:{dnsSuffix:"amazonaws.com",dualStackDnsSuffix:"api.aws",name:"aws",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^(us|eu|ap|sa|ca|me|af)\\-\\w+\\-\\d+$",regions:{"af-south-1":{description:"Africa (Cape Town)"},"ap-east-1":{description:"Asia Pacific (Hong Kong)"},"ap-northeast-1":{description:"Asia Pacific (Tokyo)"},"ap-northeast-2":{description:"Asia Pacific (Seoul)"},"ap-northeast-3":{description:"Asia Pacific (Osaka)"},"ap-south-1":{description:"Asia Pacific (Mumbai)"},"ap-south-2":{description:"Asia Pacific (Hyderabad)"},"ap-southeast-1":{description:"Asia Pacific (Singapore)"},"ap-southeast-2":{description:"Asia Pacific (Sydney)"},"ap-southeast-3":{description:"Asia Pacific (Jakarta)"},"ap-southeast-4":{description:"Asia Pacific (Melbourne)"},"aws-global":{description:"AWS Standard global region"},"ca-central-1":{description:"Canada (Central)"},"eu-central-1":{description:"Europe (Frankfurt)"},"eu-central-2":{description:"Europe (Zurich)"},"eu-north-1":{description:"Europe (Stockholm)"},"eu-south-1":{description:"Europe (Milan)"},"eu-south-2":{description:"Europe (Spain)"},"eu-west-1":{description:"Europe (Ireland)"},"eu-west-2":{description:"Europe (London)"},"eu-west-3":{description:"Europe (Paris)"},"me-central-1":{description:"Middle East (UAE)"},"me-south-1":{description:"Middle East (Bahrain)"},"sa-east-1":{description:"South America (Sao Paulo)"},"us-east-1":{description:"US East (N. Virginia)"},"us-east-2":{description:"US East (Ohio)"},"us-west-1":{description:"US West (N. California)"},"us-west-2":{description:"US West (Oregon)"}}},{id:"aws-cn",outputs:{dnsSuffix:"amazonaws.com.cn",dualStackDnsSuffix:"api.amazonwebservices.com.cn",name:"aws-cn",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^cn\\-\\w+\\-\\d+$",regions:{"aws-cn-global":{description:"AWS China global region"},"cn-north-1":{description:"China (Beijing)"},"cn-northwest-1":{description:"China (Ningxia)"}}},{id:"aws-us-gov",outputs:{dnsSuffix:"amazonaws.com",dualStackDnsSuffix:"api.aws",name:"aws-us-gov",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^us\\-gov\\-\\w+\\-\\d+$",regions:{"aws-us-gov-global":{description:"AWS GovCloud (US) global region"},"us-gov-east-1":{description:"AWS GovCloud (US-East)"},"us-gov-west-1":{description:"AWS GovCloud (US-West)"}}},{id:"aws-iso",outputs:{dnsSuffix:"c2s.ic.gov",dualStackDnsSuffix:"c2s.ic.gov",name:"aws-iso",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^us\\-iso\\-\\w+\\-\\d+$",regions:{"aws-iso-global":{description:"AWS ISO (US) global region"},"us-iso-east-1":{description:"US ISO East"},"us-iso-west-1":{description:"US ISO WEST"}}},{id:"aws-iso-b",outputs:{dnsSuffix:"sc2s.sgov.gov",dualStackDnsSuffix:"sc2s.sgov.gov",name:"aws-iso-b",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^us\\-isob\\-\\w+\\-\\d+$",regions:{"aws-iso-b-global":{description:"AWS ISOB (US) global region"},"us-isob-east-1":{description:"US ISOB East (Ohio)"}}},{id:"aws-iso-e",outputs:{dnsSuffix:"cloud.adc-e.uk",dualStackDnsSuffix:"cloud.adc-e.uk",name:"aws-iso-e",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^eu\\-isoe\\-\\w+\\-\\d+$",regions:{}}],version:"1.1"};let Hi=Fi,zi="";const qi=(e,t="")=>{Hi=e,zi=t},Vi=()=>zi,Gi="endpoints";function Wi(e){return"object"!=typeof e||null==e?e:"ref"in e?`$${Wi(e.ref)}`:"fn"in e?`${e.fn}(${(e.argv||[]).map(Wi).join(", ")})`:JSON.stringify(e,null,2)}class Ki extends Error{constructor(e){super(e),this.name="EndpointError"}}const Zi=new RegExp("^(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}$"),Xi=e=>Zi.test(e)||e.startsWith("[")&&e.endsWith("]"),Ji=new RegExp("^(?!.*-$)(?!-)[a-zA-Z0-9-]{1,63}$"),Yi=(e,t=!1)=>{if(!t)return Ji.test(e);const n=e.split(".");for(const e of n)if(!Yi(e))return!1;return!0},Qi=(e,t=!1)=>{if(t){for(const t of e.split("."))if(!Qi(t))return!1;return!0}return!!Yi(e)&&(!(e.length<3||e.length>63)&&(e===e.toLowerCase()&&!Xi(e)))};var ea=Object.freeze({__proto__:null,isVirtualHostableS3Bucket:Qi,parseArn:e=>{const t=e.split(":");if(t.length<6)return null;const[n,r,o,i,a,...s]=t;return"arn"!==n||""===r||""===o||""===s[0]?null:{partition:r,service:o,region:i,accountId:a,resourceId:s[0].includes("/")?s[0].split("/"):s}},partition:e=>{const{partitions:t}=Hi;for(const n of t){const{regions:t,outputs:r}=n;for(const[n,o]of Object.entries(t))if(n===e)return{...r,...o}}for(const n of t){const{regionRegex:t,outputs:r}=n;if(new RegExp(t).test(e))return{...r}}const n=t.find((e=>"aws"===e.id));if(!n)throw new Error("Provided region was not found in the partition array or regex, and default partition with id 'aws' doesn't exist.");return{...n.outputs}},setPartitionInfo:qi,useDefaultPartitionInfo:()=>{qi(Fi,"")},getUserAgentPrefix:Vi});const ta=(e,t)=>(e=>{const t=e.split("."),n=[];for(const r of t){const t=r.indexOf("[");if(-1!==t){if(r.indexOf("]")!==r.length-1)throw new Ki(`Path: '${e}' does not end with ']'`);const o=r.slice(t+1,-1);if(Number.isNaN(parseInt(o)))throw new Ki(`Invalid array index: '${o}' in path: '${e}'`);0!==t&&n.push(r.slice(0,t)),n.push(o)}else n.push(r)}return n})(t).reduce(((n,r)=>{if("object"!=typeof n)throw new Ki(`Index '${r}' in '${t}' not found in '${JSON.stringify(e)}'`);return Array.isArray(n)?n[parseInt(r)]:n[r]}),e);var na,ra,oa,ia;!function(e){e.HEADER="header",e.QUERY="query"}(na||(na={})),function(e){e.AAAA="AAAA",e.A="A"}(ra||(ra={})),function(e){e.HTTP="http",e.HTTPS="https"}(oa||(oa={})),function(e){e.HTTP_0_9="http/0.9",e.HTTP_1_0="http/1.0",e.TDS_8_0="tds/8.0"}(ia||(ia={}));const aa={[oa.HTTP]:80,[oa.HTTPS]:443};var sa=Object.freeze({__proto__:null,aws:ea,booleanEquals:(e,t)=>e===t,getAttr:ta,isSet:e=>null!=e,isValidHostLabel:Yi,not:e=>!e,parseURL:e=>{const t=(()=>{try{if(e instanceof URL)return e;if("object"==typeof e&&"hostname"in e){const{hostname:t,port:n,protocol:r="",path:o="",query:i={}}=e,a=new URL(`${r}//${t}${n?`:${n}`:""}${o}`);return a.search=Object.entries(i).map((([e,t])=>`${e}=${t}`)).join("&"),a}return new URL(e)}catch(e){return null}})();if(!t)return console.error(`Unable to parse ${JSON.stringify(e)} as a whatwg URL.`),null;const n=t.href,{host:r,hostname:o,pathname:i,protocol:a,search:s}=t;if(s)return null;const u=a.slice(0,-1);if(!Object.values(oa).includes(u))return null;const c=Xi(o);return{scheme:u,authority:`${r}${n.includes(`${r}:${aa[u]}`)||"string"==typeof e&&e.includes(`${r}:${aa[u]}`)?`:${aa[u]}`:""}`,path:i,normalizedPath:i.endsWith("/")?i:`${i}/`,isIp:c}},stringEquals:(e,t)=>e===t,substring:(e,t,n,r)=>t>=n||e.length<n?null:r?e.substring(e.length-n,e.length-t):e.substring(t,n),uriEncode:e=>encodeURIComponent(e).replace(/[!*'()]/g,(e=>`%${e.charCodeAt(0).toString(16).toUpperCase()}`))});const ua=(e,t)=>{const n=[],r={...t.endpointParams,...t.referenceRecord};let o=0;for(;o<e.length;){const t=e.indexOf("{",o);if(-1===t){n.push(e.slice(o));break}n.push(e.slice(o,t));const i=e.indexOf("}",t);if(-1===i){n.push(e.slice(t));break}"{"===e[t+1]&&"}"===e[i+1]&&(n.push(e.slice(t+1,i)),o=i+2);const a=e.substring(t+1,i);if(a.includes("#")){const[e,t]=a.split("#");n.push(ta(r[e],t))}else n.push(r[a]);o=i+1}return n.join("")},ca=(e,t,n)=>{if("string"==typeof e)return ua(e,n);if(e.fn)return la(e,n);if(e.ref)return(({ref:e},t)=>({...t.endpointParams,...t.referenceRecord}[e]))(e,n);throw new Ki(`'${t}': ${String(e)} is not a string, function or reference.`)},la=({fn:e,argv:t},n)=>{const r=t.map((e=>["boolean","number"].includes(typeof e)?e:ca(e,"arg",n)));return e.split(".").reduce(((e,t)=>e[t]),sa)(...r)},da=({assign:e,...t},n)=>{if(e&&e in n.referenceRecord)throw new Ki(`'${e}' is already defined in Reference Record.`);const r=la(t,n);return n.logger?.debug?.(Gi,`evaluateCondition: ${Wi(t)} = ${Wi(r)}`),{result:""===r||!!r,...null!=e&&{toAssign:{name:e,value:r}}}},fa=(e=[],t)=>{const n={};for(const r of e){const{result:e,toAssign:o}=da(r,{...t,referenceRecord:{...t.referenceRecord,...n}});if(!e)return{result:e};o&&(n[o.name]=o.value,t.logger?.debug?.(Gi,`assign: ${o.name} := ${Wi(o.value)}`))}return{result:!0,referenceRecord:n}},pa=(e,t)=>Object.entries(e).reduce(((e,[n,r])=>({...e,[n]:r.map((e=>{const r=ca(e,"Header value entry",t);if("string"!=typeof r)throw new Ki(`Header '${n}' value '${r}' is not a string`);return r}))})),{}),ha=(e,t)=>{if(Array.isArray(e))return e.map((e=>ha(e,t)));switch(typeof e){case"string":return ua(e,t);case"object":if(null===e)throw new Ki(`Unexpected endpoint property: ${e}`);return ga(e,t);case"boolean":return e;default:throw new Ki("Unexpected endpoint property type: "+typeof e)}},ga=(e,t)=>Object.entries(e).reduce(((e,[n,r])=>({...e,[n]:ha(r,t)})),{}),ma=(e,t)=>{const n=ca(e,"Endpoint URL",t);if("string"==typeof n)try{return new URL(n)}catch(e){throw console.error(`Failed to construct URL with ${n}`,e),e}throw new Ki("Endpoint URL must be a string, got "+typeof n)},ya=(e,t)=>{const{conditions:n,endpoint:r}=e,{result:o,referenceRecord:i}=fa(n,t);if(!o)return;const a={...t,referenceRecord:{...t.referenceRecord,...i}},{url:s,properties:u,headers:c}=r;return t.logger?.debug?.(Gi,`Resolving endpoint from template: ${Wi(r)}`),{...null!=c&&{headers:pa(c,a)},...null!=u&&{properties:ga(u,a)},url:ma(s,a)}},ba=(e,t)=>{const{conditions:n,error:r}=e,{result:o,referenceRecord:i}=fa(n,t);if(o)throw new Ki(ca(r,"Error",{...t,referenceRecord:{...t.referenceRecord,...i}}))},va=(e,t)=>{const{conditions:n,rules:r}=e,{result:o,referenceRecord:i}=fa(n,t);if(o)return wa(r,{...t,referenceRecord:{...t.referenceRecord,...i}})},wa=(e,t)=>{for(const n of e)if("endpoint"===n.type){const e=ya(n,t);if(e)return e}else if("error"===n.type)ba(n,t);else{if("tree"!==n.type)throw new Ki(`Unknown endpoint rule: ${n}`);{const e=va(n,t);if(e)return e}}throw new Ki("Rules evaluation failed")},Sa="user-agent",_a="x-amz-user-agent",Aa=/[^\!\#\$\%\&\'\*\+\-\.\^\_\`\|\~\d\w]/g,Pa=([e,t])=>{const n=e.indexOf("/"),r=e.substring(0,n);let o=e.substring(n+1);return"api"===r&&(o=o.toLowerCase()),[r,o,t].filter((e=>e&&e.length>0)).map((e=>e?.replace(Aa,"_"))).join("/")},xa={name:"getUserAgentMiddleware",step:"build",priority:"low",tags:["SET_USER_AGENT","USER_AGENT"],override:!0},Ea=e=>({applyToStack:t=>{var n;t.add((n=e,(e,t)=>async r=>{const{request:o}=r;if(!Ct.isInstance(o))return e(r);const{headers:i}=o,a=t?.userAgent?.map(Pa)||[],s=(await n.defaultUserAgentProvider()).map(Pa),u=n?.customUserAgent?.map(Pa)||[],c=Vi(),l=(c?[c]:[]).concat([...s,...a,...u]).join(" "),d=[...s.filter((e=>e.startsWith("aws-sdk-"))),...u].join(" ");return"browser"!==n.runtime?(d&&(i[_a]=i[_a]?`${i[Sa]} ${d}`:d),i[Sa]=l):i[_a]=l,e({...r,request:o})}),xa)}});var ka="3.332.0",Oa={},Ra=function(e,t){return Ra=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},Ra(e,t)};var Ta=function(){return Ta=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Ta.apply(this,arguments)};function Ca(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ma(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a}function Na(e){return this instanceof Na?(this.v=e,this):new Na(e)}var Ia=Object.freeze({__proto__:null,__extends:function(e,t){function n(){this.constructor=e}Ra(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},get __assign(){return Ta},__rest:function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n},__decorate:function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},__param:function(e,t){return function(n,r){t(n,r,e)}},__metadata:function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},__awaiter:function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function s(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))},__generator:function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},__createBinding:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]},__exportStar:function(e,t){for(var n in e)"default"===n||t.hasOwnProperty(n)||(t[n]=e[n])},__values:Ca,__read:Ma,__spread:function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(Ma(arguments[t]));return e},__spreadArrays:function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),o=0;for(t=0;t<n;t++)for(var i=arguments[t],a=0,s=i.length;a<s;a++,o++)r[o]=i[a];return r},__await:Na,__asyncGenerator:function(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,o=n.apply(e,t||[]),i=[];return r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r;function a(e){o[e]&&(r[e]=function(t){return new Promise((function(n,r){i.push([e,t,n,r])>1||s(e,t)}))})}function s(e,t){try{!function(e){e.value instanceof Na?Promise.resolve(e.value.v).then(u,c):l(i[0][2],e)}(o[e](t))}catch(e){l(i[0][3],e)}}function u(e){s("next",e)}function c(e){s("throw",e)}function l(e,t){e(t),i.shift(),i.length&&s(i[0][0],i[0][1])}},__asyncDelegator:function(e){var t,n;return t={},r("next"),r("throw",(function(e){throw e})),r("return"),t[Symbol.iterator]=function(){return this},t;function r(r,o){t[r]=e[r]?function(t){return(n=!n)?{value:Na(e[r](t)),done:"return"===r}:o?o(t):t}:o}},__asyncValues:function(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=Ca(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise((function(r,o){(function(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)})(r,o,(t=e[n](t)).done,t.value)}))}}},__makeTemplateObject:function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},__importStar:function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t},__importDefault:function(e){return e&&e.__esModule?e:{default:e}},__classPrivateFieldGet:function(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)},__classPrivateFieldSet:function(e,t,n){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,n),n}}),Ua=g(Ia),ja={},La={},Da={};Object.defineProperty(Da,"__esModule",{value:!0}),Da.isEmptyData=void 0,Da.isEmptyData=function(e){return"string"==typeof e?0===e.length:0===e.byteLength};var Ba,$a={};Ba=$a,Object.defineProperty(Ba,"__esModule",{value:!0}),Ba.EMPTY_DATA_SHA_1=Ba.SHA_1_HMAC_ALGO=Ba.SHA_1_HASH=void 0,Ba.SHA_1_HASH={name:"SHA-1"},Ba.SHA_1_HMAC_ALGO={name:"HMAC",hash:Ba.SHA_1_HASH},Ba.EMPTY_DATA_SHA_1=new Uint8Array([218,57,163,238,94,107,75,13,50,85,191,239,149,96,24,144,175,216,7,9]);const Fa={};var Ha=g(Object.freeze({__proto__:null,locateWindow:function(){return"undefined"!=typeof window?window:"undefined"!=typeof self?self:Fa}}));Object.defineProperty(La,"__esModule",{value:!0}),La.Sha1=void 0;var za=Da,qa=$a,Va=Ir,Ga=Ha,Wa=function(){function e(e){this.secret=e,this.reset()}return e.prototype.update=function(e){var t=this;(0,za.isEmptyData)(e)||(this.operation=this.operation.then((function(n){return n.onerror=function(){t.operation=Promise.reject(new Error("Error encountered updating hash"))},n.process(Ka(e)),n})),this.operation.catch((function(){})))},e.prototype.digest=function(){return this.operation.then((function(e){return new Promise((function(t,n){e.onerror=function(){n(new Error("Error encountered finalizing hash"))},e.oncomplete=function(){e.result&&t(new Uint8Array(e.result)),n(new Error("Error encountered finalizing hash"))},e.finish()}))}))},e.prototype.reset=function(){var e;this.secret?(this.operation=(e=this.secret,new Promise((function(t,n){var r=(0,Ga.locateWindow)().msCrypto.subtle.importKey("raw",Ka(e),qa.SHA_1_HMAC_ALGO,!1,["sign"]);r.oncomplete=function(){r.result&&t(r.result),n(new Error("ImportKey completed without importing key."))},r.onerror=function(){n(new Error("ImportKey failed to import key."))}}))).then((function(e){return(0,Ga.locateWindow)().msCrypto.subtle.sign(qa.SHA_1_HMAC_ALGO,e)})),this.operation.catch((function(){}))):this.operation=Promise.resolve((0,Ga.locateWindow)().msCrypto.subtle.digest("SHA-1"))},e}();function Ka(e){return"string"==typeof e?(0,Va.fromUtf8)(e):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e)}La.Sha1=Wa;var Za={};Object.defineProperty(Za,"__esModule",{value:!0}),Za.Sha1=void 0;var Xa=Ir,Ja=Da,Ya=$a,Qa=Ha,es=function(){function e(e){this.toHash=new Uint8Array(0),void 0!==e&&(this.key=new Promise((function(t,n){(0,Qa.locateWindow)().crypto.subtle.importKey("raw",ts(e),Ya.SHA_1_HMAC_ALGO,!1,["sign"]).then(t,n)})),this.key.catch((function(){})))}return e.prototype.update=function(e){if(!(0,Ja.isEmptyData)(e)){var t=ts(e),n=new Uint8Array(this.toHash.byteLength+t.byteLength);n.set(this.toHash,0),n.set(t,this.toHash.byteLength),this.toHash=n}},e.prototype.digest=function(){var e=this;return this.key?this.key.then((function(t){return(0,Qa.locateWindow)().crypto.subtle.sign(Ya.SHA_1_HMAC_ALGO,t,e.toHash).then((function(e){return new Uint8Array(e)}))})):(0,Ja.isEmptyData)(this.toHash)?Promise.resolve(Ya.EMPTY_DATA_SHA_1):Promise.resolve().then((function(){return(0,Qa.locateWindow)().crypto.subtle.digest(Ya.SHA_1_HASH,e.toHash)})).then((function(e){return Promise.resolve(new Uint8Array(e))}))},e.prototype.reset=function(){this.toHash=new Uint8Array(0)},e}();function ts(e){return"string"==typeof e?(0,Xa.fromUtf8)(e):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e)}Za.Sha1=es;var ns={},rs=function(e,t){return rs=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},rs(e,t)};
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var os=function(){return os=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},os.apply(this,arguments)};function is(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function as(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a}function ss(e){return this instanceof ss?(this.v=e,this):new ss(e)}var us=Object.freeze({__proto__:null,__extends:function(e,t){function n(){this.constructor=e}rs(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},get __assign(){return os},__rest:function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n},__decorate:function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},__param:function(e,t){return function(n,r){t(n,r,e)}},__metadata:function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},__awaiter:function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function s(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))},__generator:function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},__createBinding:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]},__exportStar:function(e,t){for(var n in e)"default"===n||t.hasOwnProperty(n)||(t[n]=e[n])},__values:is,__read:as,__spread:function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(as(arguments[t]));return e},__spreadArrays:function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),o=0;for(t=0;t<n;t++)for(var i=arguments[t],a=0,s=i.length;a<s;a++,o++)r[o]=i[a];return r},__await:ss,__asyncGenerator:function(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,o=n.apply(e,t||[]),i=[];return r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r;function a(e){o[e]&&(r[e]=function(t){return new Promise((function(n,r){i.push([e,t,n,r])>1||s(e,t)}))})}function s(e,t){try{!function(e){e.value instanceof ss?Promise.resolve(e.value.v).then(u,c):l(i[0][2],e)}(o[e](t))}catch(e){l(i[0][3],e)}}function u(e){s("next",e)}function c(e){s("throw",e)}function l(e,t){e(t),i.shift(),i.length&&s(i[0][0],i[0][1])}},__asyncDelegator:function(e){var t,n;return t={},r("next"),r("throw",(function(e){throw e})),r("return"),t[Symbol.iterator]=function(){return this},t;function r(r,o){t[r]=e[r]?function(t){return(n=!n)?{value:ss(e[r](t)),done:"return"===r}:o?o(t):t}:o}},__asyncValues:function(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=is(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise((function(r,o){(function(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)})(r,o,(t=e[n](t)).done,t.value)}))}}},__makeTemplateObject:function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},__importStar:function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t},__importDefault:function(e){return e&&e.__esModule?e:{default:e}},__classPrivateFieldGet:function(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)},__classPrivateFieldSet:function(e,t,n){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,n),n}}),cs=g(us),ls={};Object.defineProperty(ls,"__esModule",{value:!0}),ls.supportsZeroByteGCM=ls.supportsSubtleCrypto=ls.supportsSecureRandom=ls.supportsWebCrypto=void 0;var ds=cs,fs=["decrypt","digest","encrypt","exportKey","generateKey","importKey","sign","verify"];function ps(e){return"object"==typeof e&&"object"==typeof e.crypto&&"function"==typeof e.crypto.getRandomValues}function hs(e){return e&&fs.every((function(t){return"function"==typeof e[t]}))}ls.supportsWebCrypto=function(e){return!(!ps(e)||"object"!=typeof e.crypto.subtle)&&hs(e.crypto.subtle)},ls.supportsSecureRandom=ps,ls.supportsSubtleCrypto=hs,ls.supportsZeroByteGCM=function(e){return ds.__awaiter(this,void 0,void 0,(function(){var t;return ds.__generator(this,(function(n){switch(n.label){case 0:if(!hs(e))return[2,!1];n.label=1;case 1:return n.trys.push([1,4,,5]),[4,e.generateKey({name:"AES-GCM",length:128},!1,["encrypt"])];case 2:return t=n.sent(),[4,e.encrypt({name:"AES-GCM",iv:new Uint8Array(Array(12)),additionalData:new Uint8Array(Array(16)),tagLength:128},t,new Uint8Array(0))];case 3:return[2,16===n.sent().byteLength];case 4:return n.sent(),[2,!1];case 5:return[2]}}))}))},function(e){Object.defineProperty(e,"__esModule",{value:!0}),cs.__exportStar(ls,e)}(ns);var gs={},ms=function(e,t){return ms=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},ms(e,t)};
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var ys=function(){return ys=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},ys.apply(this,arguments)};function bs(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function vs(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a}function ws(e){return this instanceof ws?(this.v=e,this):new ws(e)}var Ss=Object.freeze({__proto__:null,__extends:function(e,t){function n(){this.constructor=e}ms(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},get __assign(){return ys},__rest:function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n},__decorate:function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},__param:function(e,t){return function(n,r){t(n,r,e)}},__metadata:function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},__awaiter:function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function s(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))},__generator:function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},__createBinding:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]},__exportStar:function(e,t){for(var n in e)"default"===n||t.hasOwnProperty(n)||(t[n]=e[n])},__values:bs,__read:vs,__spread:function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(vs(arguments[t]));return e},__spreadArrays:function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),o=0;for(t=0;t<n;t++)for(var i=arguments[t],a=0,s=i.length;a<s;a++,o++)r[o]=i[a];return r},__await:ws,__asyncGenerator:function(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,o=n.apply(e,t||[]),i=[];return r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r;function a(e){o[e]&&(r[e]=function(t){return new Promise((function(n,r){i.push([e,t,n,r])>1||s(e,t)}))})}function s(e,t){try{!function(e){e.value instanceof ws?Promise.resolve(e.value.v).then(u,c):l(i[0][2],e)}(o[e](t))}catch(e){l(i[0][3],e)}}function u(e){s("next",e)}function c(e){s("throw",e)}function l(e,t){e(t),i.shift(),i.length&&s(i[0][0],i[0][1])}},__asyncDelegator:function(e){var t,n;return t={},r("next"),r("throw",(function(e){throw e})),r("return"),t[Symbol.iterator]=function(){return this},t;function r(r,o){t[r]=e[r]?function(t){return(n=!n)?{value:ws(e[r](t)),done:"return"===r}:o?o(t):t}:o}},__asyncValues:function(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=bs(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise((function(r,o){(function(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)})(r,o,(t=e[n](t)).done,t.value)}))}}},__makeTemplateObject:function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},__importStar:function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t},__importDefault:function(e){return e&&e.__esModule?e:{default:e}},__classPrivateFieldGet:function(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)},__classPrivateFieldSet:function(e,t,n){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,n),n}}),_s=g(Ss),As={};Object.defineProperty(As,"__esModule",{value:!0});var Ps={};Object.defineProperty(Ps,"__esModule",{value:!0});var xs={};Object.defineProperty(xs,"__esModule",{value:!0});var Es={};Object.defineProperty(Es,"__esModule",{value:!0});var ks={};Object.defineProperty(ks,"__esModule",{value:!0}),ks.isMsWindow=void 0;var Os=["decrypt","digest","encrypt","exportKey","generateKey","importKey","sign","verify"];ks.isMsWindow=function(e){if(function(e){return"MSInputMethodContext"in e&&"msCrypto"in e}(e)&&void 0!==e.msCrypto.subtle){var t=e.msCrypto,n=t.getRandomValues,r=t.subtle;return Os.map((function(e){return r[e]})).concat(n).every((function(e){return"function"==typeof e}))}return!1},function(e){Object.defineProperty(e,"__esModule",{value:!0});var t=_s;t.__exportStar(As,e),t.__exportStar(Ps,e),t.__exportStar(xs,e),t.__exportStar(Es,e),t.__exportStar(ks,e)}(gs),Object.defineProperty(ja,"__esModule",{value:!0}),ja.Sha1=void 0;var Rs=La,Ts=Za,Cs=ns,Ms=gs,Ns=Ha,Is=Cr,Us=function(){function e(e){if((0,Cs.supportsWebCrypto)((0,Ns.locateWindow)()))this.hash=new Ts.Sha1(e);else{if(!(0,Ms.isMsWindow)((0,Ns.locateWindow)()))throw new Error("SHA1 not supported");this.hash=new Rs.Sha1(e)}}return e.prototype.update=function(e,t){this.hash.update((0,Is.convertToBuffer)(e))},e.prototype.digest=function(){return this.hash.digest()},e.prototype.reset=function(){this.hash.reset()},e}();ja.Sha1=Us,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.WebCryptoSha1=e.Ie11Sha1=void 0,Ua.__exportStar(ja,e);var t=La;Object.defineProperty(e,"Ie11Sha1",{enumerable:!0,get:function(){return t.Sha1}});var n=Za;Object.defineProperty(e,"WebCryptoSha1",{enumerable:!0,get:function(){return n.Sha1}})}(Oa);var js={},Ls=function(e,t){return Ls=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},Ls(e,t)};
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Ds=function(){return Ds=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Ds.apply(this,arguments)};function Bs(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function $s(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a}function Fs(e){return this instanceof Fs?(this.v=e,this):new Fs(e)}var Hs=Object.freeze({__proto__:null,__extends:function(e,t){function n(){this.constructor=e}Ls(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},get __assign(){return Ds},__rest:function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n},__decorate:function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},__param:function(e,t){return function(n,r){t(n,r,e)}},__metadata:function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},__awaiter:function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function s(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))},__generator:function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},__createBinding:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]},__exportStar:function(e,t){for(var n in e)"default"===n||t.hasOwnProperty(n)||(t[n]=e[n])},__values:Bs,__read:$s,__spread:function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat($s(arguments[t]));return e},__spreadArrays:function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),o=0;for(t=0;t<n;t++)for(var i=arguments[t],a=0,s=i.length;a<s;a++,o++)r[o]=i[a];return r},__await:Fs,__asyncGenerator:function(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,o=n.apply(e,t||[]),i=[];return r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r;function a(e){o[e]&&(r[e]=function(t){return new Promise((function(n,r){i.push([e,t,n,r])>1||s(e,t)}))})}function s(e,t){try{!function(e){e.value instanceof Fs?Promise.resolve(e.value.v).then(u,c):l(i[0][2],e)}(o[e](t))}catch(e){l(i[0][3],e)}}function u(e){s("next",e)}function c(e){s("throw",e)}function l(e,t){e(t),i.shift(),i.length&&s(i[0][0],i[0][1])}},__asyncDelegator:function(e){var t,n;return t={},r("next"),r("throw",(function(e){throw e})),r("return"),t[Symbol.iterator]=function(){return this},t;function r(r,o){t[r]=e[r]?function(t){return(n=!n)?{value:Fs(e[r](t)),done:"return"===r}:o?o(t):t}:o}},__asyncValues:function(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=Bs(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise((function(r,o){(function(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)})(r,o,(t=e[n](t)).done,t.value)}))}}},__makeTemplateObject:function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},__importStar:function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t},__importDefault:function(e){return e&&e.__esModule?e:{default:e}},__classPrivateFieldGet:function(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)},__classPrivateFieldSet:function(e,t,n){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,n),n}}),zs=g(Hs),qs={},Vs={},Gs={};Object.defineProperty(Gs,"__esModule",{value:!0}),Gs.isEmptyData=void 0,Gs.isEmptyData=function(e){return"string"==typeof e?0===e.length:0===e.byteLength};var Ws={};!function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.EMPTY_DATA_SHA_256=e.SHA_256_HMAC_ALGO=e.SHA_256_HASH=void 0,e.SHA_256_HASH={name:"SHA-256"},e.SHA_256_HMAC_ALGO={name:"HMAC",hash:e.SHA_256_HASH},e.EMPTY_DATA_SHA_256=new Uint8Array([227,176,196,66,152,252,28,20,154,251,244,200,153,111,185,36,39,174,65,228,100,155,147,76,164,149,153,27,120,82,184,85])}(Ws),Object.defineProperty(Vs,"__esModule",{value:!0}),Vs.Sha256=void 0;var Ks=Gs,Zs=Ws,Xs=Ir,Js=Ha,Ys=function(){function e(e){this.secret=e,this.reset()}return e.prototype.update=function(e){var t=this;(0,Ks.isEmptyData)(e)||(this.operation=this.operation.then((function(n){return n.onerror=function(){t.operation=Promise.reject(new Error("Error encountered updating hash"))},n.process(Qs(e)),n})),this.operation.catch((function(){})))},e.prototype.digest=function(){return this.operation.then((function(e){return new Promise((function(t,n){e.onerror=function(){n(new Error("Error encountered finalizing hash"))},e.oncomplete=function(){e.result&&t(new Uint8Array(e.result)),n(new Error("Error encountered finalizing hash"))},e.finish()}))}))},e.prototype.reset=function(){var e;this.secret?(this.operation=(e=this.secret,new Promise((function(t,n){var r=(0,Js.locateWindow)().msCrypto.subtle.importKey("raw",Qs(e),Zs.SHA_256_HMAC_ALGO,!1,["sign"]);r.oncomplete=function(){r.result&&t(r.result),n(new Error("ImportKey completed without importing key."))},r.onerror=function(){n(new Error("ImportKey failed to import key."))}}))).then((function(e){return(0,Js.locateWindow)().msCrypto.subtle.sign(Zs.SHA_256_HMAC_ALGO,e)})),this.operation.catch((function(){}))):this.operation=Promise.resolve((0,Js.locateWindow)().msCrypto.subtle.digest("SHA-256"))},e}();function Qs(e){return"string"==typeof e?(0,Xs.fromUtf8)(e):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e)}Vs.Sha256=Ys;var eu={};Object.defineProperty(eu,"__esModule",{value:!0}),eu.Sha256=void 0;var tu=Cr,nu=Ws,ru=Ha,ou=function(){function e(e){this.toHash=new Uint8Array(0),this.secret=e,this.reset()}return e.prototype.update=function(e){if(!(0,tu.isEmptyData)(e)){var t=(0,tu.convertToBuffer)(e),n=new Uint8Array(this.toHash.byteLength+t.byteLength);n.set(this.toHash,0),n.set(t,this.toHash.byteLength),this.toHash=n}},e.prototype.digest=function(){var e=this;return this.key?this.key.then((function(t){return(0,ru.locateWindow)().crypto.subtle.sign(nu.SHA_256_HMAC_ALGO,t,e.toHash).then((function(e){return new Uint8Array(e)}))})):(0,tu.isEmptyData)(this.toHash)?Promise.resolve(nu.EMPTY_DATA_SHA_256):Promise.resolve().then((function(){return(0,ru.locateWindow)().crypto.subtle.digest(nu.SHA_256_HASH,e.toHash)})).then((function(e){return Promise.resolve(new Uint8Array(e))}))},e.prototype.reset=function(){var e=this;this.toHash=new Uint8Array(0),this.secret&&void 0!==this.secret&&(this.key=new Promise((function(t,n){(0,ru.locateWindow)().crypto.subtle.importKey("raw",(0,tu.convertToBuffer)(e.secret),nu.SHA_256_HMAC_ALGO,!1,["sign"]).then(t,n)})),this.key.catch((function(){})))},e}();eu.Sha256=ou;var iu={},au=function(e,t){return au=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},au(e,t)};
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var su=function(){return su=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},su.apply(this,arguments)};function uu(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function cu(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a}function lu(e){return this instanceof lu?(this.v=e,this):new lu(e)}var du=Object.freeze({__proto__:null,__extends:function(e,t){function n(){this.constructor=e}au(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},get __assign(){return su},__rest:function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n},__decorate:function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},__param:function(e,t){return function(n,r){t(n,r,e)}},__metadata:function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},__awaiter:function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function s(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))},__generator:function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},__createBinding:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]},__exportStar:function(e,t){for(var n in e)"default"===n||t.hasOwnProperty(n)||(t[n]=e[n])},__values:uu,__read:cu,__spread:function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(cu(arguments[t]));return e},__spreadArrays:function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),o=0;for(t=0;t<n;t++)for(var i=arguments[t],a=0,s=i.length;a<s;a++,o++)r[o]=i[a];return r},__await:lu,__asyncGenerator:function(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,o=n.apply(e,t||[]),i=[];return r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r;function a(e){o[e]&&(r[e]=function(t){return new Promise((function(n,r){i.push([e,t,n,r])>1||s(e,t)}))})}function s(e,t){try{!function(e){e.value instanceof lu?Promise.resolve(e.value.v).then(u,c):l(i[0][2],e)}(o[e](t))}catch(e){l(i[0][3],e)}}function u(e){s("next",e)}function c(e){s("throw",e)}function l(e,t){e(t),i.shift(),i.length&&s(i[0][0],i[0][1])}},__asyncDelegator:function(e){var t,n;return t={},r("next"),r("throw",(function(e){throw e})),r("return"),t[Symbol.iterator]=function(){return this},t;function r(r,o){t[r]=e[r]?function(t){return(n=!n)?{value:lu(e[r](t)),done:"return"===r}:o?o(t):t}:o}},__asyncValues:function(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=uu(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise((function(r,o){(function(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)})(r,o,(t=e[n](t)).done,t.value)}))}}},__makeTemplateObject:function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},__importStar:function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t},__importDefault:function(e){return e&&e.__esModule?e:{default:e}},__classPrivateFieldGet:function(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)},__classPrivateFieldSet:function(e,t,n){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,n),n}}),fu=g(du),pu={},hu={};Object.defineProperty(hu,"__esModule",{value:!0}),hu.MAX_HASHABLE_LENGTH=hu.INIT=hu.KEY=hu.DIGEST_LENGTH=hu.BLOCK_SIZE=void 0,hu.BLOCK_SIZE=64,hu.DIGEST_LENGTH=32,hu.KEY=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),hu.INIT=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],hu.MAX_HASHABLE_LENGTH=Math.pow(2,53)-1;var gu={};Object.defineProperty(gu,"__esModule",{value:!0}),gu.RawSha256=void 0;var mu=hu,yu=function(){function e(){this.state=Int32Array.from(mu.INIT),this.temp=new Int32Array(64),this.buffer=new Uint8Array(64),this.bufferLength=0,this.bytesHashed=0,this.finished=!1}return e.prototype.update=function(e){if(this.finished)throw new Error("Attempted to update an already finished hash.");var t=0,n=e.byteLength;if(this.bytesHashed+=n,8*this.bytesHashed>mu.MAX_HASHABLE_LENGTH)throw new Error("Cannot hash more than 2^53 - 1 bits");for(;n>0;)this.buffer[this.bufferLength++]=e[t++],n--,this.bufferLength===mu.BLOCK_SIZE&&(this.hashBuffer(),this.bufferLength=0)},e.prototype.digest=function(){if(!this.finished){var e=8*this.bytesHashed,t=new DataView(this.buffer.buffer,this.buffer.byteOffset,this.buffer.byteLength),n=this.bufferLength;if(t.setUint8(this.bufferLength++,128),n%mu.BLOCK_SIZE>=mu.BLOCK_SIZE-8){for(var r=this.bufferLength;r<mu.BLOCK_SIZE;r++)t.setUint8(r,0);this.hashBuffer(),this.bufferLength=0}for(r=this.bufferLength;r<mu.BLOCK_SIZE-8;r++)t.setUint8(r,0);t.setUint32(mu.BLOCK_SIZE-8,Math.floor(e/4294967296),!0),t.setUint32(mu.BLOCK_SIZE-4,e),this.hashBuffer(),this.finished=!0}var o=new Uint8Array(mu.DIGEST_LENGTH);for(r=0;r<8;r++)o[4*r]=this.state[r]>>>24&255,o[4*r+1]=this.state[r]>>>16&255,o[4*r+2]=this.state[r]>>>8&255,o[4*r+3]=this.state[r]>>>0&255;return o},e.prototype.hashBuffer=function(){for(var e=this.buffer,t=this.state,n=t[0],r=t[1],o=t[2],i=t[3],a=t[4],s=t[5],u=t[6],c=t[7],l=0;l<mu.BLOCK_SIZE;l++){if(l<16)this.temp[l]=(255&e[4*l])<<24|(255&e[4*l+1])<<16|(255&e[4*l+2])<<8|255&e[4*l+3];else{var d=this.temp[l-2],f=(d>>>17|d<<15)^(d>>>19|d<<13)^d>>>10,p=((d=this.temp[l-15])>>>7|d<<25)^(d>>>18|d<<14)^d>>>3;this.temp[l]=(f+this.temp[l-7]|0)+(p+this.temp[l-16]|0)}var h=(((a>>>6|a<<26)^(a>>>11|a<<21)^(a>>>25|a<<7))+(a&s^~a&u)|0)+(c+(mu.KEY[l]+this.temp[l]|0)|0)|0,g=((n>>>2|n<<30)^(n>>>13|n<<19)^(n>>>22|n<<10))+(n&r^n&o^r&o)|0;c=u,u=s,s=a,a=i+h|0,i=o,o=r,r=n,n=h+g|0}t[0]+=n,t[1]+=r,t[2]+=o,t[3]+=i,t[4]+=a,t[5]+=s,t[6]+=u,t[7]+=c},e}();gu.RawSha256=yu,Object.defineProperty(pu,"__esModule",{value:!0}),pu.Sha256=void 0;var bu=fu,vu=hu,wu=gu,Su=Cr,_u=function(){function e(e){this.secret=e,this.hash=new wu.RawSha256,this.reset()}return e.prototype.update=function(e){if(!(0,Su.isEmptyData)(e)&&!this.error)try{this.hash.update((0,Su.convertToBuffer)(e))}catch(e){this.error=e}},e.prototype.digestSync=function(){if(this.error)throw this.error;return this.outer?(this.outer.finished||this.outer.update(this.hash.digest()),this.outer.digest()):this.hash.digest()},e.prototype.digest=function(){return bu.__awaiter(this,void 0,void 0,(function(){return bu.__generator(this,(function(e){return[2,this.digestSync()]}))}))},e.prototype.reset=function(){if(this.hash=new wu.RawSha256,this.secret){this.outer=new wu.RawSha256;var e=function(e){var t=(0,Su.convertToBuffer)(e);if(t.byteLength>vu.BLOCK_SIZE){var n=new wu.RawSha256;n.update(t),t=n.digest()}var r=new Uint8Array(vu.BLOCK_SIZE);return r.set(t),r}(this.secret),t=new Uint8Array(vu.BLOCK_SIZE);t.set(e);for(var n=0;n<vu.BLOCK_SIZE;n++)e[n]^=54,t[n]^=92;this.hash.update(e),this.outer.update(t);for(n=0;n<e.byteLength;n++)e[n]=0}},e}();pu.Sha256=_u,function(e){Object.defineProperty(e,"__esModule",{value:!0}),fu.__exportStar(pu,e)}(iu),Object.defineProperty(qs,"__esModule",{value:!0}),qs.Sha256=void 0;var Au,Pu=Vs,xu=eu,Eu=iu,ku=ns,Ou=gs,Ru=Ha,Tu=Cr,Cu=function(){function e(e){(0,ku.supportsWebCrypto)((0,Ru.locateWindow)())?this.hash=new xu.Sha256(e):(0,Ou.isMsWindow)((0,Ru.locateWindow)())?this.hash=new Pu.Sha256(e):this.hash=new Eu.Sha256(e)}return e.prototype.update=function(e,t){this.hash.update((0,Tu.convertToBuffer)(e))},e.prototype.digest=function(){return this.hash.digest()},e.prototype.reset=function(){this.hash.reset()},e}();qs.Sha256=Cu,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.WebCryptoSha256=e.Ie11Sha256=void 0,zs.__exportStar(qs,e);var t=Vs;Object.defineProperty(e,"Ie11Sha256",{enumerable:!0,get:function(){return t.Sha256}});var n=eu;Object.defineProperty(e,"WebCryptoSha256",{enumerable:!0,get:function(){return n.Sha256}})}(js);class Mu{constructor(e){if(this.bytes=e,8!==e.byteLength)throw new Error("Int64 buffers must be exactly 8 bytes")}static fromNumber(e){if(e>0x8000000000000000||e<-0x8000000000000000)throw new Error(`${e} is too large (or, if negative, too small) to represent as an Int64`);const t=new Uint8Array(8);for(let n=7,r=Math.abs(Math.round(e));n>-1&&r>0;n--,r/=256)t[n]=r;return e<0&&Nu(t),new Mu(t)}valueOf(){const e=this.bytes.slice(0),t=128&e[0];return t&&Nu(e),parseInt(oi(e),16)*(t?-1:1)}toString(){return String(this.valueOf())}}function Nu(e){for(let t=0;t<8;t++)e[t]^=255;for(let t=7;t>-1&&(e[t]++,0===e[t]);t--);}class Iu{constructor(e,t){this.toUtf8=e,this.fromUtf8=t}format(e){const t=[];for(const n of Object.keys(e)){const r=this.fromUtf8(n);t.push(Uint8Array.from([r.byteLength]),r,this.formatHeaderValue(e[n]))}const n=new Uint8Array(t.reduce(((e,t)=>e+t.byteLength),0));let r=0;for(const e of t)n.set(e,r),r+=e.byteLength;return n}formatHeaderValue(e){switch(e.type){case"boolean":return Uint8Array.from([e.value?0:1]);case"byte":return Uint8Array.from([2,e.value]);case"short":const t=new DataView(new ArrayBuffer(3));return t.setUint8(0,3),t.setInt16(1,e.value,!1),new Uint8Array(t.buffer);case"integer":const n=new DataView(new ArrayBuffer(5));return n.setUint8(0,4),n.setInt32(1,e.value,!1),new Uint8Array(n.buffer);case"long":const r=new Uint8Array(9);return r[0]=5,r.set(e.value.bytes,1),r;case"binary":const o=new DataView(new ArrayBuffer(3+e.value.byteLength));o.setUint8(0,6),o.setUint16(1,e.value.byteLength,!1);const i=new Uint8Array(o.buffer);return i.set(e.value,3),i;case"string":const a=this.fromUtf8(e.value),s=new DataView(new ArrayBuffer(3+a.byteLength));s.setUint8(0,7),s.setUint16(1,a.byteLength,!1);const u=new Uint8Array(s.buffer);return u.set(a,3),u;case"timestamp":const c=new Uint8Array(9);return c[0]=8,c.set(Mu.fromNumber(e.value.valueOf()).bytes,1),c;case"uuid":if(!qu.test(e.value))throw new Error(`Invalid UUID received: ${e.value}`);const l=new Uint8Array(17);return l[0]=9,l.set(function(e){if(e.length%2!=0)throw new Error("Hex encoded strings must have an even number length");const t=new Uint8Array(e.length/2);for(let n=0;n<e.length;n+=2){const r=e.slice(n,n+2).toLowerCase();if(!(r in ri))throw new Error(`Cannot decode unrecognized sequence ${r} as hexadecimal`);t[n/2]=ri[r]}return t}(e.value.replace(/\-/g,"")),1),l}}parse(e){const t={};let n=0;for(;n<e.byteLength;){const r=e.getUint8(n++),o=this.toUtf8(new Uint8Array(e.buffer,e.byteOffset+n,r));switch(n+=r,e.getUint8(n++)){case 0:t[o]={type:Uu,value:!0};break;case 1:t[o]={type:Uu,value:!1};break;case 2:t[o]={type:ju,value:e.getInt8(n++)};break;case 3:t[o]={type:Lu,value:e.getInt16(n,!1)},n+=2;break;case 4:t[o]={type:Du,value:e.getInt32(n,!1)},n+=4;break;case 5:t[o]={type:Bu,value:new Mu(new Uint8Array(e.buffer,e.byteOffset+n,8))},n+=8;break;case 6:const r=e.getUint16(n,!1);n+=2,t[o]={type:$u,value:new Uint8Array(e.buffer,e.byteOffset+n,r)},n+=r;break;case 7:const i=e.getUint16(n,!1);n+=2,t[o]={type:Fu,value:this.toUtf8(new Uint8Array(e.buffer,e.byteOffset+n,i))},n+=i;break;case 8:t[o]={type:Hu,value:new Date(new Mu(new Uint8Array(e.buffer,e.byteOffset+n,8)).valueOf())},n+=8;break;case 9:const a=new Uint8Array(e.buffer,e.byteOffset+n,16);n+=16,t[o]={type:zu,value:`${oi(a.subarray(0,4))}-${oi(a.subarray(4,6))}-${oi(a.subarray(6,8))}-${oi(a.subarray(8,10))}-${oi(a.subarray(10))}`};break;default:throw new Error("Unrecognized header type tag")}}return t}}!function(e){e[e.boolTrue=0]="boolTrue",e[e.boolFalse=1]="boolFalse",e[e.byte=2]="byte",e[e.short=3]="short",e[e.integer=4]="integer",e[e.long=5]="long",e[e.byteArray=6]="byteArray",e[e.string=7]="string",e[e.timestamp=8]="timestamp",e[e.uuid=9]="uuid"}(Au||(Au={}));const Uu="boolean",ju="byte",Lu="short",Du="integer",Bu="long",$u="binary",Fu="string",Hu="timestamp",zu="uuid",qu=/^[a-f0-9]{8}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{12}$/;class Vu{constructor(e,t){this.headerMarshaller=new Iu(e,t)}encode({headers:e,body:t}){const n=this.headerMarshaller.format(e),r=n.byteLength+t.byteLength+16,o=new Uint8Array(r),i=new DataView(o.buffer,o.byteOffset,o.byteLength),a=new Ar.Crc32;return i.setUint32(0,r,!1),i.setUint32(4,n.byteLength,!1),i.setUint32(8,a.update(o.subarray(0,8)).digest(),!1),o.set(n,12),o.set(t,n.byteLength+12),i.setUint32(r-4,a.update(o.subarray(8,r-4)).digest(),!1),o}decode(e){const{headers:t,body:n}=function({byteLength:e,byteOffset:t,buffer:n}){if(e<16)throw new Error("Provided message too short to accommodate event stream message overhead");const r=new DataView(n,t,e),o=r.getUint32(0,!1);if(e!==o)throw new Error("Reported message length does not match received message length");const i=r.getUint32(4,!1),a=r.getUint32(8,!1),s=r.getUint32(e-4,!1),u=(new Ar.Crc32).update(new Uint8Array(n,t,8));if(a!==u.digest())throw new Error(`The prelude checksum specified in the message (${a}) does not match the calculated CRC32 checksum (${u.digest()})`);if(u.update(new Uint8Array(n,t+8,e-12)),s!==u.digest())throw new Error(`The message checksum (${u.digest()}) did not match the expected value of ${s}`);return{headers:new DataView(n,t+8+4,i),body:new Uint8Array(n,t+8+4+i,o-i-16)}}(e);return{headers:this.headerMarshaller.parse(t),body:n}}formatHeaders(e){return this.headerMarshaller.format(e)}}class Gu{constructor({utf8Encoder:e,utf8Decoder:t}){this.eventStreamCodec=new Vu(e,t),this.utfEncoder=e}deserialize(e,t){const n=function(e){let t=0,n=0,r=null,o=null;const i=e=>{if("number"!=typeof e)throw new Error("Attempted to allocate an event message where size was not a number: "+e);t=e,n=4,r=new Uint8Array(e),new DataView(r.buffer).setUint32(0,e,!1)};return{[Symbol.asyncIterator]:async function*(){const a=e[Symbol.asyncIterator]();for(;;){const{value:e,done:s}=await a.next();if(s){if(!t)return;if(t!==n)throw new Error("Truncated event message received.");return void(yield r)}const u=e.length;let c=0;for(;c<u;){if(!r){const t=u-c;o||(o=new Uint8Array(4));const r=Math.min(4-n,t);if(o.set(e.slice(c,c+r),n),n+=r,c+=r,n<4)break;i(new DataView(o.buffer).getUint32(0,!1)),o=null}const a=Math.min(t-n,u-c);r.set(e.slice(c,c+a),n),n+=a,c+=a,t&&t===n&&(yield r,r=null,t=0,n=0)}}}}}(e);var r,o;return r=n,o={eventStreamCodec:this.eventStreamCodec,deserializer:t,toUtf8:this.utfEncoder},{[Symbol.asyncIterator]:async function*(){for await(const e of r){const t=o.eventStreamCodec.decode(e),{value:n}=t.headers[":message-type"];if("error"===n){const e=new Error(t.headers[":error-message"].value||"UnknownError");throw e.name=t.headers[":error-code"].value,e}if("exception"===n){const e=t.headers[":exception-type"].value,n={[e]:t},r=await o.deserializer(n);if(r.$unknown){const n=new Error(o.toUtf8(t.body));throw n.name=e,n}throw r[e]}if("event"!==n)throw Error(`Unrecognizable event type: ${t.headers[":event-type"].value}`);{const e={[t.headers[":event-type"].value]:t},n=await o.deserializer(e);if(n.$unknown)continue;yield n}}}}}serialize(e,t){const n=this;return{[Symbol.asyncIterator]:async function*(){for await(const r of e){const e=n.eventStreamCodec.encode(t(r));yield e}yield new Uint8Array(0)}}}}class Wu{constructor({utf8Encoder:e,utf8Decoder:t}){this.universalMarshaller=new Gu({utf8Decoder:t,utf8Encoder:e})}deserialize(e,t){const n=Ku(e)?(r=e,{[Symbol.asyncIterator]:async function*(){const e=r.getReader();try{for(;;){const{done:t,value:n}=await e.read();if(t)return;yield n}}finally{e.releaseLock()}}}):e;var r;return this.universalMarshaller.deserialize(n,t)}serialize(e,t){const n=this.universalMarshaller.serialize(e,t);return"function"==typeof ReadableStream?(e=>{const t=e[Symbol.asyncIterator]();return new ReadableStream({async pull(e){const{done:n,value:r}=await t.next();if(n)return e.close();e.enqueue(r)}})})(n):n}}const Ku=e=>"function"==typeof ReadableStream&&e instanceof ReadableStream,Zu=e=>new Wu(e);function Xu(e=0){return new Promise(((t,n)=>{e&&setTimeout((()=>{const t=new Error(`Request did not complete within ${e} ms`);t.name="TimeoutError",n(t)}),e)}))}class Ju{constructor(e){"function"==typeof e?this.configProvider=e().then((e=>e||{})):(this.config=e??{},this.configProvider=Promise.resolve(this.config))}destroy(){}async handle(e,{abortSignal:t}={}){this.config||(this.config=await this.configProvider);const n=this.config.requestTimeout;if(t?.aborted){const e=new Error("Request aborted");return e.name="AbortError",Promise.reject(e)}let r=e.path;if(e.query){const t=function(e){const t=[];for(let n of Object.keys(e).sort()){const r=e[n];if(n=xi(n),Array.isArray(r))for(let e=0,o=r.length;e<o;e++)t.push(`${n}=${xi(r[e])}`);else{let e=n;(r||"string"==typeof r)&&(e+=`=${xi(r)}`),t.push(e)}}return t.join("&")}(e.query);t&&(r+=`?${t}`)}const{port:o,method:i}=e,a=`${e.protocol}//${e.hostname}${o?`:${o}`:""}${r}`,s={body:"GET"===i||"HEAD"===i?void 0:e.body,headers:new Headers(e.headers),method:i};"undefined"!=typeof AbortController&&(s.signal=t);const u=new Request(a,s),c=[fetch(u).then((e=>{const t=e.headers,n={};for(const e of t.entries())n[e[0]]=e[1];return null!=e.body?{response:new Mt({headers:n,statusCode:e.status,body:e.body})}:e.blob().then((t=>({response:new Mt({headers:n,statusCode:e.status,body:t})})))})),Xu(n)];return t&&c.push(new Promise(((e,n)=>{t.onabort=()=>{const e=new Error("Request aborted");e.name="AbortError",n(e)}}))),Promise.race(c)}}const Yu={},Qu=new Array(64);for(let e=0,t="A".charCodeAt(0),n="Z".charCodeAt(0);e+t<=n;e++){const n=String.fromCharCode(e+t);Yu[n]=e,Qu[e]=n}for(let e=0,t="a".charCodeAt(0),n="z".charCodeAt(0);e+t<=n;e++){const n=String.fromCharCode(e+t),r=e+26;Yu[n]=r,Qu[r]=n}for(let e=0;e<10;e++){Yu[e.toString(10)]=e+52;const t=e.toString(10),n=e+52;Yu[t]=n,Qu[n]=t}Yu["+"]=62,Qu[62]="+",Yu["/"]=63,Qu[63]="/";const ec=e=>{let t=e.length/4*3;"=="===e.slice(-2)?t-=2:"="===e.slice(-1)&&t--;const n=new ArrayBuffer(t),r=new DataView(n);for(let t=0;t<e.length;t+=4){let n=0,o=0;for(let r=t,i=t+3;r<=i;r++)if("="!==e[r]){if(!(e[r]in Yu))throw new TypeError(`Invalid character ${e[r]} in base64 string.`);n|=Yu[e[r]]<<6*(i-r),o+=6}else n>>=6;const i=t/4*3;n>>=o%8;const a=Math.floor(o/8);for(let e=0;e<a;e++){const t=8*(a-e-1);r.setUint8(i+e,(n&255<<t)>>t)}}return new Uint8Array(n)};function tc(e){let t="";for(let n=0;n<e.length;n+=3){let r=0,o=0;for(let t=n,i=Math.min(n+3,e.length);t<i;t++)r|=e[t]<<8*(i-t-1),o+=8;const i=Math.ceil(o/6);r<<=6*i-o;for(let e=1;e<=i;e++){const n=6*(i-e);t+=Qu[(r&63<<n)>>n]}t+="==".slice(0,4-i)}return t}const nc=e=>"function"==typeof Blob&&e instanceof Blob?async function(e){const t=await function(e){return new Promise(((t,n)=>{const r=new FileReader;r.onloadend=()=>{if(2!==r.readyState)return n(new Error("Reader aborted too early"));const e=r.result??"",o=e.indexOf(","),i=o>-1?o+1:e.length;t(e.substring(i))},r.onabort=()=>n(new Error("Read aborted")),r.onerror=()=>n(r.error),r.readAsDataURL(e)}))}(e),n=ec(t);return new Uint8Array(n)}(e):async function(e){let t=new Uint8Array(0);const n=e.getReader();let r=!1;for(;!r;){const{done:e,value:o}=await n.read();if(o){const e=t;t=new Uint8Array(e.length+o.length),t.set(e),t.set(o,e.length)}r=e}return t}(e);const rc=async function(e,t){const n=new e;return await function(e,t,n=1048576){return new Promise(((r,o)=>{const i=new FileReader;i.addEventListener("error",o),i.addEventListener("abort",o);const a=e.size;let s=0;function u(){s>=a?r():i.readAsArrayBuffer(e.slice(s,Math.min(a,s+n)))}i.addEventListener("load",(e=>{const n=e.target.result;t(new Uint8Array(n)),s+=n.byteLength,u()})),u()}))}(t,(e=>{n.update(e)})),n.digest()},oc=64,ic=[1732584193,4023233417,2562383102,271733878];class ac{constructor(){this.reset()}update(e){if(function(e){if("string"==typeof e)return 0===e.length;return 0===e.byteLength}(e))return;if(this.finished)throw new Error("Attempted to update an already finished hash.");const t=function(e){if("string"==typeof e)return io(e);if(ArrayBuffer.isView(e))return new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT);return new Uint8Array(e)}(e);let n=0,{byteLength:r}=t;for(this.bytesHashed+=r;r>0;)this.buffer.setUint8(this.bufferLength++,t[n++]),r--,this.bufferLength===oc&&(this.hashBuffer(),this.bufferLength=0)}async digest(){if(!this.finished){const{buffer:e,bufferLength:t,bytesHashed:n}=this,r=8*n;if(e.setUint8(this.bufferLength++,128),t%oc>=56){for(let t=this.bufferLength;t<oc;t++)e.setUint8(t,0);this.hashBuffer(),this.bufferLength=0}for(let t=this.bufferLength;t<56;t++)e.setUint8(t,0);e.setUint32(56,r>>>0,!0),e.setUint32(60,Math.floor(r/4294967296),!0),this.hashBuffer(),this.finished=!0}const e=new DataView(new ArrayBuffer(16));for(let t=0;t<4;t++)e.setUint32(4*t,this.state[t],!0);return new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}hashBuffer(){const{buffer:e,state:t}=this;let n=t[0],r=t[1],o=t[2],i=t[3];n=uc(n,r,o,i,e.getUint32(0,!0),7,3614090360),i=uc(i,n,r,o,e.getUint32(4,!0),12,3905402710),o=uc(o,i,n,r,e.getUint32(8,!0),17,606105819),r=uc(r,o,i,n,e.getUint32(12,!0),22,3250441966),n=uc(n,r,o,i,e.getUint32(16,!0),7,4118548399),i=uc(i,n,r,o,e.getUint32(20,!0),12,1200080426),o=uc(o,i,n,r,e.getUint32(24,!0),17,2821735955),r=uc(r,o,i,n,e.getUint32(28,!0),22,4249261313),n=uc(n,r,o,i,e.getUint32(32,!0),7,1770035416),i=uc(i,n,r,o,e.getUint32(36,!0),12,2336552879),o=uc(o,i,n,r,e.getUint32(40,!0),17,4294925233),r=uc(r,o,i,n,e.getUint32(44,!0),22,2304563134),n=uc(n,r,o,i,e.getUint32(48,!0),7,1804603682),i=uc(i,n,r,o,e.getUint32(52,!0),12,4254626195),o=uc(o,i,n,r,e.getUint32(56,!0),17,2792965006),r=uc(r,o,i,n,e.getUint32(60,!0),22,1236535329),n=cc(n,r,o,i,e.getUint32(4,!0),5,4129170786),i=cc(i,n,r,o,e.getUint32(24,!0),9,3225465664),o=cc(o,i,n,r,e.getUint32(44,!0),14,643717713),r=cc(r,o,i,n,e.getUint32(0,!0),20,3921069994),n=cc(n,r,o,i,e.getUint32(20,!0),5,3593408605),i=cc(i,n,r,o,e.getUint32(40,!0),9,38016083),o=cc(o,i,n,r,e.getUint32(60,!0),14,3634488961),r=cc(r,o,i,n,e.getUint32(16,!0),20,3889429448),n=cc(n,r,o,i,e.getUint32(36,!0),5,568446438),i=cc(i,n,r,o,e.getUint32(56,!0),9,3275163606),o=cc(o,i,n,r,e.getUint32(12,!0),14,4107603335),r=cc(r,o,i,n,e.getUint32(32,!0),20,1163531501),n=cc(n,r,o,i,e.getUint32(52,!0),5,2850285829),i=cc(i,n,r,o,e.getUint32(8,!0),9,4243563512),o=cc(o,i,n,r,e.getUint32(28,!0),14,1735328473),r=cc(r,o,i,n,e.getUint32(48,!0),20,2368359562),n=lc(n,r,o,i,e.getUint32(20,!0),4,4294588738),i=lc(i,n,r,o,e.getUint32(32,!0),11,2272392833),o=lc(o,i,n,r,e.getUint32(44,!0),16,1839030562),r=lc(r,o,i,n,e.getUint32(56,!0),23,4259657740),n=lc(n,r,o,i,e.getUint32(4,!0),4,2763975236),i=lc(i,n,r,o,e.getUint32(16,!0),11,1272893353),o=lc(o,i,n,r,e.getUint32(28,!0),16,4139469664),r=lc(r,o,i,n,e.getUint32(40,!0),23,3200236656),n=lc(n,r,o,i,e.getUint32(52,!0),4,681279174),i=lc(i,n,r,o,e.getUint32(0,!0),11,3936430074),o=lc(o,i,n,r,e.getUint32(12,!0),16,3572445317),r=lc(r,o,i,n,e.getUint32(24,!0),23,76029189),n=lc(n,r,o,i,e.getUint32(36,!0),4,3654602809),i=lc(i,n,r,o,e.getUint32(48,!0),11,3873151461),o=lc(o,i,n,r,e.getUint32(60,!0),16,530742520),r=lc(r,o,i,n,e.getUint32(8,!0),23,3299628645),n=dc(n,r,o,i,e.getUint32(0,!0),6,4096336452),i=dc(i,n,r,o,e.getUint32(28,!0),10,1126891415),o=dc(o,i,n,r,e.getUint32(56,!0),15,2878612391),r=dc(r,o,i,n,e.getUint32(20,!0),21,4237533241),n=dc(n,r,o,i,e.getUint32(48,!0),6,1700485571),i=dc(i,n,r,o,e.getUint32(12,!0),10,2399980690),o=dc(o,i,n,r,e.getUint32(40,!0),15,4293915773),r=dc(r,o,i,n,e.getUint32(4,!0),21,2240044497),n=dc(n,r,o,i,e.getUint32(32,!0),6,1873313359),i=dc(i,n,r,o,e.getUint32(60,!0),10,4264355552),o=dc(o,i,n,r,e.getUint32(24,!0),15,2734768916),r=dc(r,o,i,n,e.getUint32(52,!0),21,1309151649),n=dc(n,r,o,i,e.getUint32(16,!0),6,4149444226),i=dc(i,n,r,o,e.getUint32(44,!0),10,3174756917),o=dc(o,i,n,r,e.getUint32(8,!0),15,718787259),r=dc(r,o,i,n,e.getUint32(36,!0),21,3951481745),t[0]=n+t[0]&4294967295,t[1]=r+t[1]&4294967295,t[2]=o+t[2]&4294967295,t[3]=i+t[3]&4294967295}reset(){this.state=Uint32Array.from(ic),this.buffer=new DataView(new ArrayBuffer(oc)),this.bufferLength=0,this.bytesHashed=0,this.finished=!1}}function sc(e,t,n,r,o,i){return((t=(t+e&4294967295)+(r+i&4294967295)&4294967295)<<o|t>>>32-o)+n&4294967295}function uc(e,t,n,r,o,i,a){return sc(t&n|~t&r,e,t,o,i,a)}function cc(e,t,n,r,o,i,a){return sc(t&r|n&~r,e,t,o,i,a)}function lc(e,t,n,r,o,i,a){return sc(t^n^r,e,t,o,i,a)}function dc(e,t,n,r,o,i,a){return sc(n^(t|~r),e,t,o,i,a)}const fc=e=>{if("string"==typeof e){let t=e.length;for(let n=t-1;n>=0;n--){const r=e.charCodeAt(n);r>127&&r<=2047?t++:r>2047&&r<=65535&&(t+=2),r>=56320&&r<=57343&&n--}return t}if("number"==typeof e.byteLength)return e.byteLength;if("number"==typeof e.size)return e.size;throw new Error(`Body Length computation failed for ${e}`)},pc=(e,t)=>{const{base64Encoder:n,bodyLengthChecker:r,checksumAlgorithmFn:o,checksumLocationName:i,streamHasher:a}=t,s=void 0!==n&&void 0!==r&&void 0!==o&&void 0!==i&&void 0!==a,u=s?a(o,e):void 0,c=e.getReader();return new ReadableStream({async pull(e){const{value:t,done:o}=await c.read();if(o){if(e.enqueue("0\r\n"),s){const t=n(await u);e.enqueue(`${i}:${t}\r\n`),e.enqueue("\r\n")}e.close()}else e.enqueue(`${(r(t)||0).toString(16)}\r\n${t}\r\n`)}})},hc="The stream has already been transformed.",gc=e=>{if(!mc(e)&&!yc(e)){throw new Error(`Unexpected stream implementation, expect Blob or ReadableStream, got ${e?.__proto__?.constructor?.name||e}`)}let t=!1;const n=async()=>{if(t)throw new Error(hc);return t=!0,await nc(e)};return Object.assign(e,{transformToByteArray:n,transformToString:async e=>{const t=await n();if("base64"===e)return tc(t);if("hex"===e)return oi(t);if(void 0===e||"utf8"===e||"utf-8"===e)return so(t);if("function"==typeof TextDecoder)return new TextDecoder(e).decode(t);throw new Error("TextDecoder is not available, please make sure polyfill is provided.")},transformToWebStream:()=>{if(t)throw new Error(hc);if(t=!0,mc(e))return(e=>{if("function"!=typeof e.stream)throw new Error("Cannot transform payload Blob to web stream. Please make sure the Blob.stream() is polyfilled.\nIf you are using React Native, this API is not yet supported, see: https://react-native.canny.io/feature-requests/p/fetch-streaming-body");return e.stream()})(e);if(yc(e))return e;throw new Error(`Cannot transform payload to web stream, got ${e}`)}})},mc=e=>"function"==typeof Blob&&e instanceof Blob,yc=e=>"function"==typeof ReadableStream&&e instanceof ReadableStream;var bc={exports:{}};bc.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=90)}({17:function(e,t,n){t.__esModule=!0,t.default=void 0;var r=n(18),o=function(){function e(){}return e.getFirstMatch=function(e,t){var n=t.match(e);return n&&n.length>0&&n[1]||""},e.getSecondMatch=function(e,t){var n=t.match(e);return n&&n.length>1&&n[2]||""},e.matchAndReturnConst=function(e,t,n){if(e.test(t))return n},e.getWindowsVersionName=function(e){switch(e){case"NT":return"NT";case"XP":case"NT 5.1":return"XP";case"NT 5.0":return"2000";case"NT 5.2":return"2003";case"NT 6.0":return"Vista";case"NT 6.1":return"7";case"NT 6.2":return"8";case"NT 6.3":return"8.1";case"NT 10.0":return"10";default:return}},e.getMacOSVersionName=function(e){var t=e.split(".").splice(0,2).map((function(e){return parseInt(e,10)||0}));if(t.push(0),10===t[0])switch(t[1]){case 5:return"Leopard";case 6:return"Snow Leopard";case 7:return"Lion";case 8:return"Mountain Lion";case 9:return"Mavericks";case 10:return"Yosemite";case 11:return"El Capitan";case 12:return"Sierra";case 13:return"High Sierra";case 14:return"Mojave";case 15:return"Catalina";default:return}},e.getAndroidVersionName=function(e){var t=e.split(".").splice(0,2).map((function(e){return parseInt(e,10)||0}));if(t.push(0),!(1===t[0]&&t[1]<5))return 1===t[0]&&t[1]<6?"Cupcake":1===t[0]&&t[1]>=6?"Donut":2===t[0]&&t[1]<2?"Eclair":2===t[0]&&2===t[1]?"Froyo":2===t[0]&&t[1]>2?"Gingerbread":3===t[0]?"Honeycomb":4===t[0]&&t[1]<1?"Ice Cream Sandwich":4===t[0]&&t[1]<4?"Jelly Bean":4===t[0]&&t[1]>=4?"KitKat":5===t[0]?"Lollipop":6===t[0]?"Marshmallow":7===t[0]?"Nougat":8===t[0]?"Oreo":9===t[0]?"Pie":void 0},e.getVersionPrecision=function(e){return e.split(".").length},e.compareVersions=function(t,n,r){void 0===r&&(r=!1);var o=e.getVersionPrecision(t),i=e.getVersionPrecision(n),a=Math.max(o,i),s=0,u=e.map([t,n],(function(t){var n=a-e.getVersionPrecision(t),r=t+new Array(n+1).join(".0");return e.map(r.split("."),(function(e){return new Array(20-e.length).join("0")+e})).reverse()}));for(r&&(s=a-Math.min(o,i)),a-=1;a>=s;){if(u[0][a]>u[1][a])return 1;if(u[0][a]===u[1][a]){if(a===s)return 0;a-=1}else if(u[0][a]<u[1][a])return-1}},e.map=function(e,t){var n,r=[];if(Array.prototype.map)return Array.prototype.map.call(e,t);for(n=0;n<e.length;n+=1)r.push(t(e[n]));return r},e.find=function(e,t){var n,r;if(Array.prototype.find)return Array.prototype.find.call(e,t);for(n=0,r=e.length;n<r;n+=1){var o=e[n];if(t(o,n))return o}},e.assign=function(e){for(var t,n,r=e,o=arguments.length,i=new Array(o>1?o-1:0),a=1;a<o;a++)i[a-1]=arguments[a];if(Object.assign)return Object.assign.apply(Object,[e].concat(i));var s=function(){var e=i[t];"object"==typeof e&&null!==e&&Object.keys(e).forEach((function(t){r[t]=e[t]}))};for(t=0,n=i.length;t<n;t+=1)s();return e},e.getBrowserAlias=function(e){return r.BROWSER_ALIASES_MAP[e]},e.getBrowserTypeByAlias=function(e){return r.BROWSER_MAP[e]||""},e}();t.default=o,e.exports=t.default},18:function(e,t,n){t.__esModule=!0,t.ENGINE_MAP=t.OS_MAP=t.PLATFORMS_MAP=t.BROWSER_MAP=t.BROWSER_ALIASES_MAP=void 0,t.BROWSER_ALIASES_MAP={"Amazon Silk":"amazon_silk","Android Browser":"android",Bada:"bada",BlackBerry:"blackberry",Chrome:"chrome",Chromium:"chromium",Electron:"electron",Epiphany:"epiphany",Firefox:"firefox",Focus:"focus",Generic:"generic","Google Search":"google_search",Googlebot:"googlebot","Internet Explorer":"ie","K-Meleon":"k_meleon",Maxthon:"maxthon","Microsoft Edge":"edge","MZ Browser":"mz","NAVER Whale Browser":"naver",Opera:"opera","Opera Coast":"opera_coast",PhantomJS:"phantomjs",Puffin:"puffin",QupZilla:"qupzilla",QQ:"qq",QQLite:"qqlite",Safari:"safari",Sailfish:"sailfish","Samsung Internet for Android":"samsung_internet",SeaMonkey:"seamonkey",Sleipnir:"sleipnir",Swing:"swing",Tizen:"tizen","UC Browser":"uc",Vivaldi:"vivaldi","WebOS Browser":"webos",WeChat:"wechat","Yandex Browser":"yandex",Roku:"roku"},t.BROWSER_MAP={amazon_silk:"Amazon Silk",android:"Android Browser",bada:"Bada",blackberry:"BlackBerry",chrome:"Chrome",chromium:"Chromium",electron:"Electron",epiphany:"Epiphany",firefox:"Firefox",focus:"Focus",generic:"Generic",googlebot:"Googlebot",google_search:"Google Search",ie:"Internet Explorer",k_meleon:"K-Meleon",maxthon:"Maxthon",edge:"Microsoft Edge",mz:"MZ Browser",naver:"NAVER Whale Browser",opera:"Opera",opera_coast:"Opera Coast",phantomjs:"PhantomJS",puffin:"Puffin",qupzilla:"QupZilla",qq:"QQ Browser",qqlite:"QQ Browser Lite",safari:"Safari",sailfish:"Sailfish",samsung_internet:"Samsung Internet for Android",seamonkey:"SeaMonkey",sleipnir:"Sleipnir",swing:"Swing",tizen:"Tizen",uc:"UC Browser",vivaldi:"Vivaldi",webos:"WebOS Browser",wechat:"WeChat",yandex:"Yandex Browser"},t.PLATFORMS_MAP={tablet:"tablet",mobile:"mobile",desktop:"desktop",tv:"tv"},t.OS_MAP={WindowsPhone:"Windows Phone",Windows:"Windows",MacOS:"macOS",iOS:"iOS",Android:"Android",WebOS:"WebOS",BlackBerry:"BlackBerry",Bada:"Bada",Tizen:"Tizen",Linux:"Linux",ChromeOS:"Chrome OS",PlayStation4:"PlayStation 4",Roku:"Roku"},t.ENGINE_MAP={EdgeHTML:"EdgeHTML",Blink:"Blink",Trident:"Trident",Presto:"Presto",Gecko:"Gecko",WebKit:"WebKit"}},90:function(e,t,n){t.__esModule=!0,t.default=void 0;var r,o=(r=n(91))&&r.__esModule?r:{default:r},i=n(18);function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var s=function(){function e(){}var t,n,r;return e.getParser=function(e,t){if(void 0===t&&(t=!1),"string"!=typeof e)throw new Error("UserAgent should be a string");return new o.default(e,t)},e.parse=function(e){return new o.default(e).getResult()},t=e,r=[{key:"BROWSER_MAP",get:function(){return i.BROWSER_MAP}},{key:"ENGINE_MAP",get:function(){return i.ENGINE_MAP}},{key:"OS_MAP",get:function(){return i.OS_MAP}},{key:"PLATFORMS_MAP",get:function(){return i.PLATFORMS_MAP}}],(n=null)&&a(t.prototype,n),r&&a(t,r),e}();t.default=s,e.exports=t.default},91:function(e,t,n){t.__esModule=!0,t.default=void 0;var r=u(n(92)),o=u(n(93)),i=u(n(94)),a=u(n(95)),s=u(n(17));function u(e){return e&&e.__esModule?e:{default:e}}var c=function(){function e(e,t){if(void 0===t&&(t=!1),null==e||""===e)throw new Error("UserAgent parameter can't be empty");this._ua=e,this.parsedResult={},!0!==t&&this.parse()}var t=e.prototype;return t.getUA=function(){return this._ua},t.test=function(e){return e.test(this._ua)},t.parseBrowser=function(){var e=this;this.parsedResult.browser={};var t=s.default.find(r.default,(function(t){if("function"==typeof t.test)return t.test(e);if(t.test instanceof Array)return t.test.some((function(t){return e.test(t)}));throw new Error("Browser's test function is not valid")}));return t&&(this.parsedResult.browser=t.describe(this.getUA())),this.parsedResult.browser},t.getBrowser=function(){return this.parsedResult.browser?this.parsedResult.browser:this.parseBrowser()},t.getBrowserName=function(e){return e?String(this.getBrowser().name).toLowerCase()||"":this.getBrowser().name||""},t.getBrowserVersion=function(){return this.getBrowser().version},t.getOS=function(){return this.parsedResult.os?this.parsedResult.os:this.parseOS()},t.parseOS=function(){var e=this;this.parsedResult.os={};var t=s.default.find(o.default,(function(t){if("function"==typeof t.test)return t.test(e);if(t.test instanceof Array)return t.test.some((function(t){return e.test(t)}));throw new Error("Browser's test function is not valid")}));return t&&(this.parsedResult.os=t.describe(this.getUA())),this.parsedResult.os},t.getOSName=function(e){var t=this.getOS().name;return e?String(t).toLowerCase()||"":t||""},t.getOSVersion=function(){return this.getOS().version},t.getPlatform=function(){return this.parsedResult.platform?this.parsedResult.platform:this.parsePlatform()},t.getPlatformType=function(e){void 0===e&&(e=!1);var t=this.getPlatform().type;return e?String(t).toLowerCase()||"":t||""},t.parsePlatform=function(){var e=this;this.parsedResult.platform={};var t=s.default.find(i.default,(function(t){if("function"==typeof t.test)return t.test(e);if(t.test instanceof Array)return t.test.some((function(t){return e.test(t)}));throw new Error("Browser's test function is not valid")}));return t&&(this.parsedResult.platform=t.describe(this.getUA())),this.parsedResult.platform},t.getEngine=function(){return this.parsedResult.engine?this.parsedResult.engine:this.parseEngine()},t.getEngineName=function(e){return e?String(this.getEngine().name).toLowerCase()||"":this.getEngine().name||""},t.parseEngine=function(){var e=this;this.parsedResult.engine={};var t=s.default.find(a.default,(function(t){if("function"==typeof t.test)return t.test(e);if(t.test instanceof Array)return t.test.some((function(t){return e.test(t)}));throw new Error("Browser's test function is not valid")}));return t&&(this.parsedResult.engine=t.describe(this.getUA())),this.parsedResult.engine},t.parse=function(){return this.parseBrowser(),this.parseOS(),this.parsePlatform(),this.parseEngine(),this},t.getResult=function(){return s.default.assign({},this.parsedResult)},t.satisfies=function(e){var t=this,n={},r=0,o={},i=0;if(Object.keys(e).forEach((function(t){var a=e[t];"string"==typeof a?(o[t]=a,i+=1):"object"==typeof a&&(n[t]=a,r+=1)})),r>0){var a=Object.keys(n),u=s.default.find(a,(function(e){return t.isOS(e)}));if(u){var c=this.satisfies(n[u]);if(void 0!==c)return c}var l=s.default.find(a,(function(e){return t.isPlatform(e)}));if(l){var d=this.satisfies(n[l]);if(void 0!==d)return d}}if(i>0){var f=Object.keys(o),p=s.default.find(f,(function(e){return t.isBrowser(e,!0)}));if(void 0!==p)return this.compareVersion(o[p])}},t.isBrowser=function(e,t){void 0===t&&(t=!1);var n=this.getBrowserName().toLowerCase(),r=e.toLowerCase(),o=s.default.getBrowserTypeByAlias(r);return t&&o&&(r=o.toLowerCase()),r===n},t.compareVersion=function(e){var t=[0],n=e,r=!1,o=this.getBrowserVersion();if("string"==typeof o)return">"===e[0]||"<"===e[0]?(n=e.substr(1),"="===e[1]?(r=!0,n=e.substr(2)):t=[],">"===e[0]?t.push(1):t.push(-1)):"="===e[0]?n=e.substr(1):"~"===e[0]&&(r=!0,n=e.substr(1)),t.indexOf(s.default.compareVersions(o,n,r))>-1},t.isOS=function(e){return this.getOSName(!0)===String(e).toLowerCase()},t.isPlatform=function(e){return this.getPlatformType(!0)===String(e).toLowerCase()},t.isEngine=function(e){return this.getEngineName(!0)===String(e).toLowerCase()},t.is=function(e,t){return void 0===t&&(t=!1),this.isBrowser(e,t)||this.isOS(e)||this.isPlatform(e)},t.some=function(e){var t=this;return void 0===e&&(e=[]),e.some((function(e){return t.is(e)}))},e}();t.default=c,e.exports=t.default},92:function(e,t,n){t.__esModule=!0,t.default=void 0;var r,o=(r=n(17))&&r.__esModule?r:{default:r},i=/version\/(\d+(\.?_?\d+)+)/i,a=[{test:[/googlebot/i],describe:function(e){var t={name:"Googlebot"},n=o.default.getFirstMatch(/googlebot\/(\d+(\.\d+))/i,e)||o.default.getFirstMatch(i,e);return n&&(t.version=n),t}},{test:[/opera/i],describe:function(e){var t={name:"Opera"},n=o.default.getFirstMatch(i,e)||o.default.getFirstMatch(/(?:opera)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/opr\/|opios/i],describe:function(e){var t={name:"Opera"},n=o.default.getFirstMatch(/(?:opr|opios)[\s/](\S+)/i,e)||o.default.getFirstMatch(i,e);return n&&(t.version=n),t}},{test:[/SamsungBrowser/i],describe:function(e){var t={name:"Samsung Internet for Android"},n=o.default.getFirstMatch(i,e)||o.default.getFirstMatch(/(?:SamsungBrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/Whale/i],describe:function(e){var t={name:"NAVER Whale Browser"},n=o.default.getFirstMatch(i,e)||o.default.getFirstMatch(/(?:whale)[\s/](\d+(?:\.\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/MZBrowser/i],describe:function(e){var t={name:"MZ Browser"},n=o.default.getFirstMatch(/(?:MZBrowser)[\s/](\d+(?:\.\d+)+)/i,e)||o.default.getFirstMatch(i,e);return n&&(t.version=n),t}},{test:[/focus/i],describe:function(e){var t={name:"Focus"},n=o.default.getFirstMatch(/(?:focus)[\s/](\d+(?:\.\d+)+)/i,e)||o.default.getFirstMatch(i,e);return n&&(t.version=n),t}},{test:[/swing/i],describe:function(e){var t={name:"Swing"},n=o.default.getFirstMatch(/(?:swing)[\s/](\d+(?:\.\d+)+)/i,e)||o.default.getFirstMatch(i,e);return n&&(t.version=n),t}},{test:[/coast/i],describe:function(e){var t={name:"Opera Coast"},n=o.default.getFirstMatch(i,e)||o.default.getFirstMatch(/(?:coast)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/opt\/\d+(?:.?_?\d+)+/i],describe:function(e){var t={name:"Opera Touch"},n=o.default.getFirstMatch(/(?:opt)[\s/](\d+(\.?_?\d+)+)/i,e)||o.default.getFirstMatch(i,e);return n&&(t.version=n),t}},{test:[/yabrowser/i],describe:function(e){var t={name:"Yandex Browser"},n=o.default.getFirstMatch(/(?:yabrowser)[\s/](\d+(\.?_?\d+)+)/i,e)||o.default.getFirstMatch(i,e);return n&&(t.version=n),t}},{test:[/ucbrowser/i],describe:function(e){var t={name:"UC Browser"},n=o.default.getFirstMatch(i,e)||o.default.getFirstMatch(/(?:ucbrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/Maxthon|mxios/i],describe:function(e){var t={name:"Maxthon"},n=o.default.getFirstMatch(i,e)||o.default.getFirstMatch(/(?:Maxthon|mxios)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/epiphany/i],describe:function(e){var t={name:"Epiphany"},n=o.default.getFirstMatch(i,e)||o.default.getFirstMatch(/(?:epiphany)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/puffin/i],describe:function(e){var t={name:"Puffin"},n=o.default.getFirstMatch(i,e)||o.default.getFirstMatch(/(?:puffin)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/sleipnir/i],describe:function(e){var t={name:"Sleipnir"},n=o.default.getFirstMatch(i,e)||o.default.getFirstMatch(/(?:sleipnir)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/k-meleon/i],describe:function(e){var t={name:"K-Meleon"},n=o.default.getFirstMatch(i,e)||o.default.getFirstMatch(/(?:k-meleon)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/micromessenger/i],describe:function(e){var t={name:"WeChat"},n=o.default.getFirstMatch(/(?:micromessenger)[\s/](\d+(\.?_?\d+)+)/i,e)||o.default.getFirstMatch(i,e);return n&&(t.version=n),t}},{test:[/qqbrowser/i],describe:function(e){var t={name:/qqbrowserlite/i.test(e)?"QQ Browser Lite":"QQ Browser"},n=o.default.getFirstMatch(/(?:qqbrowserlite|qqbrowser)[/](\d+(\.?_?\d+)+)/i,e)||o.default.getFirstMatch(i,e);return n&&(t.version=n),t}},{test:[/msie|trident/i],describe:function(e){var t={name:"Internet Explorer"},n=o.default.getFirstMatch(/(?:msie |rv:)(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/\sedg\//i],describe:function(e){var t={name:"Microsoft Edge"},n=o.default.getFirstMatch(/\sedg\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/edg([ea]|ios)/i],describe:function(e){var t={name:"Microsoft Edge"},n=o.default.getSecondMatch(/edg([ea]|ios)\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/vivaldi/i],describe:function(e){var t={name:"Vivaldi"},n=o.default.getFirstMatch(/vivaldi\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/seamonkey/i],describe:function(e){var t={name:"SeaMonkey"},n=o.default.getFirstMatch(/seamonkey\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/sailfish/i],describe:function(e){var t={name:"Sailfish"},n=o.default.getFirstMatch(/sailfish\s?browser\/(\d+(\.\d+)?)/i,e);return n&&(t.version=n),t}},{test:[/silk/i],describe:function(e){var t={name:"Amazon Silk"},n=o.default.getFirstMatch(/silk\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/phantom/i],describe:function(e){var t={name:"PhantomJS"},n=o.default.getFirstMatch(/phantomjs\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/slimerjs/i],describe:function(e){var t={name:"SlimerJS"},n=o.default.getFirstMatch(/slimerjs\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe:function(e){var t={name:"BlackBerry"},n=o.default.getFirstMatch(i,e)||o.default.getFirstMatch(/blackberry[\d]+\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/(web|hpw)[o0]s/i],describe:function(e){var t={name:"WebOS Browser"},n=o.default.getFirstMatch(i,e)||o.default.getFirstMatch(/w(?:eb)?[o0]sbrowser\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/bada/i],describe:function(e){var t={name:"Bada"},n=o.default.getFirstMatch(/dolfin\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/tizen/i],describe:function(e){var t={name:"Tizen"},n=o.default.getFirstMatch(/(?:tizen\s?)?browser\/(\d+(\.?_?\d+)+)/i,e)||o.default.getFirstMatch(i,e);return n&&(t.version=n),t}},{test:[/qupzilla/i],describe:function(e){var t={name:"QupZilla"},n=o.default.getFirstMatch(/(?:qupzilla)[\s/](\d+(\.?_?\d+)+)/i,e)||o.default.getFirstMatch(i,e);return n&&(t.version=n),t}},{test:[/firefox|iceweasel|fxios/i],describe:function(e){var t={name:"Firefox"},n=o.default.getFirstMatch(/(?:firefox|iceweasel|fxios)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/electron/i],describe:function(e){var t={name:"Electron"},n=o.default.getFirstMatch(/(?:electron)\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/MiuiBrowser/i],describe:function(e){var t={name:"Miui"},n=o.default.getFirstMatch(/(?:MiuiBrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/chromium/i],describe:function(e){var t={name:"Chromium"},n=o.default.getFirstMatch(/(?:chromium)[\s/](\d+(\.?_?\d+)+)/i,e)||o.default.getFirstMatch(i,e);return n&&(t.version=n),t}},{test:[/chrome|crios|crmo/i],describe:function(e){var t={name:"Chrome"},n=o.default.getFirstMatch(/(?:chrome|crios|crmo)\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/GSA/i],describe:function(e){var t={name:"Google Search"},n=o.default.getFirstMatch(/(?:GSA)\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:function(e){var t=!e.test(/like android/i),n=e.test(/android/i);return t&&n},describe:function(e){var t={name:"Android Browser"},n=o.default.getFirstMatch(i,e);return n&&(t.version=n),t}},{test:[/playstation 4/i],describe:function(e){var t={name:"PlayStation 4"},n=o.default.getFirstMatch(i,e);return n&&(t.version=n),t}},{test:[/safari|applewebkit/i],describe:function(e){var t={name:"Safari"},n=o.default.getFirstMatch(i,e);return n&&(t.version=n),t}},{test:[/.*/i],describe:function(e){var t=-1!==e.search("\\(")?/^(.*)\/(.*)[ \t]\((.*)/:/^(.*)\/(.*) /;return{name:o.default.getFirstMatch(t,e),version:o.default.getSecondMatch(t,e)}}}];t.default=a,e.exports=t.default},93:function(e,t,n){t.__esModule=!0,t.default=void 0;var r,o=(r=n(17))&&r.__esModule?r:{default:r},i=n(18),a=[{test:[/Roku\/DVP/],describe:function(e){var t=o.default.getFirstMatch(/Roku\/DVP-(\d+\.\d+)/i,e);return{name:i.OS_MAP.Roku,version:t}}},{test:[/windows phone/i],describe:function(e){var t=o.default.getFirstMatch(/windows phone (?:os)?\s?(\d+(\.\d+)*)/i,e);return{name:i.OS_MAP.WindowsPhone,version:t}}},{test:[/windows /i],describe:function(e){var t=o.default.getFirstMatch(/Windows ((NT|XP)( \d\d?.\d)?)/i,e),n=o.default.getWindowsVersionName(t);return{name:i.OS_MAP.Windows,version:t,versionName:n}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe:function(e){var t={name:i.OS_MAP.iOS},n=o.default.getSecondMatch(/(Version\/)(\d[\d.]+)/,e);return n&&(t.version=n),t}},{test:[/macintosh/i],describe:function(e){var t=o.default.getFirstMatch(/mac os x (\d+(\.?_?\d+)+)/i,e).replace(/[_\s]/g,"."),n=o.default.getMacOSVersionName(t),r={name:i.OS_MAP.MacOS,version:t};return n&&(r.versionName=n),r}},{test:[/(ipod|iphone|ipad)/i],describe:function(e){var t=o.default.getFirstMatch(/os (\d+([_\s]\d+)*) like mac os x/i,e).replace(/[_\s]/g,".");return{name:i.OS_MAP.iOS,version:t}}},{test:function(e){var t=!e.test(/like android/i),n=e.test(/android/i);return t&&n},describe:function(e){var t=o.default.getFirstMatch(/android[\s/-](\d+(\.\d+)*)/i,e),n=o.default.getAndroidVersionName(t),r={name:i.OS_MAP.Android,version:t};return n&&(r.versionName=n),r}},{test:[/(web|hpw)[o0]s/i],describe:function(e){var t=o.default.getFirstMatch(/(?:web|hpw)[o0]s\/(\d+(\.\d+)*)/i,e),n={name:i.OS_MAP.WebOS};return t&&t.length&&(n.version=t),n}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe:function(e){var t=o.default.getFirstMatch(/rim\stablet\sos\s(\d+(\.\d+)*)/i,e)||o.default.getFirstMatch(/blackberry\d+\/(\d+([_\s]\d+)*)/i,e)||o.default.getFirstMatch(/\bbb(\d+)/i,e);return{name:i.OS_MAP.BlackBerry,version:t}}},{test:[/bada/i],describe:function(e){var t=o.default.getFirstMatch(/bada\/(\d+(\.\d+)*)/i,e);return{name:i.OS_MAP.Bada,version:t}}},{test:[/tizen/i],describe:function(e){var t=o.default.getFirstMatch(/tizen[/\s](\d+(\.\d+)*)/i,e);return{name:i.OS_MAP.Tizen,version:t}}},{test:[/linux/i],describe:function(){return{name:i.OS_MAP.Linux}}},{test:[/CrOS/],describe:function(){return{name:i.OS_MAP.ChromeOS}}},{test:[/PlayStation 4/],describe:function(e){var t=o.default.getFirstMatch(/PlayStation 4[/\s](\d+(\.\d+)*)/i,e);return{name:i.OS_MAP.PlayStation4,version:t}}}];t.default=a,e.exports=t.default},94:function(e,t,n){t.__esModule=!0,t.default=void 0;var r,o=(r=n(17))&&r.__esModule?r:{default:r},i=n(18),a=[{test:[/googlebot/i],describe:function(){return{type:"bot",vendor:"Google"}}},{test:[/huawei/i],describe:function(e){var t=o.default.getFirstMatch(/(can-l01)/i,e)&&"Nova",n={type:i.PLATFORMS_MAP.mobile,vendor:"Huawei"};return t&&(n.model=t),n}},{test:[/nexus\s*(?:7|8|9|10).*/i],describe:function(){return{type:i.PLATFORMS_MAP.tablet,vendor:"Nexus"}}},{test:[/ipad/i],describe:function(){return{type:i.PLATFORMS_MAP.tablet,vendor:"Apple",model:"iPad"}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe:function(){return{type:i.PLATFORMS_MAP.tablet,vendor:"Apple",model:"iPad"}}},{test:[/kftt build/i],describe:function(){return{type:i.PLATFORMS_MAP.tablet,vendor:"Amazon",model:"Kindle Fire HD 7"}}},{test:[/silk/i],describe:function(){return{type:i.PLATFORMS_MAP.tablet,vendor:"Amazon"}}},{test:[/tablet(?! pc)/i],describe:function(){return{type:i.PLATFORMS_MAP.tablet}}},{test:function(e){var t=e.test(/ipod|iphone/i),n=e.test(/like (ipod|iphone)/i);return t&&!n},describe:function(e){var t=o.default.getFirstMatch(/(ipod|iphone)/i,e);return{type:i.PLATFORMS_MAP.mobile,vendor:"Apple",model:t}}},{test:[/nexus\s*[0-6].*/i,/galaxy nexus/i],describe:function(){return{type:i.PLATFORMS_MAP.mobile,vendor:"Nexus"}}},{test:[/[^-]mobi/i],describe:function(){return{type:i.PLATFORMS_MAP.mobile}}},{test:function(e){return"blackberry"===e.getBrowserName(!0)},describe:function(){return{type:i.PLATFORMS_MAP.mobile,vendor:"BlackBerry"}}},{test:function(e){return"bada"===e.getBrowserName(!0)},describe:function(){return{type:i.PLATFORMS_MAP.mobile}}},{test:function(e){return"windows phone"===e.getBrowserName()},describe:function(){return{type:i.PLATFORMS_MAP.mobile,vendor:"Microsoft"}}},{test:function(e){var t=Number(String(e.getOSVersion()).split(".")[0]);return"android"===e.getOSName(!0)&&t>=3},describe:function(){return{type:i.PLATFORMS_MAP.tablet}}},{test:function(e){return"android"===e.getOSName(!0)},describe:function(){return{type:i.PLATFORMS_MAP.mobile}}},{test:function(e){return"macos"===e.getOSName(!0)},describe:function(){return{type:i.PLATFORMS_MAP.desktop,vendor:"Apple"}}},{test:function(e){return"windows"===e.getOSName(!0)},describe:function(){return{type:i.PLATFORMS_MAP.desktop}}},{test:function(e){return"linux"===e.getOSName(!0)},describe:function(){return{type:i.PLATFORMS_MAP.desktop}}},{test:function(e){return"playstation 4"===e.getOSName(!0)},describe:function(){return{type:i.PLATFORMS_MAP.tv}}},{test:function(e){return"roku"===e.getOSName(!0)},describe:function(){return{type:i.PLATFORMS_MAP.tv}}}];t.default=a,e.exports=t.default},95:function(e,t,n){t.__esModule=!0,t.default=void 0;var r,o=(r=n(17))&&r.__esModule?r:{default:r},i=n(18),a=[{test:function(e){return"microsoft edge"===e.getBrowserName(!0)},describe:function(e){if(/\sedg\//i.test(e))return{name:i.ENGINE_MAP.Blink};var t=o.default.getFirstMatch(/edge\/(\d+(\.?_?\d+)+)/i,e);return{name:i.ENGINE_MAP.EdgeHTML,version:t}}},{test:[/trident/i],describe:function(e){var t={name:i.ENGINE_MAP.Trident},n=o.default.getFirstMatch(/trident\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:function(e){return e.test(/presto/i)},describe:function(e){var t={name:i.ENGINE_MAP.Presto},n=o.default.getFirstMatch(/presto\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:function(e){var t=e.test(/gecko/i),n=e.test(/like gecko/i);return t&&!n},describe:function(e){var t={name:i.ENGINE_MAP.Gecko},n=o.default.getFirstMatch(/gecko\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/(apple)?webkit\/537\.36/i],describe:function(){return{name:i.ENGINE_MAP.Blink}}},{test:[/(apple)?webkit/i],describe:function(e){var t={name:i.ENGINE_MAP.WebKit},n=o.default.getFirstMatch(/webkit\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}}];t.default=a,e.exports=t.default}});var vc=h(bc.exports);const wc=({serviceId:e,clientVersion:t})=>async()=>{const n="undefined"!=typeof window&&window?.navigator?.userAgent?vc.parse(window.navigator.userAgent):void 0,r=[["aws-sdk-js",t],[`os/${n?.os?.name||"other"}`,n?.os?.version],["lang/js"],["md/browser",`${n?.browser?.name??"unknown"}_${n?.browser?.version??"unknown"}`]];return e&&r.push([`api/${e}`,t]),r};class Sc{constructor(e){this.sigv4Signer=new Mi(e),this.signerOptions=e}async sign(e,t={}){if("*"===t.signingRegion){if("node"!==this.signerOptions.runtime)throw new Error("This request requires signing with SigV4Asymmetric algorithm. It's only available in Node.js");return this.getSigv4aSigner().sign(e,t)}return this.sigv4Signer.sign(e,t)}async presign(e,t={}){if("*"===t.signingRegion){if("node"!==this.signerOptions.runtime)throw new Error("This request requires signing with SigV4Asymmetric algorithm. It's only available in Node.js");return this.getSigv4aSigner().presign(e,t)}return this.sigv4Signer.presign(e,t)}getSigv4aSigner(){if(!this.sigv4aSigner){let e;try{if(e="function"==typeof require&&require("@aws-sdk/signature-v4-crt").CrtSignerV4,"function"!=typeof e)throw new Error}catch(e){throw e.message=`${e.message}\nPlease check if you have installed "@aws-sdk/signature-v4-crt" package explicitly. \nFor more information please go to https://github.com/aws/aws-sdk-js-v3#functionality-requiring-aws-common-runtime-crt`,e}this.sigv4aSigner=new e({...this.signerOptions,signingAlgorithm:1})}return this.sigv4aSigner}}const _c="required",Ac="type",Pc="rules",xc="conditions",Ec="fn",kc="argv",Oc="ref",Rc="assign",Tc="url",Cc="properties",Mc="authSchemes",Nc="disableDoubleEncoding",Ic="signingName",Uc="signingRegion",jc="headers",Lc=!0,Dc="tree",Bc="isSet",$c="substring",Fc="hardwareType",Hc="regionPrefix",zc="abbaSuffix",qc="outpostId",Vc="aws.partition",Gc="stringEquals",Wc="isValidHostLabel",Kc="not",Zc="error",Xc="parseURL",Jc="s3-outposts",Yc="endpoint",Qc="booleanEquals",el="aws.parseArn",tl="s3",nl="aws.isVirtualHostableS3Bucket",rl="getAttr",ol="name",il="Host override cannot be combined with Dualstack, FIPS, or S3 Accelerate",al="https://{Bucket}.s3.{partitionResult#dnsSuffix}",sl="bucketArn",ul="arnType",cl="s3-object-lambda",ll="accesspoint",dl="accessPointName",fl="{url#scheme}://{accessPointName}-{bucketArn#accountId}.{url#authority}{url#path}",pl="mrapPartition",hl="outpostType",gl="arnPrefix",ml="{url#scheme}://{url#authority}{url#path}",yl="https://s3.{partitionResult#dnsSuffix}",bl={[_c]:!1,[Ac]:"String"},vl={[_c]:!0,default:!1,[Ac]:"Boolean"},wl={[_c]:!1,[Ac]:"Boolean"},Sl={[Ec]:Bc,[kc]:[{[Oc]:"Bucket"}]},_l={[Oc]:"Bucket"},Al={[Oc]:Fc},Pl={[xc]:[{[Ec]:Kc,[kc]:[{[Ec]:Bc,[kc]:[{[Oc]:"Endpoint"}]}]}],[Zc]:"Expected a endpoint to be specified but no endpoint was found",[Ac]:Zc},xl={[Ec]:Kc,[kc]:[{[Ec]:Bc,[kc]:[{[Oc]:"Endpoint"}]}]},El={[Ec]:Bc,[kc]:[{[Oc]:"Endpoint"}]},kl={[Ec]:Xc,[kc]:[{[Oc]:"Endpoint"}],[Rc]:"url"},Ol={[Mc]:[{[Nc]:!0,[ol]:"sigv4",[Ic]:Jc,[Uc]:"{Region}"}]},Rl={},Tl={[Oc]:"ForcePathStyle"},Cl={[xc]:[{[Ec]:"uriEncode",[kc]:[_l],[Rc]:"uri_encoded_bucket"}],[Ac]:Dc,[Pc]:[{[xc]:[{[Ec]:Qc,[kc]:[{[Oc]:"UseDualStack"},!0]},El],[Zc]:"Cannot set dual-stack in combination with a custom endpoint.",[Ac]:Zc},{[Ac]:Dc,[Pc]:[{[xc]:[{[Ec]:Vc,[kc]:[{[Oc]:"Region"}],[Rc]:"partitionResult"}],[Ac]:Dc,[Pc]:[{[Ac]:Dc,[Pc]:[{[xc]:[{[Ec]:Qc,[kc]:[{[Oc]:"Accelerate"},!1]}],[Ac]:Dc,[Pc]:[{[Ac]:Dc,[Pc]:[{[xc]:[{[Ec]:Qc,[kc]:[{[Oc]:"UseDualStack"},!0]},xl,{[Ec]:Qc,[kc]:[{[Oc]:"UseFIPS"},!0]},{[Ec]:Gc,[kc]:[{[Oc]:"Region"},"aws-global"]}],[Yc]:{[Tc]:"https://s3-fips.dualstack.us-east-1.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[Cc]:{[Mc]:[{[Nc]:!0,[ol]:"sigv4",[Ic]:tl,[Uc]:"us-east-1"}]},[jc]:{}},[Ac]:Yc},{[xc]:[{[Ec]:Qc,[kc]:[{[Oc]:"UseDualStack"},!0]},xl,{[Ec]:Qc,[kc]:[{[Oc]:"UseFIPS"},!0]},{[Ec]:Gc,[kc]:[{[Oc]:"Region"},"aws-global"]}],[Yc]:{[Tc]:"https://s3-fips.dualstack.us-east-1.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[Cc]:{[Mc]:[{[Nc]:!0,[ol]:"sigv4",[Ic]:tl,[Uc]:"us-east-1"}]},[jc]:{}},[Ac]:Yc},{[xc]:[{[Ec]:Qc,[kc]:[{[Oc]:"UseDualStack"},!0]},xl,{[Ec]:Qc,[kc]:[{[Oc]:"UseFIPS"},!0]},{[Ec]:Kc,[kc]:[{[Ec]:Gc,[kc]:[{[Oc]:"Region"},"aws-global"]}]},{[Ec]:Qc,[kc]:[{[Oc]:"UseGlobalEndpoint"},!0]}],[Ac]:Dc,[Pc]:[{[Yc]:{[Tc]:"https://s3-fips.dualstack.{Region}.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[Cc]:{[Mc]:[{[Nc]:!0,[ol]:"sigv4",[Ic]:tl,[Uc]:"{Region}"}]},[jc]:{}},[Ac]:Yc}]},{[xc]:[{[Ec]:Qc,[kc]:[{[Oc]:"UseDualStack"},!0]},xl,{[Ec]:Qc,[kc]:[{[Oc]:"UseFIPS"},!0]},{[Ec]:Kc,[kc]:[{[Ec]:Gc,[kc]:[{[Oc]:"Region"},"aws-global"]}]},{[Ec]:Qc,[kc]:[{[Oc]:"UseGlobalEndpoint"},!1]}],[Yc]:{[Tc]:"https://s3-fips.dualstack.{Region}.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[Cc]:{[Mc]:[{[Nc]:!0,[ol]:"sigv4",[Ic]:tl,[Uc]:"{Region}"}]},[jc]:{}},[Ac]:Yc},{[xc]:[{[Ec]:Qc,[kc]:[{[Oc]:"UseDualStack"},!1]},El,kl,{[Ec]:Qc,[kc]:[{[Oc]:"UseFIPS"},!0]},{[Ec]:Gc,[kc]:[{[Oc]:"Region"},"aws-global"]}],[Yc]:{[Tc]:"{url#scheme}://{url#authority}{url#normalizedPath}{uri_encoded_bucket}",[Cc]:{[Mc]:[{[Nc]:!0,[ol]:"sigv4",[Ic]:tl,[Uc]:"us-east-1"}]},[jc]:{}},[Ac]:Yc},{[xc]:[{[Ec]:Qc,[kc]:[{[Oc]:"UseDualStack"},!1]},El,kl,{[Ec]:Qc,[kc]:[{[Oc]:"UseFIPS"},!0]},{[Ec]:Gc,[kc]:[{[Oc]:"Region"},"aws-global"]}],[Yc]:{[Tc]:"{url#scheme}://{url#authority}{url#normalizedPath}{uri_encoded_bucket}",[Cc]:{[Mc]:[{[Nc]:!0,[ol]:"sigv4",[Ic]:tl,[Uc]:"us-east-1"}]},[jc]:{}},[Ac]:Yc},{[xc]:[{[Ec]:Qc,[kc]:[{[Oc]:"UseDualStack"},!1]},El,kl,{[Ec]:Qc,[kc]:[{[Oc]:"UseFIPS"},!0]},{[Ec]:Kc,[kc]:[{[Ec]:Gc,[kc]:[{[Oc]:"Region"},"aws-global"]}]},{[Ec]:Qc,[kc]:[{[Oc]:"UseGlobalEndpoint"},!0]}],[Ac]:Dc,[Pc]:[{[Yc]:{[Tc]:"{url#scheme}://{url#authority}{url#normalizedPath}{uri_encoded_bucket}",[Cc]:{[Mc]:[{[Nc]:!0,[ol]:"sigv4",[Ic]:tl,[Uc]:"{Region}"}]},[jc]:{}},[Ac]:Yc}]},{[xc]:[{[Ec]:Qc,[kc]:[{[Oc]:"UseDualStack"},!1]},El,kl,{[Ec]:Qc,[kc]:[{[Oc]:"UseFIPS"},!0]},{[Ec]:Kc,[kc]:[{[Ec]:Gc,[kc]:[{[Oc]:"Region"},"aws-global"]}]},{[Ec]:Qc,[kc]:[{[Oc]:"UseGlobalEndpoint"},!1]}],[Yc]:{[Tc]:"{url#scheme}://{url#authority}{url#normalizedPath}{uri_encoded_bucket}",[Cc]:{[Mc]:[{[Nc]:!0,[ol]:"sigv4",[Ic]:tl,[Uc]:"{Region}"}]},[jc]:{}},[Ac]:Yc},{[xc]:[{[Ec]:Qc,[kc]:[{[Oc]:"UseDualStack"},!1]},xl,{[Ec]:Qc,[kc]:[{[Oc]:"UseFIPS"},!0]},{[Ec]:Gc,[kc]:[{[Oc]:"Region"},"aws-global"]}],[Yc]:{[Tc]:"https://s3-fips.us-east-1.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[Cc]:{[Mc]:[{[Nc]:!0,[ol]:"sigv4",[Ic]:tl,[Uc]:"us-east-1"}]},[jc]:{}},[Ac]:Yc},{[xc]:[{[Ec]:Qc,[kc]:[{[Oc]:"UseDualStack"},!1]},xl,{[Ec]:Qc,[kc]:[{[Oc]:"UseFIPS"},!0]},{[Ec]:Gc,[kc]:[{[Oc]:"Region"},"aws-global"]}],[Yc]:{[Tc]:"https://s3-fips.us-east-1.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[Cc]:{[Mc]:[{[Nc]:!0,[ol]:"sigv4",[Ic]:tl,[Uc]:"us-east-1"}]},[jc]:{}},[Ac]:Yc},{[xc]:[{[Ec]:Qc,[kc]:[{[Oc]:"UseDualStack"},!1]},xl,{[Ec]:Qc,[kc]:[{[Oc]:"UseFIPS"},!0]},{[Ec]:Kc,[kc]:[{[Ec]:Gc,[kc]:[{[Oc]:"Region"},"aws-global"]}]},{[Ec]:Qc,[kc]:[{[Oc]:"UseGlobalEndpoint"},!0]}],[Ac]:Dc,[Pc]:[{[Yc]:{[Tc]:"https://s3-fips.{Region}.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[Cc]:{[Mc]:[{[Nc]:!0,[ol]:"sigv4",[Ic]:tl,[Uc]:"{Region}"}]},[jc]:{}},[Ac]:Yc}]},{[xc]:[{[Ec]:Qc,[kc]:[{[Oc]:"UseDualStack"},!1]},xl,{[Ec]:Qc,[kc]:[{[Oc]:"UseFIPS"},!0]},{[Ec]:Kc,[kc]:[{[Ec]:Gc,[kc]:[{[Oc]:"Region"},"aws-global"]}]},{[Ec]:Qc,[kc]:[{[Oc]:"UseGlobalEndpoint"},!1]}],[Yc]:{[Tc]:"https://s3-fips.{Region}.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[Cc]:{[Mc]:[{[Nc]:!0,[ol]:"sigv4",[Ic]:tl,[Uc]:"{Region}"}]},[jc]:{}},[Ac]:Yc},{[xc]:[{[Ec]:Qc,[kc]:[{[Oc]:"UseDualStack"},!0]},xl,{[Ec]:Qc,[kc]:[{[Oc]:"UseFIPS"},!1]},{[Ec]:Gc,[kc]:[{[Oc]:"Region"},"aws-global"]}],[Yc]:{[Tc]:"https://s3.dualstack.us-east-1.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[Cc]:{[Mc]:[{[Nc]:!0,[ol]:"sigv4",[Ic]:tl,[Uc]:"us-east-1"}]},[jc]:{}},[Ac]:Yc},{[xc]:[{[Ec]:Qc,[kc]:[{[Oc]:"UseDualStack"},!0]},xl,{[Ec]:Qc,[kc]:[{[Oc]:"UseFIPS"},!1]},{[Ec]:Gc,[kc]:[{[Oc]:"Region"},"aws-global"]}],[Yc]:{[Tc]:"https://s3.dualstack.us-east-1.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[Cc]:{[Mc]:[{[Nc]:!0,[ol]:"sigv4",[Ic]:tl,[Uc]:"us-east-1"}]},[jc]:{}},[Ac]:Yc},{[xc]:[{[Ec]:Qc,[kc]:[{[Oc]:"UseDualStack"},!0]},xl,{[Ec]:Qc,[kc]:[{[Oc]:"UseFIPS"},!1]},{[Ec]:Kc,[kc]:[{[Ec]:Gc,[kc]:[{[Oc]:"Region"},"aws-global"]}]},{[Ec]:Qc,[kc]:[{[Oc]:"UseGlobalEndpoint"},!0]}],[Ac]:Dc,[Pc]:[{[Yc]:{[Tc]:"https://s3.dualstack.{Region}.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[Cc]:{[Mc]:[{[Nc]:!0,[ol]:"sigv4",[Ic]:tl,[Uc]:"{Region}"}]},[jc]:{}},[Ac]:Yc}]},{[xc]:[{[Ec]:Qc,[kc]:[{[Oc]:"UseDualStack"},!0]},xl,{[Ec]:Qc,[kc]:[{[Oc]:"UseFIPS"},!1]},{[Ec]:Kc,[kc]:[{[Ec]:Gc,[kc]:[{[Oc]:"Region"},"aws-global"]}]},{[Ec]:Qc,[kc]:[{[Oc]:"UseGlobalEndpoint"},!1]}],[Yc]:{[Tc]:"https://s3.dualstack.{Region}.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[Cc]:{[Mc]:[{[Nc]:!0,[ol]:"sigv4",[Ic]:tl,[Uc]:"{Region}"}]},[jc]:{}},[Ac]:Yc},{[xc]:[{[Ec]:Qc,[kc]:[{[Oc]:"UseDualStack"},!1]},El,kl,{[Ec]:Qc,[kc]:[{[Oc]:"UseFIPS"},!1]},{[Ec]:Gc,[kc]:[{[Oc]:"Region"},"aws-global"]}],[Yc]:{[Tc]:"{url#scheme}://{url#authority}{url#normalizedPath}{uri_encoded_bucket}",[Cc]:{[Mc]:[{[Nc]:!0,[ol]:"sigv4",[Ic]:tl,[Uc]:"us-east-1"}]},[jc]:{}},[Ac]:Yc},{[xc]:[{[Ec]:Qc,[kc]:[{[Oc]:"UseDualStack"},!1]},El,kl,{[Ec]:Qc,[kc]:[{[Oc]:"UseFIPS"},!1]},{[Ec]:Gc,[kc]:[{[Oc]:"Region"},"aws-global"]}],[Yc]:{[Tc]:"{url#scheme}://{url#authority}{url#normalizedPath}{uri_encoded_bucket}",[Cc]:{[Mc]:[{[Nc]:!0,[ol]:"sigv4",[Ic]:tl,[Uc]:"us-east-1"}]},[jc]:{}},[Ac]:Yc},{[xc]:[{[Ec]:Qc,[kc]:[{[Oc]:"UseDualStack"},!1]},El,kl,{[Ec]:Qc,[kc]:[{[Oc]:"UseFIPS"},!1]},{[Ec]:Kc,[kc]:[{[Ec]:Gc,[kc]:[{[Oc]:"Region"},"aws-global"]}]},{[Ec]:Qc,[kc]:[{[Oc]:"UseGlobalEndpoint"},!0]}],[Ac]:Dc,[Pc]:[{[xc]:[{[Ec]:Gc,[kc]:[{[Oc]:"Region"},"us-east-1"]}],[Yc]:{[Tc]:"{url#scheme}://{url#authority}{url#normalizedPath}{uri_encoded_bucket}",[Cc]:{[Mc]:[{[Nc]:!0,[ol]:"sigv4",[Ic]:tl,[Uc]:"{Region}"}]},[jc]:{}},[Ac]:Yc},{[Yc]:{[Tc]:"{url#scheme}://{url#authority}{url#normalizedPath}{uri_encoded_bucket}",[Cc]:{[Mc]:[{[Nc]:!0,[ol]:"sigv4",[Ic]:tl,[Uc]:"{Region}"}]},[jc]:{}},[Ac]:Yc}]},{[xc]:[{[Ec]:Qc,[kc]:[{[Oc]:"UseDualStack"},!1]},El,kl,{[Ec]:Qc,[kc]:[{[Oc]:"UseFIPS"},!1]},{[Ec]:Kc,[kc]:[{[Ec]:Gc,[kc]:[{[Oc]:"Region"},"aws-global"]}]},{[Ec]:Qc,[kc]:[{[Oc]:"UseGlobalEndpoint"},!1]}],[Yc]:{[Tc]:"{url#scheme}://{url#authority}{url#normalizedPath}{uri_encoded_bucket}",[Cc]:{[Mc]:[{[Nc]:!0,[ol]:"sigv4",[Ic]:tl,[Uc]:"{Region}"}]},[jc]:{}},[Ac]:Yc},{[xc]:[{[Ec]:Qc,[kc]:[{[Oc]:"UseDualStack"},!1]},xl,{[Ec]:Qc,[kc]:[{[Oc]:"UseFIPS"},!1]},{[Ec]:Gc,[kc]:[{[Oc]:"Region"},"aws-global"]}],[Yc]:{[Tc]:"https://s3.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[Cc]:{[Mc]:[{[Nc]:!0,[ol]:"sigv4",[Ic]:tl,[Uc]:"us-east-1"}]},[jc]:{}},[Ac]:Yc},{[xc]:[{[Ec]:Qc,[kc]:[{[Oc]:"UseDualStack"},!1]},xl,{[Ec]:Qc,[kc]:[{[Oc]:"UseFIPS"},!1]},{[Ec]:Gc,[kc]:[{[Oc]:"Region"},"aws-global"]}],[Yc]:{[Tc]:"https://s3.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[Cc]:{[Mc]:[{[Nc]:!0,[ol]:"sigv4",[Ic]:tl,[Uc]:"us-east-1"}]},[jc]:{}},[Ac]:Yc},{[xc]:[{[Ec]:Qc,[kc]:[{[Oc]:"UseDualStack"},!1]},xl,{[Ec]:Qc,[kc]:[{[Oc]:"UseFIPS"},!1]},{[Ec]:Kc,[kc]:[{[Ec]:Gc,[kc]:[{[Oc]:"Region"},"aws-global"]}]},{[Ec]:Qc,[kc]:[{[Oc]:"UseGlobalEndpoint"},!0]}],[Ac]:Dc,[Pc]:[{[xc]:[{[Ec]:Gc,[kc]:[{[Oc]:"Region"},"us-east-1"]}],[Yc]:{[Tc]:"https://s3.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[Cc]:{[Mc]:[{[Nc]:!0,[ol]:"sigv4",[Ic]:tl,[Uc]:"{Region}"}]},[jc]:{}},[Ac]:Yc},{[Yc]:{[Tc]:"https://s3.{Region}.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[Cc]:{[Mc]:[{[Nc]:!0,[ol]:"sigv4",[Ic]:tl,[Uc]:"{Region}"}]},[jc]:{}},[Ac]:Yc}]},{[xc]:[{[Ec]:Qc,[kc]:[{[Oc]:"UseDualStack"},!1]},xl,{[Ec]:Qc,[kc]:[{[Oc]:"UseFIPS"},!1]},{[Ec]:Kc,[kc]:[{[Ec]:Gc,[kc]:[{[Oc]:"Region"},"aws-global"]}]},{[Ec]:Qc,[kc]:[{[Oc]:"UseGlobalEndpoint"},!1]}],[Yc]:{[Tc]:"https://s3.{Region}.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[Cc]:{[Mc]:[{[Nc]:!0,[ol]:"sigv4",[Ic]:tl,[Uc]:"{Region}"}]},[jc]:{}},[Ac]:Yc}]}]},{[Zc]:"Path-style addressing cannot be used with S3 Accelerate",[Ac]:Zc}]}]},{[Zc]:"A valid partition could not be determined",[Ac]:Zc}]}]},Ml={[Ec]:Qc,[kc]:[{[Oc]:"UseDualStack"},!0]},Nl={[Ec]:Qc,[kc]:[{[Oc]:"Accelerate"},!1]},Il={[Ec]:Qc,[kc]:[{[Oc]:"UseFIPS"},!0]},Ul={[Ec]:Kc,[kc]:[{[Ec]:Gc,[kc]:[{[Oc]:"Region"},"aws-global"]}]},jl={[Ec]:Qc,[kc]:[{[Oc]:"UseGlobalEndpoint"},!0]},Ll={[Mc]:[{[Nc]:!0,[ol]:"sigv4",[Ic]:tl,[Uc]:"{Region}"}]},Dl={[Ec]:Qc,[kc]:[{[Oc]:"UseGlobalEndpoint"},!1]},Bl={[Ec]:Qc,[kc]:[{[Oc]:"UseDualStack"},!1]},$l={[Ec]:Qc,[kc]:[{[Oc]:"UseFIPS"},!1]},Fl={[Zc]:"A valid partition could not be determined",[Ac]:Zc},Hl={[xc]:[Il,{[Ec]:Gc,[kc]:[{[Ec]:rl,[kc]:[{[Oc]:"partitionResult"},ol]},"aws-cn"]}],[Zc]:"Partition does not support FIPS",[Ac]:Zc},zl={[Ec]:Qc,[kc]:[{[Oc]:"Accelerate"},!0]},ql={[xc]:[Ml,Il,Nl,xl,{[Ec]:Gc,[kc]:[{[Oc]:"Region"},"aws-global"]}],[Yc]:{[Tc]:"https://{Bucket}.s3-fips.dualstack.us-east-1.{partitionResult#dnsSuffix}",[Cc]:{[Mc]:[{[Nc]:!0,[ol]:"sigv4",[Ic]:tl,[Uc]:"us-east-1"}]},[jc]:{}},[Ac]:Yc},Vl={[Tc]:"https://{Bucket}.s3-fips.dualstack.{Region}.{partitionResult#dnsSuffix}",[Cc]:Ll,[jc]:{}},Gl={[xc]:[Bl,Il,Nl,xl,{[Ec]:Gc,[kc]:[{[Oc]:"Region"},"aws-global"]}],[Yc]:{[Tc]:"https://{Bucket}.s3-fips.us-east-1.{partitionResult#dnsSuffix}",[Cc]:{[Mc]:[{[Nc]:!0,[ol]:"sigv4",[Ic]:tl,[Uc]:"us-east-1"}]},[jc]:{}},[Ac]:Yc},Wl={[Tc]:"https://{Bucket}.s3-fips.{Region}.{partitionResult#dnsSuffix}",[Cc]:Ll,[jc]:{}},Kl={[xc]:[Ml,$l,zl,xl,{[Ec]:Gc,[kc]:[{[Oc]:"Region"},"aws-global"]}],[Yc]:{[Tc]:"https://{Bucket}.s3-accelerate.dualstack.us-east-1.{partitionResult#dnsSuffix}",[Cc]:{[Mc]:[{[Nc]:!0,[ol]:"sigv4",[Ic]:tl,[Uc]:"us-east-1"}]},[jc]:{}},[Ac]:Yc},Zl={[Tc]:"https://{Bucket}.s3-accelerate.dualstack.{partitionResult#dnsSuffix}",[Cc]:Ll,[jc]:{}},Xl={[xc]:[Ml,$l,Nl,xl,{[Ec]:Gc,[kc]:[{[Oc]:"Region"},"aws-global"]}],[Yc]:{[Tc]:"https://{Bucket}.s3.dualstack.us-east-1.{partitionResult#dnsSuffix}",[Cc]:{[Mc]:[{[Nc]:!0,[ol]:"sigv4",[Ic]:tl,[Uc]:"us-east-1"}]},[jc]:{}},[Ac]:Yc},Jl={[Tc]:"https://{Bucket}.s3.dualstack.{Region}.{partitionResult#dnsSuffix}",[Cc]:Ll,[jc]:{}},Yl={[xc]:[Bl,$l,Nl,El,kl,{[Ec]:Qc,[kc]:[{[Ec]:rl,[kc]:[{[Oc]:"url"},"isIp"]},!0]},{[Ec]:Gc,[kc]:[{[Oc]:"Region"},"aws-global"]}],[Yc]:{[Tc]:"{url#scheme}://{url#authority}{url#normalizedPath}{Bucket}",[Cc]:{[Mc]:[{[Nc]:!0,[ol]:"sigv4",[Ic]:tl,[Uc]:"us-east-1"}]},[jc]:{}},[Ac]:Yc},Ql={[Ec]:Qc,[kc]:[{[Ec]:rl,[kc]:[{[Oc]:"url"},"isIp"]},!0]},ed={[Oc]:"url"},td={[xc]:[Bl,$l,Nl,El,kl,{[Ec]:Qc,[kc]:[{[Ec]:rl,[kc]:[ed,"isIp"]},!1]},{[Ec]:Gc,[kc]:[{[Oc]:"Region"},"aws-global"]}],[Yc]:{[Tc]:"{url#scheme}://{Bucket}.{url#authority}{url#path}",[Cc]:{[Mc]:[{[Nc]:!0,[ol]:"sigv4",[Ic]:tl,[Uc]:"us-east-1"}]},[jc]:{}},[Ac]:Yc},nd={[Ec]:Qc,[kc]:[{[Ec]:rl,[kc]:[ed,"isIp"]},!1]},rd={[Tc]:"{url#scheme}://{url#authority}{url#normalizedPath}{Bucket}",[Cc]:Ll,[jc]:{}},od={[Tc]:"{url#scheme}://{Bucket}.{url#authority}{url#path}",[Cc]:Ll,[jc]:{}},id={[Yc]:od,[Ac]:Yc},ad={[xc]:[Bl,$l,zl,xl,{[Ec]:Gc,[kc]:[{[Oc]:"Region"},"aws-global"]}],[Yc]:{[Tc]:"https://{Bucket}.s3-accelerate.{partitionResult#dnsSuffix}",[Cc]:{[Mc]:[{[Nc]:!0,[ol]:"sigv4",[Ic]:tl,[Uc]:"us-east-1"}]},[jc]:{}},[Ac]:Yc},sd={[Tc]:"https://{Bucket}.s3-accelerate.{partitionResult#dnsSuffix}",[Cc]:Ll,[jc]:{}},ud={[xc]:[Bl,$l,Nl,xl,{[Ec]:Gc,[kc]:[{[Oc]:"Region"},"aws-global"]}],[Yc]:{[Tc]:al,[Cc]:{[Mc]:[{[Nc]:!0,[ol]:"sigv4",[Ic]:tl,[Uc]:"us-east-1"}]},[jc]:{}},[Ac]:Yc},cd={[Tc]:"https://{Bucket}.s3.{Region}.{partitionResult#dnsSuffix}",[Cc]:Ll,[jc]:{}},ld={[Zc]:"Invalid region: region was not a valid DNS name.",[Ac]:Zc},dd={[Oc]:sl},fd={[Oc]:ul},pd={[Ec]:rl,[kc]:[dd,"service"]},hd={[Oc]:dl},gd={[xc]:[Ml],[Zc]:"S3 Object Lambda does not support Dual-stack",[Ac]:Zc},md={[xc]:[zl],[Zc]:"S3 Object Lambda does not support S3 Accelerate",[Ac]:Zc},yd={[xc]:[{[Ec]:Bc,[kc]:[{[Oc]:"DisableAccessPoints"}]},{[Ec]:Qc,[kc]:[{[Oc]:"DisableAccessPoints"},!0]}],[Zc]:"Access points are not supported for this operation",[Ac]:Zc},bd={[xc]:[{[Ec]:Bc,[kc]:[{[Oc]:"UseArnRegion"}]},{[Ec]:Qc,[kc]:[{[Oc]:"UseArnRegion"},!1]},{[Ec]:Kc,[kc]:[{[Ec]:Gc,[kc]:[{[Ec]:rl,[kc]:[dd,"region"]},"{Region}"]}]}],[Zc]:"Invalid configuration: region from ARN `{bucketArn#region}` does not match client region `{Region}` and UseArnRegion is `false`",[Ac]:Zc},vd={[Ec]:rl,[kc]:[{[Oc]:"bucketPartition"},ol]},wd={[Ec]:rl,[kc]:[dd,"accountId"]},Sd={[xc]:[Il,{[Ec]:Gc,[kc]:[vd,"aws-cn"]}],[Zc]:"Partition does not support FIPS",[Ac]:Zc},_d={[Mc]:[{[Nc]:!0,[ol]:"sigv4",[Ic]:cl,[Uc]:"{bucketArn#region}"}]},Ad={[Zc]:"Invalid ARN: The access point name may only contain a-z, A-Z, 0-9 and `-`. Found: `{accessPointName}`",[Ac]:Zc},Pd={[Zc]:"Invalid ARN: The account id may only contain a-z, A-Z, 0-9 and `-`. Found: `{bucketArn#accountId}`",[Ac]:Zc},xd={[Zc]:"Invalid region in ARN: `{bucketArn#region}` (invalid DNS name)",[Ac]:Zc},Ed={[Zc]:"Client was configured for partition `{partitionResult#name}` but ARN (`{Bucket}`) has `{bucketPartition#name}`",[Ac]:Zc},kd={[Zc]:"Could not load partition for ARN region `{bucketArn#region}`",[Ac]:Zc},Od={[Zc]:"Invalid ARN: The ARN may only contain a single resource component after `accesspoint`.",[Ac]:Zc},Rd={[Zc]:"Invalid ARN: bucket ARN is missing a region",[Ac]:Zc},Td={[Zc]:"Invalid ARN: Expected a resource of the format `accesspoint:<accesspoint name>` but no name was provided",[Ac]:Zc},Cd={[Mc]:[{[Nc]:!0,[ol]:"sigv4",[Ic]:tl,[Uc]:"{bucketArn#region}"}]},Md={[Mc]:[{[Nc]:!0,[ol]:"sigv4",[Ic]:Jc,[Uc]:"{bucketArn#region}"}]},Nd={[Oc]:"UseObjectLambdaEndpoint"},Id={[Mc]:[{[Nc]:!0,[ol]:"sigv4",[Ic]:cl,[Uc]:"{Region}"}]},Ud={[xc]:[Il,Ml,El,kl,{[Ec]:Gc,[kc]:[{[Oc]:"Region"},"aws-global"]}],[Yc]:{[Tc]:ml,[Cc]:{[Mc]:[{[Nc]:!0,[ol]:"sigv4",[Ic]:tl,[Uc]:"us-east-1"}]},[jc]:{}},[Ac]:Yc},jd={[Yc]:{[Tc]:ml,[Cc]:Ll,[jc]:{}},[Ac]:Yc},Ld={[Tc]:ml,[Cc]:Ll,[jc]:{}},Dd={[xc]:[Il,Ml,xl,{[Ec]:Gc,[kc]:[{[Oc]:"Region"},"aws-global"]}],[Yc]:{[Tc]:"https://s3-fips.dualstack.us-east-1.{partitionResult#dnsSuffix}",[Cc]:{[Mc]:[{[Nc]:!0,[ol]:"sigv4",[Ic]:tl,[Uc]:"us-east-1"}]},[jc]:{}},[Ac]:Yc},Bd={[Tc]:"https://s3-fips.dualstack.{Region}.{partitionResult#dnsSuffix}",[Cc]:Ll,[jc]:{}},$d={[xc]:[Il,Bl,El,kl,{[Ec]:Gc,[kc]:[{[Oc]:"Region"},"aws-global"]}],[Yc]:{[Tc]:ml,[Cc]:{[Mc]:[{[Nc]:!0,[ol]:"sigv4",[Ic]:tl,[Uc]:"us-east-1"}]},[jc]:{}},[Ac]:Yc},Fd={[xc]:[Il,Bl,xl,{[Ec]:Gc,[kc]:[{[Oc]:"Region"},"aws-global"]}],[Yc]:{[Tc]:"https://s3-fips.us-east-1.{partitionResult#dnsSuffix}",[Cc]:{[Mc]:[{[Nc]:!0,[ol]:"sigv4",[Ic]:tl,[Uc]:"us-east-1"}]},[jc]:{}},[Ac]:Yc},Hd={[Tc]:"https://s3-fips.{Region}.{partitionResult#dnsSuffix}",[Cc]:Ll,[jc]:{}},zd={[xc]:[$l,Ml,El,kl,{[Ec]:Gc,[kc]:[{[Oc]:"Region"},"aws-global"]}],[Yc]:{[Tc]:ml,[Cc]:{[Mc]:[{[Nc]:!0,[ol]:"sigv4",[Ic]:tl,[Uc]:"us-east-1"}]},[jc]:{}},[Ac]:Yc},qd={[xc]:[$l,Ml,xl,{[Ec]:Gc,[kc]:[{[Oc]:"Region"},"aws-global"]}],[Yc]:{[Tc]:"https://s3.dualstack.us-east-1.{partitionResult#dnsSuffix}",[Cc]:{[Mc]:[{[Nc]:!0,[ol]:"sigv4",[Ic]:tl,[Uc]:"us-east-1"}]},[jc]:{}},[Ac]:Yc},Vd={[Tc]:"https://s3.dualstack.{Region}.{partitionResult#dnsSuffix}",[Cc]:Ll,[jc]:{}},Gd={[xc]:[$l,Bl,El,kl,{[Ec]:Gc,[kc]:[{[Oc]:"Region"},"aws-global"]}],[Yc]:{[Tc]:ml,[Cc]:{[Mc]:[{[Nc]:!0,[ol]:"sigv4",[Ic]:tl,[Uc]:"us-east-1"}]},[jc]:{}},[Ac]:Yc},Wd={[xc]:[$l,Bl,xl,{[Ec]:Gc,[kc]:[{[Oc]:"Region"},"aws-global"]}],[Yc]:{[Tc]:yl,[Cc]:{[Mc]:[{[Nc]:!0,[ol]:"sigv4",[Ic]:tl,[Uc]:"us-east-1"}]},[jc]:{}},[Ac]:Yc},Kd={[Tc]:"https://s3.{Region}.{partitionResult#dnsSuffix}",[Cc]:Ll,[jc]:{}},Zd=[{[Oc]:"Region"}],Xd=[{[Ec]:Wc,[kc]:[{[Oc]:qc},!1]}],Jd=[{[Ec]:Gc,[kc]:[{[Oc]:Hc},"beta"]}],Yd=[El,kl],Qd=[Sl],ef=[{[Ec]:el,[kc]:[_l]}],tf=[{[Ec]:Vc,[kc]:Zd,[Rc]:"partitionResult"}],nf=[{[Ec]:Gc,[kc]:[{[Oc]:"Region"},"us-east-1"]}],rf=[{[Ec]:Wc,[kc]:[{[Oc]:"Region"},!1]}],of=[{[Ec]:Gc,[kc]:[fd,ll]}],af=[{[Ec]:rl,[kc]:[dd,"resourceId[1]"],[Rc]:dl},{[Ec]:Kc,[kc]:[{[Ec]:Gc,[kc]:[hd,""]}]}],sf=[Ml],uf=[zl],cf=[{[Ec]:Kc,[kc]:[{[Ec]:Gc,[kc]:[{[Ec]:rl,[kc]:[dd,"region"]},""]}]}],lf=[{[Ec]:Kc,[kc]:[{[Ec]:Bc,[kc]:[{[Ec]:rl,[kc]:[dd,"resourceId[2]"]}]}]}],df=[{[Ec]:Vc,[kc]:[{[Ec]:rl,[kc]:[dd,"region"]}],[Rc]:"bucketPartition"}],ff=[{[Ec]:Gc,[kc]:[vd,{[Ec]:rl,[kc]:[{[Oc]:"partitionResult"},ol]}]}],pf=[{[Ec]:Wc,[kc]:[{[Ec]:rl,[kc]:[dd,"region"]},!0]}],hf=[{[Ec]:Wc,[kc]:[wd,!1]}],gf=[{[Ec]:Wc,[kc]:[hd,!1]}],mf=[Il],yf=[{[Ec]:Wc,[kc]:[{[Oc]:"Region"},!0]}],bf=[jd],vf={version:"1.0",parameters:{Bucket:bl,Region:bl,UseFIPS:vl,UseDualStack:vl,Endpoint:bl,ForcePathStyle:wl,Accelerate:vl,UseGlobalEndpoint:vl,UseObjectLambdaEndpoint:wl,DisableAccessPoints:wl,DisableMultiRegionAccessPoints:vl,UseArnRegion:wl},[Pc]:[{[Ac]:Dc,[Pc]:[{[xc]:[{[Ec]:Bc,[kc]:Zd}],[Ac]:Dc,[Pc]:[{[Ac]:Dc,[Pc]:[{[xc]:[Sl,{[Ec]:$c,[kc]:[_l,49,50,Lc],[Rc]:Fc},{[Ec]:$c,[kc]:[_l,8,12,Lc],[Rc]:Hc},{[Ec]:$c,[kc]:[_l,0,7,Lc],[Rc]:zc},{[Ec]:$c,[kc]:[_l,32,49,Lc],[Rc]:qc},{[Ec]:Vc,[kc]:Zd,[Rc]:"regionPartition"},{[Ec]:Gc,[kc]:[{[Oc]:zc},"--op-s3"]}],[Ac]:Dc,[Pc]:[{[xc]:Xd,[Ac]:Dc,[Pc]:[{[Ac]:Dc,[Pc]:[{[xc]:[{[Ec]:Gc,[kc]:[Al,"e"]}],[Ac]:Dc,[Pc]:[{[xc]:Jd,[Ac]:Dc,[Pc]:[Pl,{[xc]:Yd,endpoint:{[Tc]:"https://{Bucket}.ec2.{url#authority}",[Cc]:Ol,[jc]:Rl},[Ac]:Yc}]},{endpoint:{[Tc]:"https://{Bucket}.ec2.s3-outposts.{Region}.{regionPartition#dnsSuffix}",[Cc]:Ol,[jc]:Rl},[Ac]:Yc}]},{[xc]:[{[Ec]:Gc,[kc]:[Al,"o"]}],[Ac]:Dc,[Pc]:[{[xc]:Jd,[Ac]:Dc,[Pc]:[Pl,{[xc]:Yd,endpoint:{[Tc]:"https://{Bucket}.op-{outpostId}.{url#authority}",[Cc]:Ol,[jc]:Rl},[Ac]:Yc}]},{endpoint:{[Tc]:"https://{Bucket}.op-{outpostId}.s3-outposts.{Region}.{regionPartition#dnsSuffix}",[Cc]:Ol,[jc]:Rl},[Ac]:Yc}]},{error:'Unrecognized hardware type: "Expected hardware type o or e but got {hardwareType}"',[Ac]:Zc}]}]},{error:"Invalid ARN: The outpost Id must only contain a-z, A-Z, 0-9 and `-`.",[Ac]:Zc}]},{[xc]:Qd,[Ac]:Dc,[Pc]:[{[xc]:[El,{[Ec]:Kc,[kc]:[{[Ec]:Bc,[kc]:[{[Ec]:Xc,[kc]:[{[Oc]:"Endpoint"}]}]}]}],error:"Custom endpoint `{Endpoint}` was not a valid URI",[Ac]:Zc},{[Ac]:Dc,[Pc]:[{[xc]:[{[Ec]:Bc,[kc]:[Tl]},{[Ec]:Qc,[kc]:[Tl,Lc]}],[Ac]:Dc,[Pc]:[{[Ac]:Dc,[Pc]:[{[xc]:ef,error:"Path-style addressing cannot be used with ARN buckets",[Ac]:Zc},Cl]}]},{[xc]:[{[Ec]:nl,[kc]:[_l,false]}],[Ac]:Dc,[Pc]:[{[xc]:tf,[Ac]:Dc,[Pc]:[{[Ac]:Dc,[Pc]:[{[xc]:rf,[Ac]:Dc,[Pc]:[{[Ac]:Dc,[Pc]:[Hl,{[Ac]:Dc,[Pc]:[{[xc]:[zl,Il],error:"Accelerate cannot be used with FIPS",[Ac]:Zc},{[Ac]:Dc,[Pc]:[{[xc]:[zl,{[Ec]:Gc,[kc]:[{[Ec]:rl,[kc]:[{[Oc]:"partitionResult"},ol]},"aws-cn"]}],error:"S3 Accelerate cannot be used in this region",[Ac]:Zc},{[Ac]:Dc,[Pc]:[{[xc]:[El,Ml],error:il,[Ac]:Zc},{[Ac]:Dc,[Pc]:[{[xc]:[El,Il],error:il,[Ac]:Zc},{[Ac]:Dc,[Pc]:[{[xc]:[El,zl],error:il,[Ac]:Zc},{[Ac]:Dc,[Pc]:[ql,ql,{[xc]:[Ml,Il,Nl,xl,Ul,jl],[Ac]:Dc,[Pc]:[{endpoint:Vl,[Ac]:Yc}]},{[xc]:[Ml,Il,Nl,xl,Ul,Dl],endpoint:Vl,[Ac]:Yc},Gl,Gl,{[xc]:[Bl,Il,Nl,xl,Ul,jl],[Ac]:Dc,[Pc]:[{endpoint:Wl,[Ac]:Yc}]},{[xc]:[Bl,Il,Nl,xl,Ul,Dl],endpoint:Wl,[Ac]:Yc},Kl,Kl,{[xc]:[Ml,$l,zl,xl,Ul,jl],[Ac]:Dc,[Pc]:[{endpoint:Zl,[Ac]:Yc}]},{[xc]:[Ml,$l,zl,xl,Ul,Dl],endpoint:Zl,[Ac]:Yc},Xl,Xl,{[xc]:[Ml,$l,Nl,xl,Ul,jl],[Ac]:Dc,[Pc]:[{endpoint:Jl,[Ac]:Yc}]},{[xc]:[Ml,$l,Nl,xl,Ul,Dl],endpoint:Jl,[Ac]:Yc},Yl,td,Yl,td,{[xc]:[Bl,$l,Nl,El,kl,Ql,Ul,jl],[Ac]:Dc,[Pc]:[{[xc]:nf,endpoint:rd,[Ac]:Yc},{endpoint:rd,[Ac]:Yc}]},{[xc]:[Bl,$l,Nl,El,kl,nd,Ul,jl],[Ac]:Dc,[Pc]:[{[xc]:nf,endpoint:od,[Ac]:Yc},id]},{[xc]:[Bl,$l,Nl,El,kl,Ql,Ul,Dl],endpoint:rd,[Ac]:Yc},{[xc]:[Bl,$l,Nl,El,kl,nd,Ul,Dl],endpoint:od,[Ac]:Yc},ad,ad,{[xc]:[Bl,$l,zl,xl,Ul,jl],[Ac]:Dc,[Pc]:[{[xc]:nf,endpoint:sd,[Ac]:Yc},{endpoint:sd,[Ac]:Yc}]},{[xc]:[Bl,$l,zl,xl,Ul,Dl],endpoint:sd,[Ac]:Yc},ud,ud,{[xc]:[Bl,$l,Nl,xl,Ul,jl],[Ac]:Dc,[Pc]:[{[xc]:nf,endpoint:{[Tc]:al,[Cc]:Ll,[jc]:Rl},[Ac]:Yc},{endpoint:cd,[Ac]:Yc}]},{[xc]:[Bl,$l,Nl,xl,Ul,Dl],endpoint:cd,[Ac]:Yc}]}]}]}]}]}]}]}]},ld]}]},Fl]},{[xc]:[El,kl,{[Ec]:Gc,[kc]:[{[Ec]:rl,[kc]:[ed,"scheme"]},"http"]},{[Ec]:nl,[kc]:[_l,Lc]},$l,Bl,Nl],[Ac]:Dc,[Pc]:[{[xc]:tf,[Ac]:Dc,[Pc]:[{[Ac]:Dc,[Pc]:[{[xc]:rf,[Ac]:Dc,[Pc]:[id]},ld]}]},Fl]},{[xc]:[{[Ec]:el,[kc]:[_l],[Rc]:sl}],[Ac]:Dc,[Pc]:[{[xc]:[{[Ec]:rl,[kc]:[dd,"resourceId[0]"],[Rc]:ul},{[Ec]:Kc,[kc]:[{[Ec]:Gc,[kc]:[fd,""]}]}],[Ac]:Dc,[Pc]:[{[Ac]:Dc,[Pc]:[{[xc]:[{[Ec]:Gc,[kc]:[pd,cl]}],[Ac]:Dc,[Pc]:[{[xc]:of,[Ac]:Dc,[Pc]:[{[Ac]:Dc,[Pc]:[{[xc]:af,[Ac]:Dc,[Pc]:[{[Ac]:Dc,[Pc]:[gd,{[Ac]:Dc,[Pc]:[md,{[Ac]:Dc,[Pc]:[{[xc]:cf,[Ac]:Dc,[Pc]:[{[Ac]:Dc,[Pc]:[yd,{[Ac]:Dc,[Pc]:[{[xc]:lf,[Ac]:Dc,[Pc]:[{[Ac]:Dc,[Pc]:[bd,{[Ac]:Dc,[Pc]:[{[xc]:df,[Ac]:Dc,[Pc]:[{[Ac]:Dc,[Pc]:[{[xc]:tf,[Ac]:Dc,[Pc]:[{[Ac]:Dc,[Pc]:[{[xc]:ff,[Ac]:Dc,[Pc]:[{[Ac]:Dc,[Pc]:[{[xc]:pf,[Ac]:Dc,[Pc]:[{[Ac]:Dc,[Pc]:[{[xc]:[{[Ec]:Gc,[kc]:[wd,""]}],error:"Invalid ARN: Missing account id",[Ac]:Zc},{[Ac]:Dc,[Pc]:[{[xc]:hf,[Ac]:Dc,[Pc]:[{[Ac]:Dc,[Pc]:[{[xc]:gf,[Ac]:Dc,[Pc]:[{[Ac]:Dc,[Pc]:[Sd,{[Ac]:Dc,[Pc]:[{[xc]:Yd,endpoint:{[Tc]:fl,[Cc]:_d,[jc]:Rl},[Ac]:Yc},{[xc]:mf,endpoint:{[Tc]:"https://{accessPointName}-{bucketArn#accountId}.s3-object-lambda-fips.{bucketArn#region}.{bucketPartition#dnsSuffix}",[Cc]:_d,[jc]:Rl},[Ac]:Yc},{endpoint:{[Tc]:"https://{accessPointName}-{bucketArn#accountId}.s3-object-lambda.{bucketArn#region}.{bucketPartition#dnsSuffix}",[Cc]:_d,[jc]:Rl},[Ac]:Yc}]}]}]},Ad]}]},Pd]}]}]},xd]}]},Ed]}]},Fl]}]},kd]}]}]},Od]}]}]},Rd]}]}]}]},Td]}]},{error:"Invalid ARN: Object Lambda ARNs only support `accesspoint` arn types, but found: `{arnType}`",[Ac]:Zc}]},{[xc]:of,[Ac]:Dc,[Pc]:[{[xc]:af,[Ac]:Dc,[Pc]:[{[Ac]:Dc,[Pc]:[{[xc]:cf,[Ac]:Dc,[Pc]:[{[xc]:of,[Ac]:Dc,[Pc]:[{[xc]:cf,[Ac]:Dc,[Pc]:[{[Ac]:Dc,[Pc]:[yd,{[Ac]:Dc,[Pc]:[{[xc]:lf,[Ac]:Dc,[Pc]:[{[Ac]:Dc,[Pc]:[bd,{[Ac]:Dc,[Pc]:[{[xc]:df,[Ac]:Dc,[Pc]:[{[Ac]:Dc,[Pc]:[{[xc]:tf,[Ac]:Dc,[Pc]:[{[Ac]:Dc,[Pc]:[{[xc]:[{[Ec]:Gc,[kc]:[vd,"{partitionResult#name}"]}],[Ac]:Dc,[Pc]:[{[Ac]:Dc,[Pc]:[{[xc]:pf,[Ac]:Dc,[Pc]:[{[Ac]:Dc,[Pc]:[{[xc]:[{[Ec]:Gc,[kc]:[pd,tl]}],[Ac]:Dc,[Pc]:[{[Ac]:Dc,[Pc]:[{[xc]:hf,[Ac]:Dc,[Pc]:[{[Ac]:Dc,[Pc]:[{[xc]:gf,[Ac]:Dc,[Pc]:[{[Ac]:Dc,[Pc]:[{[xc]:uf,error:"Access Points do not support S3 Accelerate",[Ac]:Zc},{[Ac]:Dc,[Pc]:[Sd,{[Ac]:Dc,[Pc]:[{[xc]:[Ml,El],error:"DualStack cannot be combined with a Host override (PrivateLink)",[Ac]:Zc},{[Ac]:Dc,[Pc]:[{[xc]:[Il,Ml],endpoint:{[Tc]:"https://{accessPointName}-{bucketArn#accountId}.s3-accesspoint-fips.dualstack.{bucketArn#region}.{bucketPartition#dnsSuffix}",[Cc]:Cd,[jc]:Rl},[Ac]:Yc},{[xc]:[Il,Bl],endpoint:{[Tc]:"https://{accessPointName}-{bucketArn#accountId}.s3-accesspoint-fips.{bucketArn#region}.{bucketPartition#dnsSuffix}",[Cc]:Cd,[jc]:Rl},[Ac]:Yc},{[xc]:[$l,Ml],endpoint:{[Tc]:"https://{accessPointName}-{bucketArn#accountId}.s3-accesspoint.dualstack.{bucketArn#region}.{bucketPartition#dnsSuffix}",[Cc]:Cd,[jc]:Rl},[Ac]:Yc},{[xc]:[$l,Bl,El,kl],endpoint:{[Tc]:fl,[Cc]:Cd,[jc]:Rl},[Ac]:Yc},{[xc]:[$l,Bl],endpoint:{[Tc]:"https://{accessPointName}-{bucketArn#accountId}.s3-accesspoint.{bucketArn#region}.{bucketPartition#dnsSuffix}",[Cc]:Cd,[jc]:Rl},[Ac]:Yc}]}]}]}]}]},Ad]}]},Pd]}]},{error:"Invalid ARN: The ARN was not for the S3 service, found: {bucketArn#service}",[Ac]:Zc}]}]},xd]}]},Ed]}]},Fl]}]},kd]}]}]},Od]}]}]},Rd]}]},{[Ac]:Dc,[Pc]:[{[xc]:[{[Ec]:Wc,[kc]:[hd,Lc]}],[Ac]:Dc,[Pc]:[{[Ac]:Dc,[Pc]:[{[xc]:sf,error:"S3 MRAP does not support dual-stack",[Ac]:Zc},{[Ac]:Dc,[Pc]:[{[xc]:mf,error:"S3 MRAP does not support FIPS",[Ac]:Zc},{[Ac]:Dc,[Pc]:[{[xc]:uf,error:"S3 MRAP does not support S3 Accelerate",[Ac]:Zc},{[Ac]:Dc,[Pc]:[{[xc]:[{[Ec]:Qc,[kc]:[{[Oc]:"DisableMultiRegionAccessPoints"},Lc]}],error:"Invalid configuration: Multi-Region Access Point ARNs are disabled.",[Ac]:Zc},{[Ac]:Dc,[Pc]:[{[xc]:[{[Ec]:Vc,[kc]:Zd,[Rc]:pl}],[Ac]:Dc,[Pc]:[{[Ac]:Dc,[Pc]:[{[xc]:[{[Ec]:Gc,[kc]:[{[Ec]:rl,[kc]:[{[Oc]:pl},ol]},{[Ec]:rl,[kc]:[dd,"partition"]}]}],[Ac]:Dc,[Pc]:[{endpoint:{[Tc]:"https://{accessPointName}.accesspoint.s3-global.{mrapPartition#dnsSuffix}",[Cc]:{[Mc]:[{[Nc]:Lc,name:"sigv4a",[Ic]:tl,signingRegionSet:["*"]}]},[jc]:Rl},[Ac]:Yc}]},{error:"Client was configured for partition `{mrapPartition#name}` but bucket referred to partition `{bucketArn#partition}`",[Ac]:Zc}]}]},{error:"{Region} was not a valid region",[Ac]:Zc}]}]}]}]}]}]},{error:"Invalid Access Point Name",[Ac]:Zc}]}]}]},Td]},{[xc]:[{[Ec]:Gc,[kc]:[pd,Jc]}],[Ac]:Dc,[Pc]:[{[xc]:sf,error:"S3 Outposts does not support Dual-stack",[Ac]:Zc},{[Ac]:Dc,[Pc]:[{[xc]:mf,error:"S3 Outposts does not support FIPS",[Ac]:Zc},{[Ac]:Dc,[Pc]:[{[xc]:uf,error:"S3 Outposts does not support S3 Accelerate",[Ac]:Zc},{[Ac]:Dc,[Pc]:[{[xc]:[{[Ec]:Bc,[kc]:[{[Ec]:rl,[kc]:[dd,"resourceId[4]"]}]}],error:"Invalid Arn: Outpost Access Point ARN contains sub resources",[Ac]:Zc},{[Ac]:Dc,[Pc]:[{[xc]:[{[Ec]:rl,[kc]:[dd,"resourceId[1]"],[Rc]:qc}],[Ac]:Dc,[Pc]:[{[Ac]:Dc,[Pc]:[{[xc]:Xd,[Ac]:Dc,[Pc]:[{[Ac]:Dc,[Pc]:[bd,{[Ac]:Dc,[Pc]:[{[xc]:df,[Ac]:Dc,[Pc]:[{[Ac]:Dc,[Pc]:[{[xc]:tf,[Ac]:Dc,[Pc]:[{[Ac]:Dc,[Pc]:[{[xc]:ff,[Ac]:Dc,[Pc]:[{[Ac]:Dc,[Pc]:[{[xc]:pf,[Ac]:Dc,[Pc]:[{[Ac]:Dc,[Pc]:[{[xc]:hf,[Ac]:Dc,[Pc]:[{[Ac]:Dc,[Pc]:[{[xc]:[{[Ec]:rl,[kc]:[dd,"resourceId[2]"],[Rc]:hl}],[Ac]:Dc,[Pc]:[{[Ac]:Dc,[Pc]:[{[xc]:[{[Ec]:rl,[kc]:[dd,"resourceId[3]"],[Rc]:dl}],[Ac]:Dc,[Pc]:[{[Ac]:Dc,[Pc]:[{[xc]:[{[Ec]:Gc,[kc]:[{[Oc]:hl},ll]}],[Ac]:Dc,[Pc]:[{[Ac]:Dc,[Pc]:[{[xc]:Yd,endpoint:{[Tc]:"https://{accessPointName}-{bucketArn#accountId}.{outpostId}.{url#authority}",[Cc]:Md,[jc]:Rl},[Ac]:Yc},{endpoint:{[Tc]:"https://{accessPointName}-{bucketArn#accountId}.{outpostId}.s3-outposts.{bucketArn#region}.{bucketPartition#dnsSuffix}",[Cc]:Md,[jc]:Rl},[Ac]:Yc}]}]},{error:"Expected an outpost type `accesspoint`, found {outpostType}",[Ac]:Zc}]}]},{error:"Invalid ARN: expected an access point name",[Ac]:Zc}]}]},{error:"Invalid ARN: Expected a 4-component resource",[Ac]:Zc}]}]},Pd]}]},xd]}]},Ed]}]},Fl]}]},{error:"Could not load partition for ARN region {bucketArn#region}",[Ac]:Zc}]}]}]},{error:"Invalid ARN: The outpost Id may only contain a-z, A-Z, 0-9 and `-`. Found: `{outpostId}`",[Ac]:Zc}]}]},{error:"Invalid ARN: The Outpost Id was not set",[Ac]:Zc}]}]}]}]}]},{error:"Invalid ARN: Unrecognized format: {Bucket} (type: {arnType})",[Ac]:Zc}]}]},{error:"Invalid ARN: No ARN type specified",[Ac]:Zc}]},{[xc]:[{[Ec]:$c,[kc]:[_l,0,4,false],[Rc]:gl},{[Ec]:Gc,[kc]:[{[Oc]:gl},"arn:"]},{[Ec]:Kc,[kc]:[{[Ec]:Bc,[kc]:ef}]}],error:"Invalid ARN: `{Bucket}` was not a valid ARN",[Ac]:Zc},Cl]}]},{[xc]:[{[Ec]:Bc,[kc]:[Nd]},{[Ec]:Qc,[kc]:[Nd,Lc]}],[Ac]:Dc,[Pc]:[{[xc]:tf,[Ac]:Dc,[Pc]:[{[Ac]:Dc,[Pc]:[{[xc]:yf,[Ac]:Dc,[Pc]:[{[Ac]:Dc,[Pc]:[gd,{[Ac]:Dc,[Pc]:[md,{[Ac]:Dc,[Pc]:[Hl,{[Ac]:Dc,[Pc]:[{[xc]:Yd,endpoint:{[Tc]:ml,[Cc]:Id,[jc]:Rl},[Ac]:Yc},{[xc]:mf,endpoint:{[Tc]:"https://s3-object-lambda-fips.{Region}.{partitionResult#dnsSuffix}",[Cc]:Id,[jc]:Rl},[Ac]:Yc},{endpoint:{[Tc]:"https://s3-object-lambda.{Region}.{partitionResult#dnsSuffix}",[Cc]:Id,[jc]:Rl},[Ac]:Yc}]}]}]}]}]},ld]}]},Fl]},{[xc]:[{[Ec]:Kc,[kc]:Qd}],[Ac]:Dc,[Pc]:[{[xc]:tf,[Ac]:Dc,[Pc]:[{[Ac]:Dc,[Pc]:[{[xc]:yf,[Ac]:Dc,[Pc]:[{[Ac]:Dc,[Pc]:[Hl,{[Ac]:Dc,[Pc]:[Ud,Ud,{[xc]:[Il,Ml,El,kl,Ul,jl],[Ac]:Dc,[Pc]:bf},{[xc]:[Il,Ml,El,kl,Ul,Dl],endpoint:Ld,[Ac]:Yc},Dd,Dd,{[xc]:[Il,Ml,xl,Ul,jl],[Ac]:Dc,[Pc]:[{endpoint:Bd,[Ac]:Yc}]},{[xc]:[Il,Ml,xl,Ul,Dl],endpoint:Bd,[Ac]:Yc},$d,$d,{[xc]:[Il,Bl,El,kl,Ul,jl],[Ac]:Dc,[Pc]:bf},{[xc]:[Il,Bl,El,kl,Ul,Dl],endpoint:Ld,[Ac]:Yc},Fd,Fd,{[xc]:[Il,Bl,xl,Ul,jl],[Ac]:Dc,[Pc]:[{endpoint:Hd,[Ac]:Yc}]},{[xc]:[Il,Bl,xl,Ul,Dl],endpoint:Hd,[Ac]:Yc},zd,zd,{[xc]:[$l,Ml,El,kl,Ul,jl],[Ac]:Dc,[Pc]:bf},{[xc]:[$l,Ml,El,kl,Ul,Dl],endpoint:Ld,[Ac]:Yc},qd,qd,{[xc]:[$l,Ml,xl,Ul,jl],[Ac]:Dc,[Pc]:[{endpoint:Vd,[Ac]:Yc}]},{[xc]:[$l,Ml,xl,Ul,Dl],endpoint:Vd,[Ac]:Yc},Gd,Gd,{[xc]:[$l,Bl,El,kl,Ul,jl],[Ac]:Dc,[Pc]:[{[xc]:nf,endpoint:Ld,[Ac]:Yc},jd]},{[xc]:[$l,Bl,El,kl,Ul,Dl],endpoint:Ld,[Ac]:Yc},Wd,Wd,{[xc]:[$l,Bl,xl,Ul,jl],[Ac]:Dc,[Pc]:[{[xc]:nf,endpoint:{[Tc]:yl,[Cc]:Ll,[jc]:Rl},[Ac]:Yc},{endpoint:Kd,[Ac]:Yc}]},{[xc]:[$l,Bl,xl,Ul,Dl],endpoint:Kd,[Ac]:Yc}]}]}]},ld]}]},Fl]}]}]},{error:"A region must be set when sending requests to S3.",[Ac]:Zc}]}]},wf=(e,t={})=>((e,t)=>{const{endpointParams:n,logger:r}=t,{parameters:o,rules:i}=e;t.logger?.debug?.(`${Gi} Initial EndpointParams: ${Wi(n)}`);const a=Object.entries(o).filter((([,e])=>null!=e.default)).map((([e,t])=>[e,t.default]));if(a.length>0)for(const[e,t]of a)n[e]=n[e]??t;const s=Object.entries(o).filter((([,e])=>e.required)).map((([e])=>e));for(const e of s)if(null==n[e])throw new Ki(`Missing required parameter: '${e}'`);const u=wa(i,{endpointParams:n,logger:r,referenceRecord:{}});if(t.endpointParams?.Endpoint)try{const e=new URL(t.endpointParams.Endpoint),{protocol:n,port:r}=e;u.url.protocol=n,u.url.port=r}catch(e){}return t.logger?.debug?.(`${Gi} Resolved endpoint: ${Wi(u)}`),u})(vf,{endpointParams:e,logger:t.logger}),Sf=["in-region","cross-region","mobile","standard","legacy"],_f=()=>{const e="undefined"!=typeof window&&window?.navigator?.userAgent?vc.parse(window.navigator.userAgent):void 0,t=e?.platform?.type;return"tablet"===t||"mobile"===t},Af=e=>{const t=(({defaultsMode:e}={})=>ti((async()=>{const t="function"==typeof e?await e():e;switch(t?.toLowerCase()){case"auto":return Promise.resolve(_f()?"mobile":"standard");case"mobile":case"in-region":case"cross-region":case"standard":case"legacy":return Promise.resolve(t?.toLocaleLowerCase());case void 0:return Promise.resolve("legacy");default:throw new Error(`Invalid parameter for "defaultsMode", expect ${Sf.join(", ")}, got ${t}`)}})))(e),n=()=>t().then(it),r=(e=>({apiVersion:"2006-03-01",base64Decoder:e?.base64Decoder??ec,base64Encoder:e?.base64Encoder??tc,disableHostPrefix:e?.disableHostPrefix??!1,endpointProvider:e?.endpointProvider??wf,logger:e?.logger??new We,serviceId:e?.serviceId??"S3",signerConstructor:e?.signerConstructor??Sc,signingEscapePath:e?.signingEscapePath??!1,urlParser:e?.urlParser??_t,useArnRegion:e?.useArnRegion??!1,utf8Decoder:e?.utf8Decoder??io,utf8Encoder:e?.utf8Encoder??so}))(e);return{...r,...e,runtime:"browser",defaultsMode:t,bodyLengthChecker:e?.bodyLengthChecker??fc,credentialDefaultProvider:e?.credentialDefaultProvider??(e=>()=>Promise.reject(new Error("Credential is missing"))),defaultUserAgentProvider:e?.defaultUserAgentProvider??wc({serviceId:r.serviceId,clientVersion:ka}),eventStreamSerdeProvider:e?.eventStreamSerdeProvider??Zu,getAwsChunkedEncodingStream:e?.getAwsChunkedEncodingStream??pc,maxAttempts:e?.maxAttempts??3,md5:e?.md5??ac,region:e?.region??(o="Region is missing",()=>Promise.reject(o)),requestHandler:e?.requestHandler??new Ju(n),retryMode:e?.retryMode??(async()=>(await n()).retryMode||To),sdkStreamMixin:e?.sdkStreamMixin??gc,sha1:e?.sha1??Oa.Sha1,sha256:e?.sha256??js.Sha256,streamCollector:e?.streamCollector??nc,streamHasher:e?.streamHasher??rc,useDualstackEndpoint:e?.useDualstackEndpoint??(()=>Promise.resolve(false)),useFipsEndpoint:e?.useFipsEndpoint??(()=>Promise.resolve(false))};var o};class Pf extends Je{constructor(e){const t=Af(e);var n;const r=(e=>{const{region:t,useFipsEndpoint:n}=e;if(!t)throw new Error("Region is missing");return{...e,region:async()=>{if("string"==typeof t)return yo(t);const e=await t();return yo(e)},useFipsEndpoint:async()=>{const e="string"==typeof t?t:await t();return!!mo(e)||("function"!=typeof n?Promise.resolve(!!n):n())}}})((n=t,{...n,useFipsEndpoint:n.useFipsEndpoint??!1,useDualstackEndpoint:n.useDualstackEndpoint??!1,useAccelerateEndpoint:n.useAccelerateEndpoint??!1,useGlobalEndpoint:n.useGlobalEndpoint??!1,disableMultiregionAccessPoints:n.disableMultiregionAccessPoints??!1,defaultSigningName:"s3"})),o=(e=>{const{retryStrategy:t}=e,n=Ot(e.maxAttempts??3);return{...e,maxAttempts:n,retryStrategy:async()=>t||(await Ot(e.retryMode)()===Ro.ADAPTIVE?new $o(n):new Bo(n))}})(Rt(r)),i=(e=>{const t=e.credentials?Ui(e.credentials):e.credentialDefaultProvider(e),{signingEscapePath:n=!0,systemClockOffset:r=e.systemClockOffset||0,sha256:o}=e;let i;return i=e.signer?Ot(e.signer):e.regionInfoProvider?()=>Ot(e.region)().then((async t=>[await e.regionInfoProvider(t,{useFipsEndpoint:await e.useFipsEndpoint(),useDualstackEndpoint:await e.useDualstackEndpoint()})||{},t])).then((([r,i])=>{const{signingRegion:a,signingService:s}=r;e.signingRegion=e.signingRegion||a||i,e.signingName=e.signingName||s||e.serviceId;const u={...e,credentials:t,region:e.signingRegion,service:e.signingName,sha256:o,uriEscapePath:n};return new(e.signerConstructor||Mi)(u)})):async r=>{const i=(r=Object.assign({},{name:"sigv4",signingName:e.signingName||e.defaultSigningName,signingRegion:await Ot(e.region)(),properties:{}},r)).signingRegion,a=r.signingName;e.signingRegion=e.signingRegion||i,e.signingName=e.signingName||a||e.serviceId;const s={...e,credentials:t,region:e.signingRegion,service:e.signingName,sha256:o,uriEscapePath:n};return new(e.signerConstructor||Mi)(s)},{...e,systemClockOffset:r,signingEscapePath:n,credentials:t,signer:i}})(o);var a;const s=(e=>({...e,eventStreamMarshaller:e.eventStreamSerdeProvider(e)}))(function(e){return{...e,customUserAgent:"string"==typeof e.customUserAgent?[[e.customUserAgent]]:e.customUserAgent}}((a=i,{...a,forcePathStyle:a.forcePathStyle??!1,useAccelerateEndpoint:a.useAccelerateEndpoint??!1,disableMultiregionAccessPoints:a.disableMultiregionAccessPoints??!1})));super(s),this.config=s,this.middlewareStack.use(Qo(this.config)),this.middlewareStack.use(wo(this.config)),this.middlewareStack.use(Po(this.config)),this.middlewareStack.use((this.config,{applyToStack:e=>{e.add(((e,t)=>async n=>{try{const r=await e(n),{clientName:o,commandName:i,logger:a,dynamoDbDocumentClientOptions:s={}}=t,{overrideInputFilterSensitiveLog:u,overrideOutputFilterSensitiveLog:c}=s,l=u??t.inputFilterSensitiveLog,d=c??t.outputFilterSensitiveLog,{$metadata:f,...p}=r.output;return a?.info?.({clientName:o,commandName:i,input:l(n.input),output:d(p),metadata:f}),r}catch(e){const{clientName:r,commandName:o,logger:i,dynamoDbDocumentClientOptions:a={}}=t,{overrideInputFilterSensitiveLog:s}=a,u=s??t.inputFilterSensitiveLog;throw i?.error?.({clientName:r,commandName:o,input:u(n.input),error:e,metadata:e.$metadata}),e}}),xo)}})),this.middlewareStack.use(Oo(this.config)),this.middlewareStack.use($i(this.config)),this.middlewareStack.use(pr(this.config)),this.middlewareStack.use(_o(this.config)),this.middlewareStack.use(Ea(this.config))}destroy(){super.destroy()}}var xf={props:{total:{type:Number,required:!0},limit:{type:Number,required:!0},page:{type:Number,required:!0}},computed:{totalPages(){return Math.ceil(this.total/this.limit)},currentPage:{get(){return this.page},set(e){this.$emit("update:page",e)}}},methods:{goToPage(e){e>0&&e<=this.totalPages&&(this.currentPage=e,this.$emit("pagination",e))}}};const Ef={key:0,"aria-label":"Pagination"},kf={class:"pagination"},Of=["onClick"];var Rf=[],Tf=[];function Cf(e,t){if(e&&"undefined"!=typeof document){var n,r=!0===t.prepend?"prepend":"append",o=!0===t.singleTag,i="string"==typeof t.container?document.querySelector(t.container):document.getElementsByTagName("head")[0];if(o){var a=Rf.indexOf(i);-1===a&&(a=Rf.push(i)-1,Tf[a]={}),n=Tf[a]&&Tf[a][r]?Tf[a][r]:Tf[a][r]=s()}else n=s();65279===e.charCodeAt(0)&&(e=e.substring(1)),n.styleSheet?n.styleSheet.cssText+=e:n.appendChild(document.createTextNode(e))}function s(){var e=document.createElement("style");if(e.setAttribute("type","text/css"),t.attributes)for(var n=Object.keys(t.attributes),o=0;o<n.length;o++)e.setAttribute(n[o],t.attributes[n[o]]);var a="prepend"===r?"afterbegin":"beforeend";return i.insertAdjacentElement(a,e),e}}Cf("\n.pagination {\n        display: flex;\n        list-style: none;\n        padding: 0;\n        margin: 1em 0;\n}\n.page-item {\n        margin-right: 5px;\n}\n.page-link {\n        display: block;\n        padding: 5px 10px;\n        background: #f8f9fa;\n        border: 1px solid #dee2e6;\n        text-decoration: none;\n        color: #495057;\n        cursor: pointer;\n}\n.page-item.disabled .page-link,\n    .page-item.active .page-link {\n        background: #495057;\n        border-color: #495057;\n        color: #fff;\n        cursor: default;\n}\n.page-item.disabled .page-link:hover {\n        background: #495057;\n        border-color: #495057;\n        color: #fff;\n}\n",{}),xf.render=function(c,l,d,f,p,h){return h.totalPages>1?(e(),t("nav",Ef,[n("ul",kf,[n("li",{class:r(["page-item",{disabled:1===h.currentPage}])},[n("a",{class:"page-link",href:"#",onClick:l[0]||(l[0]=o((e=>h.goToPage(h.currentPage-1)),["prevent"]))},"Previous")],2),(e(!0),t(i,null,a(h.totalPages,(i=>(e(),t("li",{class:r(["page-item",{active:h.currentPage===i}]),key:i},[n("a",{class:"page-link",href:"#",onClick:o((e=>h.goToPage(i)),["prevent"])},s(i),9,Of)],2)))),128)),n("li",{class:r(["page-item",{disabled:h.currentPage===h.totalPages}])},[n("a",{class:"page-link",href:"#",onClick:l[1]||(l[1]=o((e=>h.goToPage(h.currentPage+1)),["prevent"]))},"Next")],2)])])):u("v-if",!0)},xf.__file="extensions/modules/gallery/src/CustomPagination.vue";var Mf={components:{CustomPagination:xf},data(){return{progress:100,showNotification:!1,notificationMessage:"",notificationType:"",loading:!0,images:[],tableTitle:"Loading tableTitle",title:"Loading title",nurl:"",imageName:"",wasabiIds:[],currentPage:1,imagesPerPage:50,totalImages:0,draggedItem:null,thumbnails:[],bearer:"HThT88wNbJ",id:this.$route.query.id,loc:this.$route.query.loc}},async created(){this.fetchImages()},computed:{paginatedImages(){const e=(this.currentPage-1)*this.imagesPerPage,t=e+this.imagesPerPage;return this.images.slice(e,t)},sortedThumbnails(){return this.thumbnails.slice().sort(((e,t)=>{const n=e.file.name.toLowerCase(),r=t.file.name.toLowerCase();return n<r?-1:n>r?1:0}))}},methods:{async fetchImages(){if(this.id)try{let e=(await Ge.get(`/items/${this.loc}?filter={"rid":${this.id}}&fields=wasabi,rid,title,eventName,nurl,imageName`)).data.data[0];if(e.hasOwnProperty("eventName")&&(e.title=e.eventName,delete e.eventName),this.title=e.title,this.nurl=e.nurl,this.imageName=e.imageName,this.tableTitle=this.loc?.replace(/_/g," ").replace(/\b\w/g,(e=>e.toUpperCase())),0!==e.wasabi?.length&&void 0!==e.wasabi?.length){const t=await Ge.get("/items/wasabi",{params:{filter:{id:{_in:e.wasabi?.replace(/\[|\]/g,"")}},fields:"id,image",limit:1e3}});this.images=t.data.data,this.images.sort(((t,n)=>e.wasabi.indexOf(t.id)-e.wasabi.indexOf(n.id))),this.totalImages=t.data.data.length}}catch(e){console.error("Error fetching images:",e)}finally{this.loading=!1}},handlePagination(e){this.currentPage=e},async updateWasabiOrder(e){const t={method:"patch",url:`/items/${this.loc}/${this.id}`,headers:{"Content-Type":"application/json",Authorization:"Bearer "+this.bearer},data:{wasabi:JSON.stringify(e)}};await Ge(t).then((function(e){})).catch((function(e){console.log(e)}))},onDragStart(e){this.draggedItem=e.target.closest(".image-item"),e.dataTransfer.effectAllowed="move",e.dataTransfer.setData("text/plain",this.draggedItem.dataset.index)},onDrop(e){e.preventDefault();const t=e.target.closest(".image-item");if(t&&this.draggedItem!==t){const e=parseInt(this.draggedItem.dataset.index),n=parseInt(t.dataset.index),r=this.images.splice(e,1)[0];this.images.splice(n,0,r),this.onDragEnd({fromIndex:e,toIndex:n})}},onDragEnd({fromIndex:e,toIndex:t}){const n=this.images.map((e=>e.id));this.updateWasabiOrder(n)},goBack(){this.$router.go(-1)},async onImageUpload(e){const t=e.target.files;this.thumbnails=[];for(const e of t){const t=await this.createThumbnail(e);this.thumbnails.push({url:t,file:e})}},createThumbnail:e=>new Promise(((t,n)=>{const r=new FileReader;r.onload=e=>{const n=new Image;n.src=e.target.result,n.onload=()=>{const e=document.createElement("canvas"),r=e.getContext("2d"),o=300/n.width;e.width=300,e.height=n.height*o,r.drawImage(n,0,0,e.width,e.height);const i=e.toDataURL();t(i)}},r.onerror=e=>{n(e)},r.readAsDataURL(e)})),async uploadImages(){if(0!==this.thumbnails.length)try{this.showNotificationMsg("primary-btn","Connecting to wasabi server");const e=new Pf({region:"us-east-1",credentials:{accessKeyId:"1WSIWHRURHJVMWHLU1FE",secretAccessKey:"WTpchaqGTymsFA5JG3zKhIJRrS5P0hHThT88wNbJ"},endpoint:"https://s3.wasabisys.com"});let t=await async function(e,t){let n=["img.ragalahari.com","media.ragalahari.com","starzone.ragalahari.com","imgcdn.ragalahari.com","www1.ragalahari.com","imgcdn.raagalahari.com","img.raagalahari.com","timg.raagalahari.com","szcdn.ragalahari.com","www.ragalahari.com","szcdn1.ragalahari.com"],r=(await Ge.get(`/items/${t}?filter={"rid":${e}}&fields=rid,permaLink,imageName`)).data.data[0];if(r)return await async function(e){let r="movies_poster"===t?"fileLocation":"path",o=(await Ge.get(`/items/${t}?filter={"rid":${e.rid}}&fields=${r}`)).data.data[0];if(o.hasOwnProperty("fileLocation")&&(o.path=o.fileLocation,delete o.fileLocation),o?.path){let t=o.path.replace(/http:\/\//gi,"").split("/"),r=t[0]==n[0]||t[0]==n[3]||t[0]==n[4]||t[0]==n[5]||t[0]==n[6]||t[0]==n[7]?n[0]:t[0]==n[1]||t[0]==n[9]?n[1]:t[0]==n[2]||t[0]==n[8]||t[0]==n[10]?n[2]:"noFile",i=n.concat("http:///").concat("Http:///"),a=o.path;return"http://www.ragalahari.com/images/"==a?a="gallery/"+e.imageName+"/":i.map((e=>{a=a.replace(e,"")})),"noFile"!=r?{Bucket:r,Prefix:"/"===a.slice(-1)?a:a+"/",imagePath:o.path.endsWith("/")?o.path:o.path+"/"}:{}}}(r)}(this.id,this.loc);this.progress=0;let n=[];const r=this.thumbnails.map((async(r,o)=>{const i=r.file.name.split(".").pop(),a=r.file.name.replace(new RegExp(`.${i}$`),""),s=`${t.Prefix}${a}.${i}`,u=`${t.Prefix}${a}t.${i}`,c=await new Promise(((e,t)=>{const n=new FileReader;n.onload=()=>e(n.result),n.onerror=e=>t(e),n.readAsArrayBuffer(r.file)})),l=await(async()=>(await fetch(r.url)).blob())(),d=await new Promise(((e,t)=>{const n=new FileReader;n.onload=()=>e(n.result),n.onerror=e=>t(e),n.readAsArrayBuffer(l)})),f={Bucket:t.Bucket,Key:s,Body:new Uint8Array(c),ContentType:r.file.type},p={Bucket:t.Bucket,Key:u,Body:new Uint8Array(d),ContentType:r.file.type};let h=this.thumbnails.length;const g=[new ho(f),new ho(p)];for(const t of g)await e.send(t),this.showNotificationMsg("primary-btn",`Uploading: ${o+1}/${h} =>  ${a}`);let m=parseInt(r.file.name.match(/\d+/g).pop()),y=this.nurl+`/image${m||1}`,b=t.imagePath+r.file.name;let v=(await Ge.get(`/items/wasabi?filter={"url":"${y}"}`)).data.data;0===v.length?await Ge({method:"post",url:"/items/wasabi",headers:{"Content-Type":"application/json",Authorization:"Bearer "+this.bearer},data:{url:y,image:b}}).then((async e=>{let t=await Ge.get("/items/wasabi?limit=1&sort=-id");t=t.data.data[0].id,n.push(t)})).catch((e=>{console.error(e)})):n.push(v[0].id),this.progress=(o+1)/h*100}));await Promise.all(r),n=n.filter(((e,t)=>n.indexOf(e)===t));const o=await Ge.get(`/items/${this.loc}?filter={"rid":${this.id}}&fields=wasabi`);let i=JSON.parse(o.data.data[0].wasabi),a=i.concat(n.filter((e=>!i.includes(e))));await this.updateWasabiOrder(a),this.showNotificationMsg("success-btn","Images and thumbnails uploaded successfully!");document.getElementById("file-input").value="",this.thumbnails=[],this.progress=100,this.fetchImages()}catch(e){console.error("Error uploading images:",e),this.showNotificationMsg("danger-btn","Failed to upload images. Please try again.")}},showNotificationMsg(e,t){this.showNotification=!0,this.notificationMessage=t,this.notificationType=e,"primary-btn"!==e&&setTimeout((()=>{this.hideNotification()}),3e3)},hideNotification(){this.showNotification=!1,this.notificationMessage="",this.notificationType=""},removeImage(e){this.thumbnails.splice(e,1)}}};const Nf={class:"header-bar"},If=["href"],Uf={class:"progress-bar",style:{width:"100%",height:"5px",background:"#18222f"}},jf={class:"gallery"},Lf={class:"buttons"},Df=["disabled"],Bf={class:"uploaded-thumbnails"},$f=["onClick"],Ff=["src"],Hf=n("div",{class:"thumbnail-remove"},"Remove",-1),zf={key:1,class:"loading"},qf={key:2},Vf={class:"image-list",ref:"imageList"},Gf=["data-index"],Wf=["src"];Cf("\n.gallery {\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t\talign-items: center;\n}\n.image-list {\n\t\tdisplay: grid;\n\t\tgrid-template-columns: repeat(5, 1fr);\n\t\tgap: 4px;\n\t\twidth: 100%;\n}\n.image-item {\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t\talign-items: center;\n}\n.image-item img {\n    width: 100%;\n    cursor: move;\n    max-width: 250px;\n    max-height: 300px;\n    object-fit: contain;\n}\n\t/* Add the header bar styles */\n.header-bar {\n\t\tdisplay: flex;\n\t\tjustify-content: space-between;\n\t\talign-items: center;\n\t\tbackground-color: #00c897;\n\t\tcolor: white;\n\t\tpadding: 10px 16px;\n}\n.header-bar h2 {\n\t\tmargin: 0;\n}\n.header-bar button {\n\t\tbackground-color: transparent;\n\t\tborder: none;\n\t\tcolor: white;\n\t\tcursor: pointer;\n\t\tfont-size: 16px;\n}\n.header-bar button:hover {\n\t\ttext-decoration: underline;\n}\n.uploaded-thumbnails {\n\t\tdisplay: flex;\n\t\tflex-wrap: wrap;\n\t\tgap: 4px;\n\t\tmargin: 8px 0;\n}\n.buttons {\n\t\tdisplay: flex;\n\t\tjustify-content: center;\n\t\tgap: 16px;\n\t\tmargin: 16px 0;\n}\n.select-images-btn,\n\t.upload-images-btn {\n\t\tbackground-color: #00c897;\n\t\tborder: none;\n\t\tcolor: white;\n\t\tcursor: pointer;\n\t\tfont-size: 16px;\n\t\tpadding: 8px 16px;\n\t\ttransition: background-color 0.2s;\n}\n.select-images-btn:hover,\n\t.upload-images-btn:hover {\n\t\tbackground-color: #008e68;\n}\n.upload-images-btn:disabled {\n\t\tbackground-color: #8e8e8e;\n\t\tcursor: not-allowed;\n}\n.upload-images-btn:disabled:hover {\n\t\tbackground-color: #8e8e8e;\n}\n.thumbnail-container {\n\t\tposition: relative;\n\t\twidth: 100px;\n\t\theight: auto;\n}\n.thumbnail {\n\t\twidth: 100%;\n\t\theight: auto;\n\t\tobject-fit: cover;\n}\n.thumbnail-remove {\n\t\tposition: absolute;\n\t\tbottom: 0;\n\t\tleft: 0;\n\t\twidth: 100%;\n\t\tbackground-color: rgba(0, 0, 0, 0.6);\n\t\tcolor: white;\n\t\tfont-size: 12px;\n\t\ttext-align: center;\n\t\tpadding: 2px 0;\n\t\tcursor: pointer;\n\t\tdisplay: none;\n}\n.thumbnail-container:hover .thumbnail-remove {\n\t\tdisplay: block;\n}\n.notification {\n    position: fixed;\n    top: 10px;\n    right: 10px;\n    padding: 10px;\n    border-radius: 4px;\n    font-weight: bold;\n    z-index:99\n}\n.primary-btn {\n    background-color: #000000;\n    color: #fff;\n}\n.success-btn {\n    background-color: #009f29;\n    color: #fff;\n}\n.danger-btn {\n    background-color: #d83737;\n    color: #fff;\n}\n",{}),Mf.render=function(h,g,m,y,b,v){const w=c("custom-pagination"),S=c("private-view");return e(),t(i,null,[n("header",null,[n("div",Nf,[n("h2",null,"Images from "+s(b.tableTitle),1),n("a",{href:`/admin/content/${b.loc}/${b.id}`},"< Back",8,If),u('\t\t\t<a @click="goBack" style="cursor: pointer">&lt; Back</a>')]),n("div",Uf,[n("div",{style:l({width:b.progress+"%",height:"5px",background:"#00c897"})},null,4)])]),d(S,{title:b.title},{default:f((()=>[n("div",jf,[n("input",{id:"file-input",type:"file",ref:"imageUpload",multiple:"",accept:"image/*",onChange:g[0]||(g[0]=(...e)=>v.onImageUpload&&v.onImageUpload(...e)),style:{display:"none"}},null,544),n("div",Lf,[n("button",{class:"select-images-btn",onClick:g[1]||(g[1]=e=>h.$refs.imageUpload.click())},"Select Images"),n("button",{class:"upload-images-btn",onClick:g[2]||(g[2]=(...e)=>v.uploadImages&&v.uploadImages(...e)),disabled:0===b.thumbnails.length},"Upload Images",8,Df)]),b.showNotification?(e(),t("div",{key:0,class:r(["notification",b.notificationType])},s(b.notificationMessage),3)):u("v-if",!0),n("div",Bf,[(e(!0),t(i,null,a(v.sortedThumbnails,((r,o)=>(e(),t("div",{key:o,class:"thumbnail-container",onClick:e=>v.removeImage(o)},[n("img",{src:r.url,class:"thumbnail"},null,8,Ff),Hf],8,$f)))),128))]),b.loading?(e(),t("div",zf,"Loading...")):(e(),t("div",qf,[n("div",Vf,[(e(!0),t(i,null,a(v.paginatedImages,((r,i)=>(e(),t("div",{key:r.image,class:"image-item","data-index":(b.currentPage-1)*b.imagesPerPage+i,draggable:"true",onDragstart:g[3]||(g[3]=(...e)=>v.onDragStart&&v.onDragStart(...e)),onDragover:g[4]||(g[4]=o((()=>{}),["prevent"])),onDrop:g[5]||(g[5]=(...e)=>v.onDrop&&v.onDrop(...e))},[n("img",{src:r.image.replace(".jpg","t.jpg")},null,8,Wf)],40,Gf)))),128))],512),b.totalImages>b.imagesPerPage?(e(),p(w,{key:0,total:b.totalImages,limit:b.imagesPerPage,page:b.currentPage,onPagination:v.handlePagination},null,8,["total","limit","page","onPagination"])):u("v-if",!0)]))])])),_:1},8,["title"])],64)},Mf.__file="extensions/modules/gallery/src/module.vue";var Kf={id:"gallery",name:"Gallery",icon:"gallery",routes:[{path:"",component:Mf}]};export{Kf as default};
